<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE NondecreasingIndentation #-}</span><span>
</span><span id="line-2"></span><span>
</span><span id="line-3"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Agda.TypeChecking.Rules.Data</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-4"></span><span>
</span><span id="line-5"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Prelude</span></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">null</span></span><span class="hs-special">)</span><span>
</span><span id="line-6"></span><span>
</span><span id="line-7"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad</span></span><span>
</span><span id="line-8"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Except</span></span><span>
</span><span id="line-9"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Trans</span></span><span>
</span><span id="line-10"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Trans.Maybe</span></span><span>
</span><span id="line-11"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Exception</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">E</span></span><span>
</span><span id="line-12"></span><span>
</span><span id="line-13"></span><span class="hs-comment">-- Control.Monad.Fail import is redundant since GHC 8.8.1</span><span>
</span><span id="line-14"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Fail</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">MonadFail</span></span><span class="hs-special">)</span><span>
</span><span id="line-15"></span><span>
</span><span id="line-16"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Set</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Set</span></span><span class="hs-special">)</span><span>
</span><span id="line-17"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Set</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Set</span></span><span>
</span><span id="line-18"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.List</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">nub</span></span><span class="hs-special">)</span><span>
</span><span id="line-19"></span><span>
</span><span id="line-20"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.Interaction.Options.Base.html"><span class="hs-identifier">Agda.Interaction.Options.Base</span></a></span><span>
</span><span id="line-21"></span><span>
</span><span id="line-22"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Agda.Syntax.Abstract.html"><span class="hs-identifier">Agda.Syntax.Abstract</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">A</span></span><span>
</span><span id="line-23"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Agda.Syntax.Concrete.Name.html"><span class="hs-identifier">Agda.Syntax.Concrete.Name</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">C</span></span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.Syntax.Abstract.Views.html"><span class="hs-identifier">Agda.Syntax.Abstract.Views</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Abstract.Views.html#deepUnscope"><span class="hs-identifier">deepUnscope</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html"><span class="hs-identifier">Agda.Syntax.Internal</span></a></span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.Pattern.html"><span class="hs-identifier">Agda.Syntax.Internal.Pattern</span></a></span><span>
</span><span id="line-27"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.MetaVars.html"><span class="hs-identifier">Agda.Syntax.Internal.MetaVars</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Internal.MetaVars.html#unblockOnAnyMetaIn"><span class="hs-identifier">unblockOnAnyMetaIn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.Syntax.Common.html"><span class="hs-identifier">Agda.Syntax.Common</span></a></span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html"><span class="hs-identifier">Agda.Syntax.Position</span></a></span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Agda.Syntax.Info.html"><span class="hs-identifier">Agda.Syntax.Info</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Info</span></span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.Syntax.Scope.Monad.html"><span class="hs-identifier">Agda.Syntax.Scope.Monad</span></a></span><span>
</span><span id="line-32"></span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span> </span><span class="hs-pragma">{-# SOURCE</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span class="annot"><a href="Agda.TypeChecking.CompiledClause.Compile.html"><span class="hs-identifier">Agda.TypeChecking.CompiledClause.Compile</span></a></span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.html"><span class="hs-identifier">Agda.TypeChecking.Monad</span></a></span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Conversion.html"><span class="hs-identifier">Agda.TypeChecking.Conversion</span></a></span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Substitute.html"><span class="hs-identifier">Agda.TypeChecking.Substitute</span></a></span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Generalize.html"><span class="hs-identifier">Agda.TypeChecking.Generalize</span></a></span><span>
</span><span id="line-38"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Implicit.html"><span class="hs-identifier">Agda.TypeChecking.Implicit</span></a></span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.TypeChecking.MetaVars.html"><span class="hs-identifier">Agda.TypeChecking.MetaVars</span></a></span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Names.html"><span class="hs-identifier">Agda.TypeChecking.Names</span></a></span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Reduce.html"><span class="hs-identifier">Agda.TypeChecking.Reduce</span></a></span><span>
</span><span id="line-42"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Positivity.Occurrence.html"><span class="hs-identifier">Agda.TypeChecking.Positivity.Occurrence</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.TypeChecking.Positivity.Occurrence.html#Occurrence"><span class="hs-identifier">Occurrence</span></a></span><span class="hs-special">(</span><span class="annot"><a href="Agda.TypeChecking.Positivity.Occurrence.html#StrictPos"><span class="hs-identifier">StrictPos</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-43"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Pretty.html"><span class="hs-identifier">Agda.TypeChecking.Pretty</span></a></span><span>
</span><span id="line-44"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Primitive.html"><span class="hs-identifier">Agda.TypeChecking.Primitive</span></a></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.TypeChecking.Primitive.html#Nat"><span class="hs-identifier">Nat</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-45"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Free.html"><span class="hs-identifier">Agda.TypeChecking.Free</span></a></span><span>
</span><span id="line-46"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Forcing.html"><span class="hs-identifier">Agda.TypeChecking.Forcing</span></a></span><span>
</span><span id="line-47"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Irrelevance.html"><span class="hs-identifier">Agda.TypeChecking.Irrelevance</span></a></span><span>
</span><span id="line-48"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Telescope.html"><span class="hs-identifier">Agda.TypeChecking.Telescope</span></a></span><span>
</span><span id="line-49"></span><span>
</span><span id="line-50"></span><span class="hs-keyword">import</span><span> </span><span class="hs-pragma">{-# SOURCE</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Rules.Term.html"><span class="hs-identifier">Agda.TypeChecking.Rules.Term</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Rules.Term.html#isType_"><span class="hs-identifier">isType_</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-51"></span><span>
</span><span id="line-52"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.Utils.Either.html"><span class="hs-identifier">Agda.Utils.Either</span></a></span><span>
</span><span id="line-53"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.Utils.List.html"><span class="hs-identifier">Agda.Utils.List</span></a></span><span>
</span><span id="line-54"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.Utils.List1.html"><span class="hs-identifier">Agda.Utils.List1</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Utils.List1.html#List1"><span class="hs-identifier">List1</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-keyword">pattern</span><span> </span><span class="annot"><span class="hs-operator">(:|)</span></span><span class="hs-special">)</span><span>
</span><span id="line-55"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Agda.Utils.List1.html"><span class="hs-identifier">Agda.Utils.List1</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">List1</span></span><span>
</span><span id="line-56"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.Utils.Maybe.html"><span class="hs-identifier">Agda.Utils.Maybe</span></a></span><span>
</span><span id="line-57"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.Utils.Monad.html"><span class="hs-identifier">Agda.Utils.Monad</span></a></span><span>
</span><span id="line-58"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.Utils.Null.html"><span class="hs-identifier">Agda.Utils.Null</span></a></span><span>
</span><span id="line-59"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Agda.Utils.Pretty.html"><span class="hs-identifier">Agda.Utils.Pretty</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">P</span></span><span>
</span><span id="line-60"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.Utils.Size.html"><span class="hs-identifier">Agda.Utils.Size</span></a></span><span>
</span><span id="line-61"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.Utils.WithDefault.html"><span class="hs-identifier">Agda.Utils.WithDefault</span></a></span><span>
</span><span id="line-62"></span><span>
</span><span id="line-63"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.Utils.Impossible.html"><span class="hs-identifier">Agda.Utils.Impossible</span></a></span><span>
</span><span id="line-64"></span><span>
</span><span id="line-65"></span><span class="hs-comment">---------------------------------------------------------------------------</span><span>
</span><span id="line-66"></span><span class="hs-comment">-- * Datatypes</span><span>
</span><span id="line-67"></span><span class="hs-comment">---------------------------------------------------------------------------</span><span>
</span><span id="line-68"></span><span>
</span><span id="line-69"></span><span class="hs-comment">-- | Type check a datatype definition. Assumes that the type has already been</span><span>
</span><span id="line-70"></span><span class="hs-comment">--   checked.</span><span>
</span><span id="line-71"></span><span class="annot"><a href="Agda.TypeChecking.Rules.Data.html#checkDataDef"><span class="hs-identifier hs-type">checkDataDef</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Abstract.html#DefInfo"><span class="hs-identifier hs-type">A.DefInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Abstract.Name.html#QName"><span class="hs-identifier hs-type">QName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Common.html#UniverseCheck"><span class="hs-identifier hs-type">UniverseCheck</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Abstract.html#DataDefParams"><span class="hs-identifier hs-type">A.DataDefParams</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Agda.Syntax.Abstract.html#Constructor"><span class="hs-identifier hs-type">A.Constructor</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#TCM"><span class="hs-identifier hs-type">TCM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-72"></span><span id="checkDataDef"><span class="annot"><span class="annottext">checkDataDef :: DefInfo
-&gt; QName
-&gt; UniverseCheck
-&gt; DataDefParams
-&gt; [Constructor]
-&gt; TCM ()
</span><a href="Agda.TypeChecking.Rules.Data.html#checkDataDef"><span class="hs-identifier hs-var hs-var">checkDataDef</span></a></span></span><span> </span><span id="local-6989586621681037116"><span class="annot"><span class="annottext">DefInfo
</span><a href="#local-6989586621681037116"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621681037115"><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681037115"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span id="local-6989586621681037114"><span class="annot"><span class="annottext">UniverseCheck
</span><a href="#local-6989586621681037114"><span class="hs-identifier hs-var">uc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Abstract.html#DataDefParams"><span class="hs-identifier hs-type">A.DataDefParams</span></a></span><span> </span><span id="local-6989586621681037112"><span class="annot"><span class="annottext">Set Name
</span><a href="#local-6989586621681037112"><span class="hs-identifier hs-var">gpars</span></a></span></span><span> </span><span id="local-6989586621681037111"><span class="annot"><span class="annottext">[LamBinding]
</span><a href="#local-6989586621681037111"><span class="hs-identifier hs-var">ps</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681037110"><span class="annot"><span class="annottext">[Constructor]
</span><a href="#local-6989586621681037110"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-73"></span><span>    </span><span class="annot"><span class="annottext">Call -&gt; TCM () -&gt; TCM ()
forall (m :: * -&gt; *) a. MonadTrace m =&gt; Call -&gt; m a -&gt; m a
</span><a href="Agda.TypeChecking.Monad.Trace.html#traceCall"><span class="hs-identifier hs-var">traceCall</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Range -&gt; QName -&gt; [LamBinding] -&gt; [Constructor] -&gt; Call
</span><a href="Agda.TypeChecking.Monad.Base.html#CheckDataDef"><span class="hs-identifier hs-var">CheckDataDef</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">QName -&gt; Range
forall a. HasRange a =&gt; a -&gt; Range
</span><a href="Agda.Syntax.Position.html#getRange"><span class="hs-identifier hs-var">getRange</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681037115"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681037115"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">[LamBinding]
</span><a href="#local-6989586621681037111"><span class="hs-identifier hs-var">ps</span></a></span><span> </span><span class="annot"><span class="annottext">[Constructor]
</span><a href="#local-6989586621681037110"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(TCM () -&gt; TCM ()) -&gt; TCM () -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-74"></span><span>
</span><span id="line-75"></span><span>        </span><span class="hs-comment">-- Add the datatype module</span><span>
</span><span id="line-76"></span><span>        </span><span class="annot"><span class="annottext">ModuleName -&gt; TCM ()
</span><a href="Agda.TypeChecking.Monad.Signature.html#addSection"><span class="hs-identifier hs-var">addSection</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">QName -&gt; ModuleName
</span><a href="Agda.Syntax.Abstract.Name.html#qnameToMName"><span class="hs-identifier hs-var">qnameToMName</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681037115"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-77"></span><span>
</span><span id="line-78"></span><span>        </span><span class="hs-comment">-- Look up the type of the datatype.</span><span>
</span><span id="line-79"></span><span>        </span><span id="local-6989586621681037104"><span class="annot"><span class="annottext">Definition
</span><a href="#local-6989586621681037104"><span class="hs-identifier hs-var">def</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Definition -&gt; TCMT IO Definition
forall (m :: * -&gt; *).
(Functor m, HasConstInfo m, HasOptions m, ReadTCState m,
 MonadTCEnv m, MonadDebug m) =&gt;
Definition -&gt; m Definition
</span><a href="Agda.TypeChecking.Monad.Signature.html#instantiateDef"><span class="hs-identifier hs-var">instantiateDef</span></a></span><span> </span><span class="annot"><span class="annottext">(Definition -&gt; TCMT IO Definition)
-&gt; TCMT IO Definition -&gt; TCMT IO Definition
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span> </span><span class="annot"><span class="annottext">QName -&gt; TCMT IO Definition
forall (m :: * -&gt; *). HasConstInfo m =&gt; QName -&gt; m Definition
</span><a href="Agda.TypeChecking.Monad.Signature.html#getConstInfo"><span class="hs-identifier hs-var">getConstInfo</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681037115"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-80"></span><span>        </span><span id="local-6989586621681037100"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681037100"><span class="hs-identifier hs-var">t</span></a></span></span><span>   </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Type -&gt; TCMT IO Type
forall a (m :: * -&gt; *).
(InstantiateFull a, MonadReduce m) =&gt;
a -&gt; m a
</span><a href="Agda.TypeChecking.Reduce.html#instantiateFull"><span class="hs-identifier hs-var">instantiateFull</span></a></span><span> </span><span class="annot"><span class="annottext">(Type -&gt; TCMT IO Type) -&gt; Type -&gt; TCMT IO Type
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Definition -&gt; Type
</span><a href="Agda.TypeChecking.Monad.Base.html#defType"><span class="hs-identifier hs-var">defType</span></a></span><span> </span><span class="annot"><span class="annottext">Definition
</span><a href="#local-6989586621681037104"><span class="hs-identifier hs-var">def</span></a></span><span>
</span><span id="line-81"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681037097"><span class="annot"><span class="annottext">npars :: Nat
</span><a href="#local-6989586621681037097"><span class="hs-identifier hs-var hs-var">npars</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-82"></span><span>              </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Definition -&gt; Defn
</span><a href="Agda.TypeChecking.Monad.Base.html#theDef"><span class="hs-identifier hs-var">theDef</span></a></span><span> </span><span class="annot"><span class="annottext">Definition
</span><a href="#local-6989586621681037104"><span class="hs-identifier hs-var">def</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-83"></span><span>                </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#DataOrRecSig"><span class="hs-identifier hs-type">DataOrRecSig</span></a></span><span> </span><span id="local-6989586621681037094"><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681037094"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681037094"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-84"></span><span>                </span><span class="annot"><span class="annottext">Defn
</span><span class="hs-identifier">_</span></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Nat
forall a. HasCallStack =&gt; a
</span><a href="Agda.Utils.Impossible.html#__IMPOSSIBLE__"><span class="hs-identifier hs-var">__IMPOSSIBLE__</span></a></span><span>
</span><span id="line-85"></span><span>
</span><span id="line-86"></span><span>        </span><span class="hs-comment">-- Make sure the shape of the type is visible</span><span>
</span><span id="line-87"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681037092"><span class="annot"><span class="annottext">unTelV :: TelV Type -&gt; Type
</span><a href="#local-6989586621681037092"><span class="hs-identifier hs-var hs-var">unTelV</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.TypeChecking.Substitute.html#TelV"><span class="hs-identifier hs-type">TelV</span></a></span><span> </span><span id="local-6989586621681037090"><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681037090"><span class="hs-identifier hs-var">tel</span></a></span></span><span> </span><span id="local-6989586621681037089"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681037089"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Type -&gt; Type
</span><a href="Agda.TypeChecking.Substitute.html#telePi"><span class="hs-identifier hs-var">telePi</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681037090"><span class="hs-identifier hs-var">tel</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681037089"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-88"></span><span>        </span><span id="local-6989586621681037087"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681037087"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TelV Type -&gt; Type
</span><a href="#local-6989586621681037092"><span class="hs-identifier hs-var">unTelV</span></a></span><span> </span><span class="annot"><span class="annottext">(TelV Type -&gt; Type) -&gt; TCMT IO (TelV Type) -&gt; TCMT IO Type
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Type -&gt; TCMT IO (TelV Type)
forall (m :: * -&gt; *).
(MonadReduce m, MonadAddContext m) =&gt;
Type -&gt; m (TelV Type)
</span><a href="Agda.TypeChecking.Telescope.html#telView"><span class="hs-identifier hs-var">telView</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681037100"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-89"></span><span>
</span><span id="line-90"></span><span>        </span><span id="local-6989586621681037084"><span class="annot"><span class="annottext">[Maybe Name]
</span><a href="#local-6989586621681037084"><span class="hs-identifier hs-var">parNames</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Set Name -&gt; QName -&gt; TCM [Maybe Name]
</span><a href="Agda.TypeChecking.Rules.Data.html#getGeneralizedParameters"><span class="hs-identifier hs-var">getGeneralizedParameters</span></a></span><span> </span><span class="annot"><span class="annottext">Set Name
</span><a href="#local-6989586621681037112"><span class="hs-identifier hs-var">gpars</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681037115"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-91"></span><span>
</span><span id="line-92"></span><span>        </span><span class="hs-comment">-- Top level free vars</span><span>
</span><span id="line-93"></span><span>        </span><span id="local-6989586621681037082"><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681037082"><span class="hs-identifier hs-var">freeVars</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TCMT IO Nat
forall (m :: * -&gt; *). (Applicative m, MonadTCEnv m) =&gt; m Nat
</span><a href="Agda.TypeChecking.Monad.Context.html#getContextSize"><span class="hs-identifier hs-var">getContextSize</span></a></span><span>
</span><span id="line-94"></span><span>
</span><span id="line-95"></span><span>        </span><span class="hs-comment">-- The parameters are in scope when checking the constructors.</span><span>
</span><span id="line-96"></span><span>        </span><span id="local-6989586621681037080"><span class="annot"><span class="annottext">Defn
</span><a href="#local-6989586621681037080"><span class="hs-identifier hs-var">dataDef</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Maybe Name]
-&gt; Type -&gt; (Tele (Dom Type) -&gt; Type -&gt; TCM Defn) -&gt; TCM Defn
forall a.
[Maybe Name] -&gt; Type -&gt; (Tele (Dom Type) -&gt; Type -&gt; TCM a) -&gt; TCM a
</span><a href="Agda.TypeChecking.Rules.Data.html#bindGeneralizedParameters"><span class="hs-identifier hs-var">bindGeneralizedParameters</span></a></span><span> </span><span class="annot"><span class="annottext">[Maybe Name]
</span><a href="#local-6989586621681037084"><span class="hs-identifier hs-var">parNames</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681037087"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">((Tele (Dom Type) -&gt; Type -&gt; TCM Defn) -&gt; TCM Defn)
-&gt; (Tele (Dom Type) -&gt; Type -&gt; TCM Defn) -&gt; TCM Defn
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681037078"><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681037078"><span class="hs-identifier hs-var">gtel</span></a></span></span><span> </span><span id="local-6989586621681037077"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681037077"><span class="hs-identifier hs-var">t0</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-97"></span><span>                   </span><span class="annot"><span class="annottext">Nat
-&gt; [LamBinding]
-&gt; Type
-&gt; (Tele (Dom Type) -&gt; Type -&gt; TCM Defn)
-&gt; TCM Defn
forall a.
Nat
-&gt; [LamBinding]
-&gt; Type
-&gt; (Tele (Dom Type) -&gt; Type -&gt; TCM a)
-&gt; TCM a
</span><a href="Agda.TypeChecking.Rules.Data.html#bindParameters"><span class="hs-identifier hs-var">bindParameters</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681037097"><span class="hs-identifier hs-var">npars</span></a></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Nat -&gt; Nat
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">[Maybe Name] -&gt; Nat
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Nat
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[Maybe Name]
</span><a href="#local-6989586621681037084"><span class="hs-identifier hs-var">parNames</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LamBinding]
</span><a href="#local-6989586621681037111"><span class="hs-identifier hs-var">ps</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681037077"><span class="hs-identifier hs-var">t0</span></a></span><span> </span><span class="annot"><span class="annottext">((Tele (Dom Type) -&gt; Type -&gt; TCM Defn) -&gt; TCM Defn)
-&gt; (Tele (Dom Type) -&gt; Type -&gt; TCM Defn) -&gt; TCM Defn
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681037074"><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681037074"><span class="hs-identifier hs-var">ptel</span></a></span></span><span> </span><span id="local-6989586621681037073"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681037073"><span class="hs-identifier hs-var">t0</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-98"></span><span>
</span><span id="line-99"></span><span>            </span><span class="hs-comment">-- Parameters are always hidden and erased in constructors</span><span>
</span><span id="line-100"></span><span>            </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681037072"><span class="annot"><span class="annottext">tel :: Tele (Dom Type)
</span><a href="#local-6989586621681037072"><span class="hs-identifier hs-var hs-var">tel</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Tele (Dom Type) -&gt; Tele (Dom Type)
forall t. Abstract t =&gt; Tele (Dom Type) -&gt; t -&gt; t
</span><a href="Agda.TypeChecking.Substitute.Class.html#abstract"><span class="hs-identifier hs-var">abstract</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681037078"><span class="hs-identifier hs-var">gtel</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681037074"><span class="hs-identifier hs-var">ptel</span></a></span><span>
</span><span id="line-101"></span><span>                </span><span id="local-6989586621681037070"><span class="annot"><span class="annottext">tel' :: Tele (Dom Type)
</span><a href="#local-6989586621681037070"><span class="hs-identifier hs-var hs-var">tel'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Quantity -&gt; Dom Type -&gt; Dom Type
forall a. LensQuantity a =&gt; Quantity -&gt; a -&gt; a
</span><a href="Agda.Syntax.Common.html#applyQuantity"><span class="hs-identifier hs-var">applyQuantity</span></a></span><span> </span><span class="annot"><span class="annottext">Quantity
</span><a href="Agda.Syntax.Common.html#zeroQuantity"><span class="hs-identifier hs-var">zeroQuantity</span></a></span><span> </span><span class="annot"><span class="annottext">(Dom Type -&gt; Dom Type)
-&gt; (Dom Type -&gt; Dom Type) -&gt; Dom Type -&gt; Dom Type
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span>
</span><span id="line-102"></span><span>                       </span><span class="annot"><span class="annottext">Dom Type -&gt; Dom Type
forall a. (LensHiding a, LensRelevance a) =&gt; a -&gt; a
</span><a href="Agda.TypeChecking.Irrelevance.html#hideAndRelParams"><span class="hs-identifier hs-var">hideAndRelParams</span></a></span><span> </span><span class="annot"><span class="annottext">(Dom Type -&gt; Dom Type) -&gt; Tele (Dom Type) -&gt; Tele (Dom Type)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span>
</span><span id="line-103"></span><span>                       </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681037072"><span class="hs-identifier hs-var">tel</span></a></span><span>
</span><span id="line-104"></span><span>            </span><span class="hs-comment">-- let tel' = hideTel tel</span><span>
</span><span id="line-105"></span><span>
</span><span id="line-106"></span><span>            </span><span class="hs-comment">-- The type we get from bindParameters is &#920; -&gt; s where &#920; is the type of</span><span>
</span><span id="line-107"></span><span>            </span><span class="hs-comment">-- the indices. We count the number of indices and return s.</span><span>
</span><span id="line-108"></span><span>            </span><span class="hs-comment">-- We check that s is a sort.</span><span>
</span><span id="line-109"></span><span>            </span><span class="hs-keyword">let</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Substitute.html#TelV"><span class="hs-identifier hs-type">TelV</span></a></span><span> </span><span id="local-6989586621681037065"><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681037065"><span class="hs-identifier hs-var">ixTel</span></a></span></span><span> </span><span id="local-6989586621681037064"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681037064"><span class="hs-identifier hs-var">s0</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type -&gt; TelV Type
</span><a href="Agda.TypeChecking.Substitute.html#telView%27"><span class="hs-identifier hs-var">telView'</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681037073"><span class="hs-identifier hs-var">t0</span></a></span><span>
</span><span id="line-110"></span><span>                </span><span id="local-6989586621681037062"><span class="annot"><span class="annottext">nofIxs :: Nat
</span><a href="#local-6989586621681037062"><span class="hs-identifier hs-var hs-var">nofIxs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Nat
forall a. Sized a =&gt; a -&gt; Nat
</span><a href="Agda.Utils.Size.html#size"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681037065"><span class="hs-identifier hs-var">ixTel</span></a></span><span>
</span><span id="line-111"></span><span>
</span><span id="line-112"></span><span>            </span><span id="local-6989586621681037060"><span class="annot"><span class="annottext">Sort' Term
</span><a href="#local-6989586621681037060"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TCMT IO (Sort' Term) -&gt; TCMT IO (Sort' Term)
forall (m :: * -&gt; *) a.
(MonadTCEnv m, HasOptions m, MonadDebug m) =&gt;
m a -&gt; m a
</span><a href="Agda.TypeChecking.Irrelevance.html#workOnTypes"><span class="hs-identifier hs-var">workOnTypes</span></a></span><span> </span><span class="annot"><span class="annottext">(TCMT IO (Sort' Term) -&gt; TCMT IO (Sort' Term))
-&gt; TCMT IO (Sort' Term) -&gt; TCMT IO (Sort' Term)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-113"></span><span>              </span><span class="hs-comment">-- Andreas, 2016-11-02 issue #2290</span><span>
</span><span id="line-114"></span><span>              </span><span class="hs-comment">-- Trying to unify the sort with a fresh sort meta which is</span><span>
</span><span id="line-115"></span><span>              </span><span class="hs-comment">-- defined outside the index telescope is the most robust way</span><span>
</span><span id="line-116"></span><span>              </span><span class="hs-comment">-- to check independence of the indices.</span><span>
</span><span id="line-117"></span><span>              </span><span class="hs-comment">-- However, it might give the dreaded &quot;Cannot instantiate meta...&quot;</span><span>
</span><span id="line-118"></span><span>              </span><span class="hs-comment">-- error which we replace by a more understandable error</span><span>
</span><span id="line-119"></span><span>              </span><span class="hs-comment">-- in case of a suspected dependency.</span><span>
</span><span id="line-120"></span><span>              </span><span id="local-6989586621681037058"><span class="annot"><span class="annottext">Sort' Term
</span><a href="#local-6989586621681037058"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TCMT IO (Sort' Term)
</span><a href="Agda.TypeChecking.MetaVars.html#newSortMetaBelowInf"><span class="hs-identifier hs-var">newSortMetaBelowInf</span></a></span><span>
</span><span id="line-121"></span><span>              </span><span class="annot"><span class="annottext">TCM () -&gt; (TCErr -&gt; TCM ()) -&gt; TCM ()
forall a. TCM a -&gt; (TCErr -&gt; TCM a) -&gt; TCM a
</span><a href="Agda.TypeChecking.Monad.Base.html#catchError_"><span class="hs-identifier hs-var">catchError_</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; TCM () -&gt; TCM ()
forall b (m :: * -&gt; *) a.
(AddContext b, MonadAddContext m) =&gt;
b -&gt; m a -&gt; m a
</span><a href="Agda.TypeChecking.Monad.Context.html#addContext"><span class="hs-identifier hs-var">addContext</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681037065"><span class="hs-identifier hs-var">ixTel</span></a></span><span> </span><span class="annot"><span class="annottext">(TCM () -&gt; TCM ()) -&gt; TCM () -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Type -&gt; Type -&gt; TCM ()
forall (m :: * -&gt; *). MonadConversion m =&gt; Type -&gt; Type -&gt; m ()
</span><a href="Agda.TypeChecking.Conversion.html#equalType"><span class="hs-identifier hs-var">equalType</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681037064"><span class="hs-identifier hs-var">s0</span></a></span><span> </span><span class="annot"><span class="annottext">(Type -&gt; TCM ()) -&gt; Type -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Type -&gt; Type
forall a. Subst a =&gt; Nat -&gt; a -&gt; a
</span><a href="Agda.TypeChecking.Substitute.Class.html#raise"><span class="hs-identifier hs-var">raise</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681037062"><span class="hs-identifier hs-var">nofIxs</span></a></span><span> </span><span class="annot"><span class="annottext">(Type -&gt; Type) -&gt; Type -&gt; Type
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Sort' Term -&gt; Type
</span><a href="Agda.TypeChecking.Substitute.html#sort"><span class="hs-identifier hs-var">sort</span></a></span><span> </span><span class="annot"><span class="annottext">Sort' Term
</span><a href="#local-6989586621681037058"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((TCErr -&gt; TCM ()) -&gt; TCM ()) -&gt; (TCErr -&gt; TCM ()) -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681037051"><span class="annot"><span class="annottext">TCErr
</span><a href="#local-6989586621681037051"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-122"></span><span>                  </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">(Nat -&gt; Bool) -&gt; [Nat] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">any</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Nat -&gt; Type -&gt; Bool
forall a. Free a =&gt; Nat -&gt; a -&gt; Bool
</span><a href="Agda.TypeChecking.Free.html#freeIn"><span class="hs-operator hs-var">`freeIn`</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681037064"><span class="hs-identifier hs-var">s0</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">0</span></span><span class="hs-glyph">..</span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681037062"><span class="hs-identifier hs-var">nofIxs</span></a></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Nat -&gt; Nat
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">1</span></span><span class="hs-special">]</span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">TypeError -&gt; TCM ()
forall (m :: * -&gt; *) a.
(HasCallStack, MonadTCError m) =&gt;
TypeError -&gt; m a
</span><a href="Agda.TypeChecking.Monad.Base.html#typeError"><span class="hs-identifier hs-var">typeError</span></a></span><span> </span><span class="annot"><span class="annottext">(TypeError -&gt; TCM ()) -&gt; (Doc -&gt; TypeError) -&gt; Doc -&gt; TCM ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; TypeError
</span><a href="Agda.TypeChecking.Monad.Base.html#GenericDocError"><span class="hs-identifier hs-var">GenericDocError</span></a></span><span> </span><span class="annot"><span class="annottext">(Doc -&gt; TCM ()) -&gt; TCMT IO Doc -&gt; TCM ()
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span>
</span><span id="line-123"></span><span>                     </span><span class="annot"><span class="annottext">[TCMT IO Doc] -&gt; TCMT IO Doc
forall (m :: * -&gt; *) (t :: * -&gt; *).
(Applicative m, Foldable t) =&gt;
t (m Doc) -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#fsep"><span class="hs-identifier hs-var">fsep</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc
</span><span class="hs-string">&quot;The sort of&quot;</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; m Doc -&gt; m Doc -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">QName -&gt; TCMT IO Doc
forall a (m :: * -&gt; *). (PrettyTCM a, MonadPretty m) =&gt; a -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#prettyTCM"><span class="hs-identifier hs-var">prettyTCM</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681037115"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-124"></span><span>                          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc
</span><span class="hs-string">&quot;cannot depend on its indices in the type&quot;</span></span><span>
</span><span id="line-125"></span><span>                          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Type -&gt; TCMT IO Doc
forall a (m :: * -&gt; *). (PrettyTCM a, MonadPretty m) =&gt; a -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#prettyTCM"><span class="hs-identifier hs-var">prettyTCM</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681037073"><span class="hs-identifier hs-var">t0</span></a></span><span>
</span><span id="line-126"></span><span>                          </span><span class="hs-special">]</span><span>
</span><span id="line-127"></span><span>                  </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">TCErr -&gt; TCM ()
forall e (m :: * -&gt; *) a. MonadError e m =&gt; e -&gt; m a
</span><span class="hs-identifier hs-var">throwError</span></span><span> </span><span class="annot"><span class="annottext">TCErr
</span><a href="#local-6989586621681037051"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-128"></span><span>              </span><span class="annot"><span class="annottext">Sort' Term -&gt; TCMT IO (Sort' Term)
forall a (m :: * -&gt; *). (Reduce a, MonadReduce m) =&gt; a -&gt; m a
</span><a href="Agda.TypeChecking.Reduce.html#reduce"><span class="hs-identifier hs-var">reduce</span></a></span><span> </span><span class="annot"><span class="annottext">Sort' Term
</span><a href="#local-6989586621681037058"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-129"></span><span>
</span><span id="line-130"></span><span>            </span><span class="annot"><span class="annottext">ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; TCM ()
forall (m :: * -&gt; *).
MonadDebug m =&gt;
ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; m ()
</span><a href="Agda.TypeChecking.Monad.Debug.html#reportSDoc"><span class="hs-identifier hs-var">reportSDoc</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;tc.data.sort&quot;</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">20</span></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Doc -&gt; TCM ()) -&gt; TCMT IO Doc -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[TCMT IO Doc] -&gt; TCMT IO Doc
forall (m :: * -&gt; *) (t :: * -&gt; *).
(Applicative m, Foldable t) =&gt;
t (m Doc) -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#vcat"><span class="hs-identifier hs-var">vcat</span></a></span><span>
</span><span id="line-131"></span><span>              </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc
</span><span class="hs-string">&quot;checking datatype&quot;</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; m Doc -&gt; m Doc -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">QName -&gt; TCMT IO Doc
forall a (m :: * -&gt; *). (PrettyTCM a, MonadPretty m) =&gt; a -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#prettyTCM"><span class="hs-identifier hs-var">prettyTCM</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681037115"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-132"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Nat -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Functor m =&gt; Nat -&gt; m Doc -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#nest"><span class="hs-identifier hs-var">nest</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Doc -&gt; TCMT IO Doc) -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[TCMT IO Doc] -&gt; TCMT IO Doc
forall (m :: * -&gt; *) (t :: * -&gt; *).
(Applicative m, Foldable t) =&gt;
t (m Doc) -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#vcat"><span class="hs-identifier hs-var">vcat</span></a></span><span>
</span><span id="line-133"></span><span>                </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc
</span><span class="hs-string">&quot;type (parameters instantiated):   &quot;</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; m Doc -&gt; m Doc -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Type -&gt; TCMT IO Doc
forall a (m :: * -&gt; *). (PrettyTCM a, MonadPretty m) =&gt; a -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#prettyTCM"><span class="hs-identifier hs-var">prettyTCM</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681037073"><span class="hs-identifier hs-var">t0</span></a></span><span>
</span><span id="line-134"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc
</span><span class="hs-string">&quot;type (full):   &quot;</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; m Doc -&gt; m Doc -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Type -&gt; TCMT IO Doc
forall a (m :: * -&gt; *). (PrettyTCM a, MonadPretty m) =&gt; a -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#prettyTCM"><span class="hs-identifier hs-var">prettyTCM</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681037087"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-135"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc
</span><span class="hs-string">&quot;sort:   &quot;</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; m Doc -&gt; m Doc -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Sort' Term -&gt; TCMT IO Doc
forall a (m :: * -&gt; *). (PrettyTCM a, MonadPretty m) =&gt; a -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#prettyTCM"><span class="hs-identifier hs-var">prettyTCM</span></a></span><span> </span><span class="annot"><span class="annottext">Sort' Term
</span><a href="#local-6989586621681037060"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-136"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc
</span><span class="hs-string">&quot;indices:&quot;</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; m Doc -&gt; m Doc -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; ArgName -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Nat -&gt; ArgName
forall a. Show a =&gt; a -&gt; ArgName
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681037062"><span class="hs-identifier hs-var">nofIxs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-137"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc
</span><span class="hs-string">&quot;gparams:&quot;</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; m Doc -&gt; m Doc -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; ArgName -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Maybe Name] -&gt; ArgName
forall a. Show a =&gt; a -&gt; ArgName
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">[Maybe Name]
</span><a href="#local-6989586621681037084"><span class="hs-identifier hs-var">parNames</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-138"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc
</span><span class="hs-string">&quot;params: &quot;</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; m Doc -&gt; m Doc -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; ArgName -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[LamBinding] -&gt; ArgName
forall a. Show a =&gt; a -&gt; ArgName
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">([LamBinding] -&gt; ArgName) -&gt; [LamBinding] -&gt; ArgName
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[LamBinding] -&gt; [LamBinding]
forall a. ExprLike a =&gt; a -&gt; a
</span><a href="Agda.Syntax.Abstract.Views.html#deepUnscope"><span class="hs-identifier hs-var">deepUnscope</span></a></span><span> </span><span class="annot"><span class="annottext">[LamBinding]
</span><a href="#local-6989586621681037111"><span class="hs-identifier hs-var">ps</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-139"></span><span>                </span><span class="hs-special">]</span><span>
</span><span id="line-140"></span><span>              </span><span class="hs-special">]</span><span>
</span><span id="line-141"></span><span>            </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681037036"><span class="annot"><span class="annottext">npars :: Nat
</span><a href="#local-6989586621681037036"><span class="hs-identifier hs-var hs-var">npars</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Nat
forall a. Sized a =&gt; a -&gt; Nat
</span><a href="Agda.Utils.Size.html#size"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681037072"><span class="hs-identifier hs-var">tel</span></a></span><span>
</span><span id="line-142"></span><span>
</span><span id="line-143"></span><span>            </span><span class="hs-comment">-- Change the datatype from an axiom to a datatype with no constructors.</span><span>
</span><span id="line-144"></span><span>            </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681037035"><span class="annot"><span class="annottext">dataDef :: Defn
</span><a href="#local-6989586621681037035"><span class="hs-identifier hs-var hs-var">dataDef</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#Datatype"><span class="hs-identifier hs-type">Datatype</span></a></span><span>
</span><span id="line-145"></span><span>                  </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">dataPars :: Nat
</span><a href="Agda.TypeChecking.Monad.Base.html#dataPars"><span class="hs-identifier hs-var">dataPars</span></a></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681037036"><span class="hs-identifier hs-var">npars</span></a></span><span>
</span><span id="line-146"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dataIxs :: Nat
</span><a href="Agda.TypeChecking.Monad.Base.html#dataIxs"><span class="hs-identifier hs-var">dataIxs</span></a></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681037062"><span class="hs-identifier hs-var">nofIxs</span></a></span><span>
</span><span id="line-147"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dataClause :: Maybe Clause
</span><a href="Agda.TypeChecking.Monad.Base.html#dataClause"><span class="hs-identifier hs-var">dataClause</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Clause
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-148"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dataCons :: [QName]
</span><a href="Agda.TypeChecking.Monad.Base.html#dataCons"><span class="hs-identifier hs-var">dataCons</span></a></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>     </span><span class="hs-comment">-- Constructors are added later</span><span>
</span><span id="line-149"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dataSort :: Sort' Term
</span><a href="Agda.TypeChecking.Monad.Base.html#dataSort"><span class="hs-identifier hs-var">dataSort</span></a></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Sort' Term
</span><a href="#local-6989586621681037060"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-150"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dataAbstr :: IsAbstract
</span><a href="Agda.TypeChecking.Monad.Base.html#dataAbstr"><span class="hs-identifier hs-var">dataAbstr</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DefInfo -&gt; IsAbstract
forall t. DefInfo' t -&gt; IsAbstract
</span><a href="Agda.Syntax.Info.html#defAbstract"><span class="hs-identifier hs-var">Info.defAbstract</span></a></span><span> </span><span class="annot"><span class="annottext">DefInfo
</span><a href="#local-6989586621681037116"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-151"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dataMutual :: Maybe [QName]
</span><a href="Agda.TypeChecking.Monad.Base.html#dataMutual"><span class="hs-identifier hs-var">dataMutual</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe [QName]
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-152"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dataPathCons :: [QName]
</span><a href="Agda.TypeChecking.Monad.Base.html#dataPathCons"><span class="hs-identifier hs-var">dataPathCons</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>     </span><span class="hs-comment">-- Path constructors are added later</span><span>
</span><span id="line-153"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dataTranspIx :: Maybe QName
</span><a href="Agda.TypeChecking.Monad.Base.html#dataTranspIx"><span class="hs-identifier hs-var">dataTranspIx</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe QName
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-comment">-- Generated later if nofIxs &gt; 0.</span><span>
</span><span id="line-154"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dataTransp :: Maybe QName
</span><a href="Agda.TypeChecking.Monad.Base.html#dataTransp"><span class="hs-identifier hs-var">dataTransp</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe QName
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-comment">-- Added later</span><span>
</span><span id="line-155"></span><span>                  </span><span class="hs-special">}</span><span>
</span><span id="line-156"></span><span>
</span><span id="line-157"></span><span>            </span><span class="annot"><span class="annottext">Impossible -&gt; Nat -&gt; TCM () -&gt; TCM ()
forall (m :: * -&gt; *) a.
MonadAddContext m =&gt;
Impossible -&gt; Nat -&gt; m a -&gt; m a
</span><a href="Agda.TypeChecking.Monad.Context.html#escapeContext"><span class="hs-identifier hs-var">escapeContext</span></a></span><span> </span><span class="annot"><span class="annottext">Impossible
HasCallStack =&gt; Impossible
</span><a href="Agda.Utils.Impossible.html#impossible"><span class="hs-identifier hs-var">impossible</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681037036"><span class="hs-identifier hs-var">npars</span></a></span><span> </span><span class="annot"><span class="annottext">(TCM () -&gt; TCM ()) -&gt; TCM () -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-158"></span><span>              </span><span class="annot"><span class="annottext">QName -&gt; ArgInfo -&gt; QName -&gt; Type -&gt; Defn -&gt; TCM ()
</span><a href="Agda.TypeChecking.Monad.Signature.html#addConstant%27"><span class="hs-identifier hs-var">addConstant'</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681037115"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">ArgInfo
</span><a href="Agda.Syntax.Common.html#defaultArgInfo"><span class="hs-identifier hs-var">defaultArgInfo</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681037115"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681037087"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Defn
</span><a href="#local-6989586621681037035"><span class="hs-identifier hs-var">dataDef</span></a></span><span>
</span><span id="line-159"></span><span>                </span><span class="hs-comment">-- polarity and argOcc.s determined by the positivity checker</span><span>
</span><span id="line-160"></span><span>
</span><span id="line-161"></span><span>            </span><span class="hs-comment">-- Check the types of the constructors</span><span>
</span><span id="line-162"></span><span>            </span><span id="local-6989586621681037018"><span class="annot"><span class="annottext">[Maybe QName]
</span><a href="#local-6989586621681037018"><span class="hs-identifier hs-var">pathCons</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Constructor]
-&gt; (Constructor -&gt; TCMT IO (Maybe QName)) -&gt; TCMT IO [Maybe QName]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
t a -&gt; (a -&gt; m b) -&gt; m (t b)
</span><span class="hs-identifier hs-var">forM</span></span><span> </span><span class="annot"><span class="annottext">[Constructor]
</span><a href="#local-6989586621681037110"><span class="hs-identifier hs-var">cs</span></a></span><span> </span><span class="annot"><span class="annottext">((Constructor -&gt; TCMT IO (Maybe QName)) -&gt; TCMT IO [Maybe QName])
-&gt; (Constructor -&gt; TCMT IO (Maybe QName)) -&gt; TCMT IO [Maybe QName]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681037016"><span class="annot"><span class="annottext">Constructor
</span><a href="#local-6989586621681037016"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-163"></span><span>              </span><span id="local-6989586621681037015"><span class="annot"><span class="annottext">IsPathCons
</span><a href="#local-6989586621681037015"><span class="hs-identifier hs-var">isPathCons</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">QName
-&gt; UniverseCheck
-&gt; Tele (Dom Type)
-&gt; Nat
-&gt; Sort' Term
-&gt; Constructor
-&gt; TCM IsPathCons
</span><a href="Agda.TypeChecking.Rules.Data.html#checkConstructor"><span class="hs-identifier hs-var">checkConstructor</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681037115"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">UniverseCheck
</span><a href="#local-6989586621681037114"><span class="hs-identifier hs-var">uc</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681037070"><span class="hs-identifier hs-var">tel'</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681037062"><span class="hs-identifier hs-var">nofIxs</span></a></span><span> </span><span class="annot"><span class="annottext">Sort' Term
</span><a href="#local-6989586621681037060"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">Constructor
</span><a href="#local-6989586621681037016"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-164"></span><span>              </span><span class="annot"><span class="annottext">Maybe QName -&gt; TCMT IO (Maybe QName)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Maybe QName -&gt; TCMT IO (Maybe QName))
-&gt; Maybe QName -&gt; TCMT IO (Maybe QName)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">IsPathCons
</span><a href="#local-6989586621681037015"><span class="hs-identifier hs-var">isPathCons</span></a></span><span> </span><span class="annot"><span class="annottext">IsPathCons -&gt; IsPathCons -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">IsPathCons
</span><a href="Agda.TypeChecking.Rules.Data.html#PathCons"><span class="hs-identifier hs-var">PathCons</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">QName -&gt; Maybe QName
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Constructor -&gt; QName
</span><a href="Agda.Syntax.Abstract.html#axiomName"><span class="hs-identifier hs-var">A.axiomName</span></a></span><span> </span><span class="annot"><span class="annottext">Constructor
</span><a href="#local-6989586621681037016"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Maybe QName
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-165"></span><span>
</span><span id="line-166"></span><span>
</span><span id="line-167"></span><span>            </span><span class="hs-comment">-- cubical: the interval universe does not contain datatypes</span><span>
</span><span id="line-168"></span><span>            </span><span class="hs-comment">-- similar: SizeUniv, ...</span><span>
</span><span id="line-169"></span><span>            </span><span class="annot"><span class="annottext">QName -&gt; Sort' Term -&gt; TCM ()
</span><a href="Agda.TypeChecking.Rules.Data.html#checkDataSort"><span class="hs-identifier hs-var">checkDataSort</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681037115"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">Sort' Term
</span><a href="#local-6989586621681037060"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-170"></span><span>
</span><span id="line-171"></span><span>            </span><span class="hs-comment">-- when `--without-K`, all the indices should fit in the</span><span>
</span><span id="line-172"></span><span>            </span><span class="hs-comment">-- sort of the datatype (see #3420).</span><span>
</span><span id="line-173"></span><span>            </span><span class="hs-comment">-- Andreas, 2019-07-16, issue #3916:</span><span>
</span><span id="line-174"></span><span>            </span><span class="hs-comment">-- NoUniverseCheck should also disable the index sort check!</span><span>
</span><span id="line-175"></span><span>            </span><span class="annot"><span class="annottext">Bool -&gt; TCM () -&gt; TCM ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">unless</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UniverseCheck
</span><a href="#local-6989586621681037114"><span class="hs-identifier hs-var">uc</span></a></span><span> </span><span class="annot"><span class="annottext">UniverseCheck -&gt; UniverseCheck -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">UniverseCheck
</span><a href="Agda.Syntax.Common.html#NoUniverseCheck"><span class="hs-identifier hs-var">NoUniverseCheck</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(TCM () -&gt; TCM ()) -&gt; TCM () -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-176"></span><span>              </span><span class="annot"><span class="annottext">TCMT IO Bool -&gt; TCM () -&gt; TCM ()
forall (m :: * -&gt; *). Monad m =&gt; m Bool -&gt; m () -&gt; m ()
</span><a href="Agda.Utils.Monad.html#whenM"><span class="hs-identifier hs-var">whenM</span></a></span><span> </span><span class="annot"><span class="annottext">TCMT IO Bool
forall (m :: * -&gt; *). HasOptions m =&gt; m Bool
</span><a href="Agda.TypeChecking.Monad.Base.html#withoutKOption"><span class="hs-identifier hs-var">withoutKOption</span></a></span><span> </span><span class="annot"><span class="annottext">(TCM () -&gt; TCM ()) -&gt; TCM () -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-177"></span><span>                </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681037006"><span class="annot"><span class="annottext">s' :: Sort' Term
</span><a href="#local-6989586621681037006"><span class="hs-identifier hs-var hs-var">s'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Sort' Term
</span><a href="#local-6989586621681037060"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-178"></span><span>                      </span><span class="annot"><a href="Agda.Syntax.Internal.html#Prop"><span class="hs-identifier hs-type">Prop</span></a></span><span> </span><span id="local-6989586621681037004"><span class="annot"><span class="annottext">Level
</span><a href="#local-6989586621681037004"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Level -&gt; Sort' Term
forall t. Level' t -&gt; Sort' t
</span><a href="Agda.Syntax.Internal.html#Type"><span class="hs-identifier hs-var">Type</span></a></span><span> </span><span class="annot"><span class="annottext">Level
</span><a href="#local-6989586621681037004"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-179"></span><span>                      </span><span class="annot"><span class="annottext">Sort' Term
</span><span class="hs-identifier">_</span></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Sort' Term
</span><a href="#local-6989586621681037060"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-180"></span><span>                </span><span class="annot"><span class="annottext">Sort' Term -&gt; Tele (Dom Type) -&gt; TCM ()
</span><a href="Agda.TypeChecking.Rules.Data.html#checkIndexSorts"><span class="hs-identifier hs-var">checkIndexSorts</span></a></span><span> </span><span class="annot"><span class="annottext">Sort' Term
</span><a href="#local-6989586621681037006"><span class="hs-identifier hs-var">s'</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681037065"><span class="hs-identifier hs-var">ixTel</span></a></span><span>
</span><span id="line-181"></span><span>
</span><span id="line-182"></span><span>            </span><span class="hs-comment">-- Return the data definition</span><span>
</span><span id="line-183"></span><span>            </span><span class="annot"><span class="annottext">Defn -&gt; TCM Defn
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">Defn
</span><a href="#local-6989586621681037035"><span class="hs-identifier hs-var">dataDef</span></a></span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">dataPathCons :: [QName]
</span><a href="Agda.TypeChecking.Monad.Base.html#dataPathCons"><span class="hs-identifier hs-var">dataPathCons</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Maybe QName] -&gt; [QName]
forall a. [Maybe a] -&gt; [a]
</span><span class="hs-identifier hs-var">catMaybes</span></span><span> </span><span class="annot"><span class="annottext">[Maybe QName]
</span><a href="#local-6989586621681037018"><span class="hs-identifier hs-var">pathCons</span></a></span><span>
</span><span id="line-184"></span><span>                          </span><span class="hs-special">}</span><span>
</span><span id="line-185"></span><span>
</span><span id="line-186"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681037000"><span class="annot"><span class="annottext">cons :: [QName]
</span><a href="#local-6989586621681037000"><span class="hs-identifier hs-var hs-var">cons</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Constructor -&gt; QName) -&gt; [Constructor] -&gt; [QName]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Constructor -&gt; QName
</span><a href="Agda.Syntax.Abstract.html#axiomName"><span class="hs-identifier hs-var">A.axiomName</span></a></span><span> </span><span class="annot"><span class="annottext">[Constructor]
</span><a href="#local-6989586621681037110"><span class="hs-identifier hs-var">cs</span></a></span><span>  </span><span class="hs-comment">-- get constructor names</span><span>
</span><span id="line-187"></span><span>
</span><span id="line-188"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621681036999"><span class="annot"><span class="annottext">Maybe QName
</span><a href="#local-6989586621681036999"><span class="hs-identifier hs-var">mtranspix</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681036998"><span class="annot"><span class="annottext">Maybe QName
</span><a href="#local-6989586621681036998"><span class="hs-identifier hs-var">transpFun</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-189"></span><span>          </span><span class="annot"><span class="annottext">TCMT IO Bool
-&gt; TCMT IO (Maybe QName, Maybe QName)
-&gt; TCMT IO (Maybe QName, Maybe QName)
-&gt; TCMT IO (Maybe QName, Maybe QName)
forall (m :: * -&gt; *) a. Monad m =&gt; m Bool -&gt; m a -&gt; m a -&gt; m a
</span><a href="Agda.Utils.Monad.html#ifM"><span class="hs-identifier hs-var">ifM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">WithDefault 'False -&gt; Bool
forall (b :: Bool). KnownBool b =&gt; WithDefault b -&gt; Bool
</span><a href="Agda.Utils.WithDefault.html#collapseDefault"><span class="hs-identifier hs-var">collapseDefault</span></a></span><span> </span><span class="annot"><span class="annottext">(WithDefault 'False -&gt; Bool)
-&gt; (PragmaOptions -&gt; WithDefault 'False) -&gt; PragmaOptions -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">PragmaOptions -&gt; WithDefault 'False
</span><a href="Agda.Interaction.Options.Base.html#optWithoutK"><span class="hs-identifier hs-var">optWithoutK</span></a></span><span> </span><span class="annot"><span class="annottext">(PragmaOptions -&gt; Bool) -&gt; TCMT IO PragmaOptions -&gt; TCMT IO Bool
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO PragmaOptions
forall (m :: * -&gt; *). HasOptions m =&gt; m PragmaOptions
</span><a href="Agda.Interaction.Options.HasOptions.html#pragmaOptions"><span class="hs-identifier hs-var">pragmaOptions</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-190"></span><span>            </span><span class="hs-special">(</span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681036993"><span class="annot"><span class="annottext">Maybe QName
</span><a href="#local-6989586621681036993"><span class="hs-identifier hs-var">mtranspix</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TCMT IO (Maybe QName) -&gt; TCMT IO (Maybe QName)
forall (tcm :: * -&gt; *) a.
(MonadTCEnv tcm, ReadTCState tcm) =&gt;
tcm a -&gt; tcm a
</span><a href="Agda.TypeChecking.Monad.Context.html#inTopContext"><span class="hs-identifier hs-var">inTopContext</span></a></span><span> </span><span class="annot"><span class="annottext">(TCMT IO (Maybe QName) -&gt; TCMT IO (Maybe QName))
-&gt; TCMT IO (Maybe QName) -&gt; TCMT IO (Maybe QName)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">QName -&gt; TCMT IO (Maybe QName)
</span><a href="Agda.TypeChecking.Rules.Data.html#defineTranspIx"><span class="hs-identifier hs-var">defineTranspIx</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681037115"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-191"></span><span>                </span><span id="local-6989586621681036990"><span class="annot"><span class="annottext">Maybe QName
</span><a href="#local-6989586621681036990"><span class="hs-identifier hs-var">transpFun</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TCMT IO (Maybe QName) -&gt; TCMT IO (Maybe QName)
forall (tcm :: * -&gt; *) a.
(MonadTCEnv tcm, ReadTCState tcm) =&gt;
tcm a -&gt; tcm a
</span><a href="Agda.TypeChecking.Monad.Context.html#inTopContext"><span class="hs-identifier hs-var">inTopContext</span></a></span><span> </span><span class="annot"><span class="annottext">(TCMT IO (Maybe QName) -&gt; TCMT IO (Maybe QName))
-&gt; TCMT IO (Maybe QName) -&gt; TCMT IO (Maybe QName)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-192"></span><span>                               </span><span class="annot"><span class="annottext">QName -&gt; Maybe QName -&gt; [QName] -&gt; [QName] -&gt; TCMT IO (Maybe QName)
</span><a href="Agda.TypeChecking.Rules.Data.html#defineTranspFun"><span class="hs-identifier hs-var">defineTranspFun</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681037115"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe QName
</span><a href="#local-6989586621681036993"><span class="hs-identifier hs-var">mtranspix</span></a></span><span> </span><span class="annot"><span class="annottext">[QName]
</span><a href="#local-6989586621681037000"><span class="hs-identifier hs-var">cons</span></a></span><span>
</span><span id="line-193"></span><span>                                 </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Defn -&gt; [QName]
</span><a href="Agda.TypeChecking.Monad.Base.html#dataPathCons"><span class="hs-identifier hs-var">dataPathCons</span></a></span><span> </span><span class="annot"><span class="annottext">Defn
</span><a href="#local-6989586621681037080"><span class="hs-identifier hs-var">dataDef</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-194"></span><span>                </span><span class="annot"><span class="annottext">(Maybe QName, Maybe QName) -&gt; TCMT IO (Maybe QName, Maybe QName)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe QName
</span><a href="#local-6989586621681036993"><span class="hs-identifier hs-var">mtranspix</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe QName
</span><a href="#local-6989586621681036990"><span class="hs-identifier hs-var">transpFun</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-195"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Maybe QName, Maybe QName) -&gt; TCMT IO (Maybe QName, Maybe QName)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe QName
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe QName
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-196"></span><span>
</span><span id="line-197"></span><span>        </span><span class="hs-comment">-- Add the datatype to the signature with its constructors.</span><span>
</span><span id="line-198"></span><span>        </span><span class="hs-comment">-- It was previously added without them.</span><span>
</span><span id="line-199"></span><span>        </span><span class="annot"><span class="annottext">QName -&gt; ArgInfo -&gt; QName -&gt; Type -&gt; Defn -&gt; TCM ()
</span><a href="Agda.TypeChecking.Monad.Signature.html#addConstant%27"><span class="hs-identifier hs-var">addConstant'</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681037115"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">ArgInfo
</span><a href="Agda.Syntax.Common.html#defaultArgInfo"><span class="hs-identifier hs-var">defaultArgInfo</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681037115"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681037087"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">(Defn -&gt; TCM ()) -&gt; Defn -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-200"></span><span>            </span><span class="annot"><span class="annottext">Defn
</span><a href="#local-6989586621681037080"><span class="hs-identifier hs-var">dataDef</span></a></span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">dataCons :: [QName]
</span><a href="Agda.TypeChecking.Monad.Base.html#dataCons"><span class="hs-identifier hs-var">dataCons</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[QName]
</span><a href="#local-6989586621681037000"><span class="hs-identifier hs-var">cons</span></a></span><span>
</span><span id="line-201"></span><span>                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dataTranspIx :: Maybe QName
</span><a href="Agda.TypeChecking.Monad.Base.html#dataTranspIx"><span class="hs-identifier hs-var">dataTranspIx</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe QName
</span><a href="#local-6989586621681036999"><span class="hs-identifier hs-var">mtranspix</span></a></span><span>
</span><span id="line-202"></span><span>                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dataTransp :: Maybe QName
</span><a href="Agda.TypeChecking.Monad.Base.html#dataTransp"><span class="hs-identifier hs-var">dataTransp</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe QName
</span><a href="#local-6989586621681036998"><span class="hs-identifier hs-var">transpFun</span></a></span><span>
</span><span id="line-203"></span><span>                   </span><span class="hs-special">}</span><span>
</span><span id="line-204"></span><span>
</span><span id="line-205"></span><span class="hs-comment">-- | Make sure that the target universe admits data type definitions.</span><span>
</span><span id="line-206"></span><span class="hs-comment">--   E.g. @IUniv@, @SizeUniv@ etc. do not accept new constructions.</span><span>
</span><span id="line-207"></span><span class="annot"><a href="Agda.TypeChecking.Rules.Data.html#checkDataSort"><span class="hs-identifier hs-type">checkDataSort</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Abstract.Name.html#QName"><span class="hs-identifier hs-type">QName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Sort"><span class="hs-identifier hs-type">Sort</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#TCM"><span class="hs-identifier hs-type">TCM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-208"></span><span id="checkDataSort"><span class="annot"><span class="annottext">checkDataSort :: QName -&gt; Sort' Term -&gt; TCM ()
</span><a href="Agda.TypeChecking.Rules.Data.html#checkDataSort"><span class="hs-identifier hs-var hs-var">checkDataSort</span></a></span></span><span> </span><span id="local-6989586621681036987"><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036987"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span id="local-6989586621681036986"><span class="annot"><span class="annottext">Sort' Term
</span><a href="#local-6989586621681036986"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">QName -&gt; TCM () -&gt; TCM ()
forall (m :: * -&gt; *) x a.
(MonadTrace m, HasRange x) =&gt;
x -&gt; m a -&gt; m a
</span><a href="Agda.TypeChecking.Monad.Trace.html#setCurrentRange"><span class="hs-identifier hs-var">setCurrentRange</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036987"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">(TCM () -&gt; TCM ()) -&gt; TCM () -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-209"></span><span>  </span><span class="annot"><span class="annottext">Sort' Term
-&gt; (Blocker -&gt; Sort' Term -&gt; TCM ())
-&gt; (NotBlocked -&gt; Sort' Term -&gt; TCM ())
-&gt; TCM ()
forall t (m :: * -&gt; *) a.
(Reduce t, IsMeta t, MonadReduce m) =&gt;
t -&gt; (Blocker -&gt; t -&gt; m a) -&gt; (NotBlocked -&gt; t -&gt; m a) -&gt; m a
</span><a href="Agda.TypeChecking.Reduce.html#ifBlocked"><span class="hs-identifier hs-var">ifBlocked</span></a></span><span> </span><span class="annot"><span class="annottext">Sort' Term
</span><a href="#local-6989586621681036986"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">Blocker -&gt; Sort' Term -&gt; TCM ()
</span><a href="#local-6989586621681036983"><span class="hs-identifier hs-var">postpone</span></a></span><span> </span><span class="hs-comment">{-else-}</span><span> </span><span class="annot"><span class="annottext">((NotBlocked -&gt; Sort' Term -&gt; TCM ()) -&gt; TCM ())
-&gt; (NotBlocked -&gt; Sort' Term -&gt; TCM ()) -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">NotBlocked
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681036982"><span class="annot"><span class="annottext">Sort' Term
</span><a href="#local-6989586621681036982"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Sort"><span class="hs-identifier hs-type">Sort</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-210"></span><span>    </span><span class="hs-keyword">let</span><span>
</span><span id="line-211"></span><span>      </span><span class="annot"><a href="#local-6989586621681036981"><span class="hs-identifier hs-type">yes</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#TCM"><span class="hs-identifier hs-type">TCM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-212"></span><span>      </span><span id="local-6989586621681036981"><span class="annot"><span class="annottext">yes :: TCM ()
</span><a href="#local-6989586621681036981"><span class="hs-identifier hs-var hs-var">yes</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; TCM ()
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-213"></span><span>      </span><span class="annot"><a href="#local-6989586621681036980"><span class="hs-identifier hs-type">no</span></a></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#TCM"><span class="hs-identifier hs-type">TCM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-214"></span><span>      </span><span id="local-6989586621681036980"><span class="annot"><span class="annottext">no :: TCM ()
</span><a href="#local-6989586621681036980"><span class="hs-identifier hs-var hs-var">no</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TypeError -&gt; TCM ()
forall (m :: * -&gt; *) a.
(HasCallStack, MonadTCError m) =&gt;
TypeError -&gt; m a
</span><a href="Agda.TypeChecking.Monad.Base.html#typeError"><span class="hs-identifier hs-var">typeError</span></a></span><span> </span><span class="annot"><span class="annottext">(TypeError -&gt; TCM ()) -&gt; (Doc -&gt; TypeError) -&gt; Doc -&gt; TCM ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; TypeError
</span><a href="Agda.TypeChecking.Monad.Base.html#GenericDocError"><span class="hs-identifier hs-var">GenericDocError</span></a></span><span> </span><span class="annot"><span class="annottext">(Doc -&gt; TCM ()) -&gt; TCMT IO Doc -&gt; TCM ()
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span>
</span><span id="line-215"></span><span>              </span><span class="annot"><span class="annottext">[TCMT IO Doc] -&gt; TCMT IO Doc
forall (m :: * -&gt; *) (t :: * -&gt; *).
(Applicative m, Foldable t) =&gt;
t (m Doc) -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#fsep"><span class="hs-identifier hs-var">fsep</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc
</span><span class="hs-string">&quot;The universe&quot;</span></span><span>
</span><span id="line-216"></span><span>                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Sort' Term -&gt; TCMT IO Doc
forall a (m :: * -&gt; *). (PrettyTCM a, MonadPretty m) =&gt; a -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#prettyTCM"><span class="hs-identifier hs-var">prettyTCM</span></a></span><span> </span><span class="annot"><span class="annottext">Sort' Term
</span><a href="#local-6989586621681036982"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-217"></span><span>                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc
</span><span class="hs-string">&quot;of&quot;</span></span><span>
</span><span id="line-218"></span><span>                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">QName -&gt; TCMT IO Doc
forall a (m :: * -&gt; *). (PrettyTCM a, MonadPretty m) =&gt; a -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#prettyTCM"><span class="hs-identifier hs-var">prettyTCM</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036987"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-219"></span><span>                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc
</span><span class="hs-string">&quot;does not admit data or record declarations&quot;</span></span><span>
</span><span id="line-220"></span><span>                   </span><span class="hs-special">]</span><span>
</span><span id="line-221"></span><span>      </span><span class="annot"><a href="#local-6989586621681036979"><span class="hs-identifier hs-type">dunno</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#TCM"><span class="hs-identifier hs-type">TCM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-222"></span><span>      </span><span id="local-6989586621681036979"><span class="annot"><span class="annottext">dunno :: TCM ()
</span><a href="#local-6989586621681036979"><span class="hs-identifier hs-var hs-var">dunno</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Blocker -&gt; Sort' Term -&gt; TCM ()
</span><a href="#local-6989586621681036983"><span class="hs-identifier hs-var">postpone</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Sort' Term -&gt; Blocker
forall t. AllMetas t =&gt; t -&gt; Blocker
</span><a href="Agda.Syntax.Internal.MetaVars.html#unblockOnAnyMetaIn"><span class="hs-identifier hs-var">unblockOnAnyMetaIn</span></a></span><span> </span><span class="annot"><span class="annottext">Sort' Term
</span><a href="#local-6989586621681036982"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Sort' Term
</span><a href="#local-6989586621681036982"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-223"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Sort' Term
</span><a href="#local-6989586621681036982"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-224"></span><span>      </span><span class="hs-comment">-- Sorts that admit data definitions.</span><span>
</span><span id="line-225"></span><span>      </span><span class="annot"><a href="Agda.Syntax.Internal.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="annot"><span class="annottext">Level
</span><span class="hs-identifier">_</span></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TCM ()
</span><a href="#local-6989586621681036981"><span class="hs-identifier hs-var">yes</span></a></span><span>
</span><span id="line-226"></span><span>      </span><span class="annot"><a href="Agda.Syntax.Internal.html#Prop"><span class="hs-identifier hs-type">Prop</span></a></span><span> </span><span class="annot"><span class="annottext">Level
</span><span class="hs-identifier">_</span></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TCM ()
</span><a href="#local-6989586621681036981"><span class="hs-identifier hs-var">yes</span></a></span><span>
</span><span id="line-227"></span><span>      </span><span class="annot"><a href="Agda.Syntax.Internal.html#Inf"><span class="hs-identifier hs-type">Inf</span></a></span><span> </span><span class="annot"><span class="annottext">IsFibrant
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-identifier">_</span></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TCM ()
</span><a href="#local-6989586621681036981"><span class="hs-identifier hs-var">yes</span></a></span><span>
</span><span id="line-228"></span><span>      </span><span class="annot"><a href="Agda.Syntax.Internal.html#SSet"><span class="hs-identifier hs-type">SSet</span></a></span><span> </span><span class="annot"><span class="annottext">Level
</span><span class="hs-identifier">_</span></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TCM ()
</span><a href="#local-6989586621681036981"><span class="hs-identifier hs-var">yes</span></a></span><span>
</span><span id="line-229"></span><span>      </span><span class="annot"><a href="Agda.Syntax.Internal.html#DefS"><span class="hs-identifier hs-type">DefS</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[Elim' Term]
</span><span class="hs-identifier">_</span></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TCM ()
</span><a href="#local-6989586621681036981"><span class="hs-identifier hs-var">yes</span></a></span><span>
</span><span id="line-230"></span><span>      </span><span class="hs-comment">-- Sorts that do not admit data definitions.</span><span>
</span><span id="line-231"></span><span>      </span><span class="annot"><span class="annottext">Sort' Term
</span><a href="Agda.Syntax.Internal.html#SizeUniv"><span class="hs-identifier hs-var">SizeUniv</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TCM ()
</span><a href="#local-6989586621681036980"><span class="hs-identifier hs-var">no</span></a></span><span>
</span><span id="line-232"></span><span>      </span><span class="annot"><span class="annottext">Sort' Term
</span><a href="Agda.Syntax.Internal.html#LockUniv"><span class="hs-identifier hs-var">LockUniv</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TCM ()
</span><a href="#local-6989586621681036980"><span class="hs-identifier hs-var">no</span></a></span><span>
</span><span id="line-233"></span><span>      </span><span class="annot"><span class="annottext">Sort' Term
</span><a href="Agda.Syntax.Internal.html#IntervalUniv"><span class="hs-identifier hs-var">IntervalUniv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TCM ()
</span><a href="#local-6989586621681036980"><span class="hs-identifier hs-var">no</span></a></span><span>
</span><span id="line-234"></span><span>      </span><span class="hs-comment">-- Unsolved sorts.</span><span>
</span><span id="line-235"></span><span>      </span><span class="annot"><a href="Agda.Syntax.Internal.html#PiSort"><span class="hs-identifier hs-type">PiSort</span></a></span><span> </span><span class="annot"><span class="annottext">Dom' Term Term
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Sort' Term
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Abs (Sort' Term)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TCM ()
</span><a href="#local-6989586621681036979"><span class="hs-identifier hs-var">dunno</span></a></span><span>
</span><span id="line-236"></span><span>      </span><span class="annot"><a href="Agda.Syntax.Internal.html#FunSort"><span class="hs-identifier hs-type">FunSort</span></a></span><span> </span><span class="annot"><span class="annottext">Sort' Term
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Sort' Term
</span><span class="hs-identifier">_</span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TCM ()
</span><a href="#local-6989586621681036979"><span class="hs-identifier hs-var">dunno</span></a></span><span>
</span><span id="line-237"></span><span>      </span><span class="annot"><a href="Agda.Syntax.Internal.html#UnivSort"><span class="hs-identifier hs-type">UnivSort</span></a></span><span> </span><span class="annot"><span class="annottext">Sort' Term
</span><span class="hs-identifier">_</span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TCM ()
</span><a href="#local-6989586621681036979"><span class="hs-identifier hs-var">dunno</span></a></span><span>
</span><span id="line-238"></span><span>      </span><span class="annot"><a href="Agda.Syntax.Internal.html#MetaS"><span class="hs-identifier hs-type">MetaS</span></a></span><span> </span><span class="annot"><span class="annottext">MetaId
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[Elim' Term]
</span><span class="hs-identifier">_</span></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TCM ()
forall a. HasCallStack =&gt; a
</span><a href="Agda.Utils.Impossible.html#__IMPOSSIBLE__"><span class="hs-identifier hs-var">__IMPOSSIBLE__</span></a></span><span>
</span><span id="line-239"></span><span>      </span><span class="annot"><a href="Agda.Syntax.Internal.html#DummyS"><span class="hs-identifier hs-type">DummyS</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-identifier">_</span></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TCM ()
forall a. HasCallStack =&gt; a
</span><a href="Agda.Utils.Impossible.html#__IMPOSSIBLE__"><span class="hs-identifier hs-var">__IMPOSSIBLE__</span></a></span><span>
</span><span id="line-240"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-241"></span><span>    </span><span class="annot"><a href="#local-6989586621681036983"><span class="hs-identifier hs-type">postpone</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.Blockers.html#Blocker"><span class="hs-identifier hs-type">Blocker</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Sort"><span class="hs-identifier hs-type">Sort</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#TCM"><span class="hs-identifier hs-type">TCM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-242"></span><span>    </span><span id="local-6989586621681036983"><span class="annot"><span class="annottext">postpone :: Blocker -&gt; Sort' Term -&gt; TCM ()
</span><a href="#local-6989586621681036983"><span class="hs-identifier hs-var hs-var">postpone</span></a></span></span><span> </span><span id="local-6989586621681036967"><span class="annot"><span class="annottext">Blocker
</span><a href="#local-6989586621681036967"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621681036966"><span class="annot"><span class="annottext">Sort' Term
</span><a href="#local-6989586621681036966"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Blocker -&gt; Constraint -&gt; TCM ()
forall (m :: * -&gt; *).
MonadConstraint m =&gt;
Blocker -&gt; Constraint -&gt; m ()
</span><a href="Agda.TypeChecking.Monad.Constraints.html#addConstraint"><span class="hs-identifier hs-var">addConstraint</span></a></span><span> </span><span class="annot"><span class="annottext">Blocker
</span><a href="#local-6989586621681036967"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">(Constraint -&gt; TCM ()) -&gt; Constraint -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">QName -&gt; Sort' Term -&gt; Constraint
</span><a href="Agda.TypeChecking.Monad.Base.html#CheckDataSort"><span class="hs-identifier hs-var">CheckDataSort</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036987"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">Sort' Term
</span><a href="#local-6989586621681036966"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-243"></span><span>
</span><span id="line-244"></span><span class="hs-comment">-- | Ensure that the type is a sort.</span><span>
</span><span id="line-245"></span><span class="hs-comment">--   If it is not directly a sort, compare it to a 'newSortMetaBelowInf'.</span><span>
</span><span id="line-246"></span><span class="annot"><a href="Agda.TypeChecking.Rules.Data.html#forceSort"><span class="hs-identifier hs-type">forceSort</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#TCM"><span class="hs-identifier hs-type">TCM</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Sort"><span class="hs-identifier hs-type">Sort</span></a></span><span>
</span><span id="line-247"></span><span id="forceSort"><span class="annot"><span class="annottext">forceSort :: Type -&gt; TCMT IO (Sort' Term)
</span><a href="Agda.TypeChecking.Rules.Data.html#forceSort"><span class="hs-identifier hs-var hs-var">forceSort</span></a></span></span><span> </span><span id="local-6989586621681036962"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036962"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term -&gt; TCMT IO Term
forall a (m :: * -&gt; *). (Reduce a, MonadReduce m) =&gt; a -&gt; m a
</span><a href="Agda.TypeChecking.Reduce.html#reduce"><span class="hs-identifier hs-var">reduce</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type -&gt; Term
forall t a. Type'' t a -&gt; a
</span><a href="Agda.Syntax.Internal.html#unEl"><span class="hs-identifier hs-var">unEl</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036962"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TCMT IO Term
-&gt; (Term -&gt; TCMT IO (Sort' Term)) -&gt; TCMT IO (Sort' Term)
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-248"></span><span>  </span><span class="annot"><a href="Agda.Syntax.Internal.html#Sort"><span class="hs-identifier hs-type">Sort</span></a></span><span> </span><span id="local-6989586621681036959"><span class="annot"><span class="annottext">Sort' Term
</span><a href="#local-6989586621681036959"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Sort' Term -&gt; TCMT IO (Sort' Term)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">Sort' Term
</span><a href="#local-6989586621681036959"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-249"></span><span>  </span><span class="annot"><span class="annottext">Term
</span><span class="hs-identifier">_</span></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-250"></span><span>    </span><span id="local-6989586621681036958"><span class="annot"><span class="annottext">Sort' Term
</span><a href="#local-6989586621681036958"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TCMT IO (Sort' Term)
</span><a href="Agda.TypeChecking.MetaVars.html#newSortMetaBelowInf"><span class="hs-identifier hs-var">newSortMetaBelowInf</span></a></span><span>
</span><span id="line-251"></span><span>    </span><span class="annot"><span class="annottext">Type -&gt; Type -&gt; TCM ()
forall (m :: * -&gt; *). MonadConversion m =&gt; Type -&gt; Type -&gt; m ()
</span><a href="Agda.TypeChecking.Conversion.html#equalType"><span class="hs-identifier hs-var">equalType</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036962"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Sort' Term -&gt; Type
</span><a href="Agda.TypeChecking.Substitute.html#sort"><span class="hs-identifier hs-var">sort</span></a></span><span> </span><span class="annot"><span class="annottext">Sort' Term
</span><a href="#local-6989586621681036958"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-252"></span><span>    </span><span class="annot"><span class="annottext">Sort' Term -&gt; TCMT IO (Sort' Term)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">Sort' Term
</span><a href="#local-6989586621681036958"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-253"></span><span>
</span><span id="line-254"></span><span>
</span><span id="line-255"></span><span class="hs-comment">-- | Type check a constructor declaration. Checks that the constructor targets</span><span>
</span><span id="line-256"></span><span class="hs-comment">--   the datatype and that it fits inside the declared sort.</span><span>
</span><span id="line-257"></span><span class="hs-comment">--   Returns the non-linear parameters.</span><span>
</span><span id="line-258"></span><span class="annot"><a href="Agda.TypeChecking.Rules.Data.html#checkConstructor"><span class="hs-identifier hs-type">checkConstructor</span></a></span><span>
</span><span id="line-259"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Abstract.Name.html#QName"><span class="hs-identifier hs-type">QName</span></a></span><span>         </span><span class="hs-comment">-- ^ Name of data type.</span><span>
</span><span id="line-260"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Common.html#UniverseCheck"><span class="hs-identifier hs-type">UniverseCheck</span></a></span><span> </span><span class="hs-comment">-- ^ Check universes?</span><span>
</span><span id="line-261"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Telescope"><span class="hs-identifier hs-type">Telescope</span></a></span><span>     </span><span class="hs-comment">-- ^ Parameter telescope.</span><span>
</span><span id="line-262"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Common.html#Nat"><span class="hs-identifier hs-type">Nat</span></a></span><span>           </span><span class="hs-comment">-- ^ Number of indices of the data type.</span><span>
</span><span id="line-263"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Sort"><span class="hs-identifier hs-type">Sort</span></a></span><span>          </span><span class="hs-comment">-- ^ Sort of the data type.</span><span>
</span><span id="line-264"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Abstract.html#Constructor"><span class="hs-identifier hs-type">A.Constructor</span></a></span><span> </span><span class="hs-comment">-- ^ Constructor declaration (type signature).</span><span>
</span><span id="line-265"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#TCM"><span class="hs-identifier hs-type">TCM</span></a></span><span> </span><span class="annot"><a href="Agda.TypeChecking.Rules.Data.html#IsPathCons"><span class="hs-identifier hs-type">IsPathCons</span></a></span><span>
</span><span id="line-266"></span><span id="checkConstructor"><span class="annot"><span class="annottext">checkConstructor :: QName
-&gt; UniverseCheck
-&gt; Tele (Dom Type)
-&gt; Nat
-&gt; Sort' Term
-&gt; Constructor
-&gt; TCM IsPathCons
</span><a href="Agda.TypeChecking.Rules.Data.html#checkConstructor"><span class="hs-identifier hs-var hs-var">checkConstructor</span></a></span></span><span> </span><span id="local-6989586621681036956"><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036956"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span id="local-6989586621681036955"><span class="annot"><span class="annottext">UniverseCheck
</span><a href="#local-6989586621681036955"><span class="hs-identifier hs-var">uc</span></a></span></span><span> </span><span id="local-6989586621681036954"><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036954"><span class="hs-identifier hs-var">tel</span></a></span></span><span> </span><span id="local-6989586621681036953"><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681036953"><span class="hs-identifier hs-var">nofIxs</span></a></span></span><span> </span><span id="local-6989586621681036952"><span class="annot"><span class="annottext">Sort' Term
</span><a href="#local-6989586621681036952"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Abstract.html#ScopedDecl"><span class="hs-identifier hs-type">A.ScopedDecl</span></a></span><span> </span><span id="local-6989586621681036950"><span class="annot"><span class="annottext">ScopeInfo
</span><a href="#local-6989586621681036950"><span class="hs-identifier hs-var">scope</span></a></span></span><span> </span><span class="hs-special">[</span><span id="local-6989586621681036949"><span class="annot"><span class="annottext">Constructor
</span><a href="#local-6989586621681036949"><span class="hs-identifier hs-var">con</span></a></span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-267"></span><span>  </span><span class="annot"><span class="annottext">ScopeInfo -&gt; TCM ()
</span><a href="Agda.TypeChecking.Monad.State.html#setScope"><span class="hs-identifier hs-var">setScope</span></a></span><span> </span><span class="annot"><span class="annottext">ScopeInfo
</span><a href="#local-6989586621681036950"><span class="hs-identifier hs-var">scope</span></a></span><span>
</span><span id="line-268"></span><span>  </span><span class="annot"><span class="annottext">QName
-&gt; UniverseCheck
-&gt; Tele (Dom Type)
-&gt; Nat
-&gt; Sort' Term
-&gt; Constructor
-&gt; TCM IsPathCons
</span><a href="Agda.TypeChecking.Rules.Data.html#checkConstructor"><span class="hs-identifier hs-var">checkConstructor</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036956"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="annot"><span class="annottext">UniverseCheck
</span><a href="#local-6989586621681036955"><span class="hs-identifier hs-var">uc</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036954"><span class="hs-identifier hs-var">tel</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681036953"><span class="hs-identifier hs-var">nofIxs</span></a></span><span> </span><span class="annot"><span class="annottext">Sort' Term
</span><a href="#local-6989586621681036952"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">Constructor
</span><a href="#local-6989586621681036949"><span class="hs-identifier hs-var">con</span></a></span><span>
</span><span id="line-269"></span><span class="annot"><a href="Agda.TypeChecking.Rules.Data.html#checkConstructor"><span class="hs-identifier hs-var">checkConstructor</span></a></span><span> </span><span id="local-6989586621681036947"><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036947"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span id="local-6989586621681036946"><span class="annot"><span class="annottext">UniverseCheck
</span><a href="#local-6989586621681036946"><span class="hs-identifier hs-var">uc</span></a></span></span><span> </span><span id="local-6989586621681036945"><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036945"><span class="hs-identifier hs-var">tel</span></a></span></span><span> </span><span id="local-6989586621681036944"><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681036944"><span class="hs-identifier hs-var">nofIxs</span></a></span></span><span> </span><span id="local-6989586621681036943"><span class="annot"><span class="annottext">Sort' Term
</span><a href="#local-6989586621681036943"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621681036942"><span class="annot"><span class="annottext">con :: Constructor
</span><a href="#local-6989586621681036942"><span class="hs-identifier hs-var">con</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Abstract.html#Axiom"><span class="hs-identifier hs-type">A.Axiom</span></a></span><span> </span><span class="annot"><span class="annottext">KindOfName
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681036940"><span class="annot"><span class="annottext">DefInfo
</span><a href="#local-6989586621681036940"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621681036939"><span class="annot"><span class="annottext">ArgInfo
</span><a href="#local-6989586621681036939"><span class="hs-identifier hs-var">ai</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe [Occurrence]
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span id="local-6989586621681036938"><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036938"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621681036937"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036937"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-270"></span><span>    </span><span class="annot"><span class="annottext">Call -&gt; TCM IsPathCons -&gt; TCM IsPathCons
forall (m :: * -&gt; *) a. MonadTrace m =&gt; Call -&gt; m a -&gt; m a
</span><a href="Agda.TypeChecking.Monad.Trace.html#traceCall"><span class="hs-identifier hs-var">traceCall</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">QName -&gt; Tele (Dom Type) -&gt; Sort' Term -&gt; Constructor -&gt; Call
</span><a href="Agda.TypeChecking.Monad.Base.html#CheckConstructor"><span class="hs-identifier hs-var">CheckConstructor</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036947"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036945"><span class="hs-identifier hs-var">tel</span></a></span><span> </span><span class="annot"><span class="annottext">Sort' Term
</span><a href="#local-6989586621681036943"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">Constructor
</span><a href="#local-6989586621681036942"><span class="hs-identifier hs-var">con</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(TCM IsPathCons -&gt; TCM IsPathCons)
-&gt; TCM IsPathCons -&gt; TCM IsPathCons
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-271"></span><span class="hs-comment">{- WRONG
      -- Andreas, 2011-04-26: the following happens to the right of ':'
      -- we may use irrelevant arguments in a non-strict way in types
      t' &lt;- workOnTypes $ do
-}</span><span>
</span><span id="line-276"></span><span>        </span><span class="annot"><span class="annottext">QName -&gt; Type -&gt; TCM ()
forall {m :: * -&gt; *} {a} {a}.
(MonadDebug m, PrettyTCM a, PrettyTCM a) =&gt;
a -&gt; a -&gt; m ()
</span><a href="#local-6989586621681036935"><span class="hs-identifier hs-var">debugEnter</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036938"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036937"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-277"></span><span>        </span><span class="hs-comment">-- check that we are relevant</span><span>
</span><span id="line-278"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ArgInfo -&gt; Relevance
forall a. LensRelevance a =&gt; a -&gt; Relevance
</span><a href="Agda.Syntax.Common.html#getRelevance"><span class="hs-identifier hs-var">getRelevance</span></a></span><span> </span><span class="annot"><span class="annottext">ArgInfo
</span><a href="#local-6989586621681036939"><span class="hs-identifier hs-var">ai</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-279"></span><span>          </span><span class="annot"><span class="annottext">Relevance
</span><a href="Agda.Syntax.Common.html#Relevant"><span class="hs-identifier hs-var">Relevant</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; TCM ()
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-280"></span><span>          </span><span class="annot"><span class="annottext">Relevance
</span><a href="Agda.Syntax.Common.html#Irrelevant"><span class="hs-identifier hs-var">Irrelevant</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TypeError -&gt; TCM ()
forall (m :: * -&gt; *) a.
(HasCallStack, MonadTCError m) =&gt;
TypeError -&gt; m a
</span><a href="Agda.TypeChecking.Monad.Base.html#typeError"><span class="hs-identifier hs-var">typeError</span></a></span><span> </span><span class="annot"><span class="annottext">(TypeError -&gt; TCM ()) -&gt; TypeError -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; TypeError
</span><a href="Agda.TypeChecking.Monad.Base.html#GenericError"><span class="hs-identifier hs-var">GenericError</span></a></span><span> </span><span class="annot"><span class="annottext">(ArgName -&gt; TypeError) -&gt; ArgName -&gt; TypeError
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;Irrelevant constructors are not supported&quot;</span></span><span>
</span><span id="line-281"></span><span>          </span><span class="annot"><span class="annottext">Relevance
</span><a href="Agda.Syntax.Common.html#NonStrict"><span class="hs-identifier hs-var">NonStrict</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TypeError -&gt; TCM ()
forall (m :: * -&gt; *) a.
(HasCallStack, MonadTCError m) =&gt;
TypeError -&gt; m a
</span><a href="Agda.TypeChecking.Monad.Base.html#typeError"><span class="hs-identifier hs-var">typeError</span></a></span><span> </span><span class="annot"><span class="annottext">(TypeError -&gt; TCM ()) -&gt; TypeError -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; TypeError
</span><a href="Agda.TypeChecking.Monad.Base.html#GenericError"><span class="hs-identifier hs-var">GenericError</span></a></span><span> </span><span class="annot"><span class="annottext">(ArgName -&gt; TypeError) -&gt; ArgName -&gt; TypeError
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;Shape-irrelevant constructors are not supported&quot;</span></span><span>
</span><span id="line-282"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ArgInfo -&gt; Quantity
forall a. LensQuantity a =&gt; a -&gt; Quantity
</span><a href="Agda.Syntax.Common.html#getQuantity"><span class="hs-identifier hs-var">getQuantity</span></a></span><span> </span><span class="annot"><span class="annottext">ArgInfo
</span><a href="#local-6989586621681036939"><span class="hs-identifier hs-var">ai</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-283"></span><span>          </span><span class="annot"><a href="Agda.Syntax.Common.html#Quantity%3C9"><span class="hs-identifier hs-type">Quantity&#969;</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; TCM ()
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-284"></span><span>          </span><span class="annot"><a href="Agda.Syntax.Common.html#Quantity0"><span class="hs-identifier hs-type">Quantity0</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; TCM ()
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-285"></span><span>          </span><span class="annot"><a href="Agda.Syntax.Common.html#Quantity1"><span class="hs-identifier hs-type">Quantity1</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TypeError -&gt; TCM ()
forall (m :: * -&gt; *) a.
(HasCallStack, MonadTCError m) =&gt;
TypeError -&gt; m a
</span><a href="Agda.TypeChecking.Monad.Base.html#typeError"><span class="hs-identifier hs-var">typeError</span></a></span><span> </span><span class="annot"><span class="annottext">(TypeError -&gt; TCM ()) -&gt; TypeError -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; TypeError
</span><a href="Agda.TypeChecking.Monad.Base.html#GenericError"><span class="hs-identifier hs-var">GenericError</span></a></span><span> </span><span class="annot"><span class="annottext">(ArgName -&gt; TypeError) -&gt; ArgName -&gt; TypeError
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;Quantity-restricted constructors are not supported&quot;</span></span><span>
</span><span id="line-286"></span><span>        </span><span class="hs-comment">-- check that the type of the constructor is well-formed</span><span>
</span><span id="line-287"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621681036925"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036925"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681036924"><span class="annot"><span class="annottext">IsPathCons
</span><a href="#local-6989586621681036924"><span class="hs-identifier hs-var">isPathCons</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ArgInfo -&gt; TCMT IO (Type, IsPathCons) -&gt; TCMT IO (Type, IsPathCons)
forall (tcm :: * -&gt; *) q a.
(MonadTCEnv tcm, LensQuantity q) =&gt;
q -&gt; tcm a -&gt; tcm a
</span><a href="Agda.TypeChecking.Irrelevance.html#applyQuantityToContext"><span class="hs-identifier hs-var">applyQuantityToContext</span></a></span><span> </span><span class="annot"><span class="annottext">ArgInfo
</span><a href="#local-6989586621681036939"><span class="hs-identifier hs-var">ai</span></a></span><span> </span><span class="annot"><span class="annottext">(TCMT IO (Type, IsPathCons) -&gt; TCMT IO (Type, IsPathCons))
-&gt; TCMT IO (Type, IsPathCons) -&gt; TCMT IO (Type, IsPathCons)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-288"></span><span>                           </span><span class="annot"><span class="annottext">Type -&gt; QName -&gt; TCMT IO (Type, IsPathCons)
</span><a href="#local-6989586621681036922"><span class="hs-identifier hs-var">checkConstructorType</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036937"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036947"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-289"></span><span>
</span><span id="line-290"></span><span>        </span><span class="hs-comment">-- compute which constructor arguments are forced (only point constructors)</span><span>
</span><span id="line-291"></span><span>        </span><span id="local-6989586621681036921"><span class="annot"><span class="annottext">[IsForced]
</span><a href="#local-6989586621681036921"><span class="hs-identifier hs-var">forcedArgs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">IsPathCons
</span><a href="#local-6989586621681036924"><span class="hs-identifier hs-var">isPathCons</span></a></span><span> </span><span class="annot"><span class="annottext">IsPathCons -&gt; IsPathCons -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">IsPathCons
</span><a href="Agda.TypeChecking.Rules.Data.html#PointCons"><span class="hs-identifier hs-var">PointCons</span></a></span><span>
</span><span id="line-292"></span><span>                      </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">QName -&gt; Type -&gt; TCM [IsForced]
</span><a href="Agda.TypeChecking.Forcing.html#computeForcingAnnotations"><span class="hs-identifier hs-var">computeForcingAnnotations</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036938"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036925"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-293"></span><span>                      </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">[IsForced] -&gt; TCM [IsForced]
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-294"></span><span>        </span><span class="hs-comment">-- check that the sort (universe level) of the constructor type</span><span>
</span><span id="line-295"></span><span>        </span><span class="hs-comment">-- is contained in the sort of the data type</span><span>
</span><span id="line-296"></span><span>        </span><span class="hs-comment">-- (to avoid impredicative existential types)</span><span>
</span><span id="line-297"></span><span>        </span><span class="annot"><span class="annottext">Sort' Term -&gt; TCM ()
forall {m :: * -&gt; *} {a}. (MonadDebug m, PrettyTCM a) =&gt; a -&gt; m ()
</span><a href="#local-6989586621681036918"><span class="hs-identifier hs-var">debugFitsIn</span></a></span><span> </span><span class="annot"><span class="annottext">Sort' Term
</span><a href="#local-6989586621681036943"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-298"></span><span>        </span><span class="hs-comment">-- To allow propositional squash, we turn @Prop &#8467;@ into @Set &#8467;@</span><span>
</span><span id="line-299"></span><span>        </span><span class="hs-comment">-- for the purpose of checking the type of the constructors.</span><span>
</span><span id="line-300"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681036917"><span class="annot"><span class="annottext">s' :: Sort' Term
</span><a href="#local-6989586621681036917"><span class="hs-identifier hs-var hs-var">s'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Sort' Term
</span><a href="#local-6989586621681036943"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-301"></span><span>              </span><span class="annot"><a href="Agda.Syntax.Internal.html#Prop"><span class="hs-identifier hs-type">Prop</span></a></span><span> </span><span id="local-6989586621681036916"><span class="annot"><span class="annottext">Level
</span><a href="#local-6989586621681036916"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Level -&gt; Sort' Term
forall t. Level' t -&gt; Sort' t
</span><a href="Agda.Syntax.Internal.html#Type"><span class="hs-identifier hs-var">Type</span></a></span><span> </span><span class="annot"><span class="annottext">Level
</span><a href="#local-6989586621681036916"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-302"></span><span>              </span><span class="annot"><span class="annottext">Sort' Term
</span><span class="hs-identifier">_</span></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Sort' Term
</span><a href="#local-6989586621681036943"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-303"></span><span>        </span><span id="local-6989586621681036915"><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681036915"><span class="hs-identifier hs-var">arity</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Call -&gt; TCMT IO Nat -&gt; TCMT IO Nat
forall (m :: * -&gt; *) a. MonadTrace m =&gt; Call -&gt; m a -&gt; m a
</span><a href="Agda.TypeChecking.Monad.Trace.html#traceCall"><span class="hs-identifier hs-var">traceCall</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">QName -&gt; Type -&gt; Sort' Term -&gt; Call
</span><a href="Agda.TypeChecking.Monad.Base.html#CheckConstructorFitsIn"><span class="hs-identifier hs-var">CheckConstructorFitsIn</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036938"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036925"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Sort' Term
</span><a href="#local-6989586621681036917"><span class="hs-identifier hs-var">s'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(TCMT IO Nat -&gt; TCMT IO Nat) -&gt; TCMT IO Nat -&gt; TCMT IO Nat
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-304"></span><span>                 </span><span class="annot"><span class="annottext">ArgInfo -&gt; TCMT IO Nat -&gt; TCMT IO Nat
forall (tcm :: * -&gt; *) q a.
(MonadTCEnv tcm, LensQuantity q) =&gt;
q -&gt; tcm a -&gt; tcm a
</span><a href="Agda.TypeChecking.Irrelevance.html#applyQuantityToContext"><span class="hs-identifier hs-var">applyQuantityToContext</span></a></span><span> </span><span class="annot"><span class="annottext">ArgInfo
</span><a href="#local-6989586621681036939"><span class="hs-identifier hs-var">ai</span></a></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Nat -&gt; TCMT IO Nat) -&gt; TCMT IO Nat -&gt; TCMT IO Nat
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-305"></span><span>                 </span><span class="annot"><span class="annottext">UniverseCheck -&gt; [IsForced] -&gt; Type -&gt; Sort' Term -&gt; TCMT IO Nat
</span><a href="Agda.TypeChecking.Rules.Data.html#fitsIn"><span class="hs-identifier hs-var">fitsIn</span></a></span><span> </span><span class="annot"><span class="annottext">UniverseCheck
</span><a href="#local-6989586621681036946"><span class="hs-identifier hs-var">uc</span></a></span><span> </span><span class="annot"><span class="annottext">[IsForced]
</span><a href="#local-6989586621681036921"><span class="hs-identifier hs-var">forcedArgs</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036925"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Sort' Term
</span><a href="#local-6989586621681036917"><span class="hs-identifier hs-var">s'</span></a></span><span>
</span><span id="line-306"></span><span>        </span><span class="hs-comment">-- this may have instantiated some metas in s, so we reduce</span><span>
</span><span id="line-307"></span><span>        </span><span id="local-6989586621681036912"><span class="annot"><span class="annottext">Sort' Term
</span><a href="#local-6989586621681036912"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Sort' Term -&gt; TCMT IO (Sort' Term)
forall a (m :: * -&gt; *). (Reduce a, MonadReduce m) =&gt; a -&gt; m a
</span><a href="Agda.TypeChecking.Reduce.html#reduce"><span class="hs-identifier hs-var">reduce</span></a></span><span> </span><span class="annot"><span class="annottext">Sort' Term
</span><a href="#local-6989586621681036943"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-308"></span><span>        </span><span class="annot"><span class="annottext">QName -&gt; Type -&gt; TCM ()
forall {m :: * -&gt; *} {a} {a}.
(MonadDebug m, PrettyTCM a, PrettyTCM a) =&gt;
a -&gt; a -&gt; m ()
</span><a href="#local-6989586621681036911"><span class="hs-identifier hs-var">debugAdd</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036938"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036925"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-309"></span><span>
</span><span id="line-310"></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="Agda.TypeChecking.Substitute.html#TelV"><span class="hs-identifier hs-type">TelV</span></a></span><span> </span><span id="local-6989586621681036910"><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036910"><span class="hs-identifier hs-var">fields</span></a></span></span><span> </span><span class="annot"><span class="annottext">Type
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681036909"><span class="annot"><span class="annottext">Boundary
</span><a href="#local-6989586621681036909"><span class="hs-identifier hs-var">boundary</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Type -&gt; TCMT IO (TelV Type, Boundary)
forall (m :: * -&gt; *).
PureTCM m =&gt;
Nat -&gt; Type -&gt; m (TelV Type, Boundary)
</span><a href="Agda.TypeChecking.Telescope.html#telViewUpToPathBoundaryP"><span class="hs-identifier hs-var">telViewUpToPathBoundaryP</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036925"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-311"></span><span>
</span><span id="line-312"></span><span>        </span><span class="hs-comment">-- We assume that the current context matches the parameters</span><span>
</span><span id="line-313"></span><span>        </span><span class="hs-comment">-- of the datatype in an empty context (c.f. getContextSize above).</span><span>
</span><span id="line-314"></span><span>        </span><span id="local-6989586621681036907"><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036907"><span class="hs-identifier hs-var">params</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TCMT IO (Tele (Dom Type))
forall (m :: * -&gt; *).
(Applicative m, MonadTCEnv m) =&gt;
m (Tele (Dom Type))
</span><a href="Agda.TypeChecking.Monad.Context.html#getContextTelescope"><span class="hs-identifier hs-var">getContextTelescope</span></a></span><span>
</span><span id="line-315"></span><span>
</span><span id="line-316"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621681036905"><span class="annot"><span class="annottext">ConHead
</span><a href="#local-6989586621681036905"><span class="hs-identifier hs-var">con</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681036904"><span class="annot"><span class="annottext">CompKit
</span><a href="#local-6989586621681036904"><span class="hs-identifier hs-var">comp</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681036903"><span class="annot"><span class="annottext">Maybe [QName]
</span><a href="#local-6989586621681036903"><span class="hs-identifier hs-var">projNames</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-317"></span><span>            </span><span class="hs-comment">-- Name for projection of ith field of constructor c is just c-i</span><span>
</span><span id="line-318"></span><span>            </span><span id="local-6989586621681036902"><span class="annot"><span class="annottext">[QName]
</span><a href="#local-6989586621681036902"><span class="hs-identifier hs-var">names</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Nat] -&gt; (Nat -&gt; TCMT IO QName) -&gt; TCMT IO [QName]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
t a -&gt; (a -&gt; m b) -&gt; m (t b)
</span><span class="hs-identifier hs-var">forM</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">..</span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Nat
forall a. Sized a =&gt; a -&gt; Nat
</span><a href="Agda.Utils.Size.html#size"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036910"><span class="hs-identifier hs-var">fields</span></a></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Nat -&gt; Nat
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">1</span></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">((Nat -&gt; TCMT IO QName) -&gt; TCMT IO [QName])
-&gt; (Nat -&gt; TCMT IO QName) -&gt; TCMT IO [QName]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681036901"><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681036901"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-319"></span><span>              </span><span class="annot"><span class="annottext">ArgName -&gt; TCMT IO QName
</span><a href="Agda.TypeChecking.Rules.Data.html#freshAbstractQName%27_"><span class="hs-identifier hs-var">freshAbstractQName'_</span></a></span><span> </span><span class="annot"><span class="annottext">(ArgName -&gt; TCMT IO QName) -&gt; ArgName -&gt; TCMT IO QName
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; ArgName
forall a. Pretty a =&gt; a -&gt; ArgName
</span><a href="Agda.Utils.Pretty.html#prettyShow"><span class="hs-identifier hs-var">P.prettyShow</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">QName -&gt; Name
</span><a href="Agda.Syntax.Abstract.Name.html#qnameName"><span class="hs-identifier hs-var">A.qnameName</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036938"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; ArgName -&gt; ArgName
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;-&quot;</span></span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; ArgName -&gt; ArgName
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; ArgName
forall a. Show a =&gt; a -&gt; ArgName
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681036901"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-320"></span><span>
</span><span id="line-321"></span><span>            </span><span class="hs-comment">-- nofIxs == 0 means the data type can be reconstructed</span><span>
</span><span id="line-322"></span><span>            </span><span class="hs-comment">-- by appling the QName d to the parameters.</span><span>
</span><span id="line-323"></span><span>            </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681036897"><span class="annot"><span class="annottext">dataT :: Type
</span><a href="#local-6989586621681036897"><span class="hs-identifier hs-var hs-var">dataT</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Sort' Term -&gt; Term -&gt; Type
forall t a. Sort' t -&gt; a -&gt; Type'' t a
</span><a href="Agda.Syntax.Internal.html#El"><span class="hs-identifier hs-var">El</span></a></span><span> </span><span class="annot"><span class="annottext">Sort' Term
</span><a href="#local-6989586621681036912"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">(Term -&gt; Type) -&gt; Term -&gt; Type
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">QName -&gt; [Elim' Term] -&gt; Term
</span><a href="Agda.Syntax.Internal.html#Def"><span class="hs-identifier hs-var">Def</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036947"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="annot"><span class="annottext">([Elim' Term] -&gt; Term) -&gt; [Elim' Term] -&gt; Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Arg Term -&gt; Elim' Term) -&gt; [Arg Term] -&gt; [Elim' Term]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Arg Term -&gt; Elim' Term
forall a. Arg a -&gt; Elim' a
</span><a href="Agda.Syntax.Internal.Elim.html#Apply"><span class="hs-identifier hs-var">Apply</span></a></span><span> </span><span class="annot"><span class="annottext">([Arg Term] -&gt; [Elim' Term]) -&gt; [Arg Term] -&gt; [Elim' Term]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; [Arg Term]
forall a t. DeBruijn a =&gt; Tele (Dom t) -&gt; [Arg a]
</span><a href="Agda.TypeChecking.Telescope.html#teleArgs"><span class="hs-identifier hs-var">teleArgs</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036907"><span class="hs-identifier hs-var">params</span></a></span><span>
</span><span id="line-324"></span><span>
</span><span id="line-325"></span><span>            </span><span class="annot"><span class="annottext">ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; TCM ()
forall (m :: * -&gt; *).
MonadDebug m =&gt;
ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; m ()
</span><a href="Agda.TypeChecking.Monad.Debug.html#reportSDoc"><span class="hs-identifier hs-var">reportSDoc</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;tc.data.con.comp&quot;</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">5</span></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Doc -&gt; TCM ()) -&gt; TCMT IO Doc -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc -&gt; TCMT IO Doc
forall (tcm :: * -&gt; *) a.
(MonadTCEnv tcm, ReadTCState tcm) =&gt;
tcm a -&gt; tcm a
</span><a href="Agda.TypeChecking.Monad.Context.html#inTopContext"><span class="hs-identifier hs-var">inTopContext</span></a></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Doc -&gt; TCMT IO Doc) -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[TCMT IO Doc] -&gt; TCMT IO Doc
forall (m :: * -&gt; *) (t :: * -&gt; *).
(Applicative m, Foldable t) =&gt;
t (m Doc) -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#vcat"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="annot"><span class="annottext">([TCMT IO Doc] -&gt; TCMT IO Doc) -&gt; [TCMT IO Doc] -&gt; TCMT IO Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-326"></span><span>              </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc
</span><span class="hs-string">&quot;params =&quot;</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; m Doc -&gt; m Doc -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; TCMT IO Doc
forall (m :: * -&gt; *) a. (Applicative m, Pretty a) =&gt; a -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036907"><span class="hs-identifier hs-var">params</span></a></span><span>
</span><span id="line-327"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc
</span><span class="hs-string">&quot;dataT  =&quot;</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; m Doc -&gt; m Doc -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Type -&gt; TCMT IO Doc
forall (m :: * -&gt; *) a. (Applicative m, Pretty a) =&gt; a -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036897"><span class="hs-identifier hs-var">dataT</span></a></span><span>
</span><span id="line-328"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc
</span><span class="hs-string">&quot;fields =&quot;</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; m Doc -&gt; m Doc -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; TCMT IO Doc
forall (m :: * -&gt; *) a. (Applicative m, Pretty a) =&gt; a -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036910"><span class="hs-identifier hs-var">fields</span></a></span><span>
</span><span id="line-329"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc
</span><span class="hs-string">&quot;names  =&quot;</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; m Doc -&gt; m Doc -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[QName] -&gt; TCMT IO Doc
forall (m :: * -&gt; *) a. (Applicative m, Pretty a) =&gt; a -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a></span><span> </span><span class="annot"><span class="annottext">[QName]
</span><a href="#local-6989586621681036902"><span class="hs-identifier hs-var">names</span></a></span><span>
</span><span id="line-330"></span><span>              </span><span class="hs-special">]</span><span>
</span><span id="line-331"></span><span>
</span><span id="line-332"></span><span>            </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681036891"><span class="annot"><span class="annottext">con :: ConHead
</span><a href="#local-6989586621681036891"><span class="hs-identifier hs-var hs-var">con</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">QName -&gt; DataOrRecord -&gt; Induction -&gt; [Arg QName] -&gt; ConHead
</span><a href="Agda.Syntax.Internal.html#ConHead"><span class="hs-identifier hs-var">ConHead</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036938"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">DataOrRecord
</span><a href="Agda.Syntax.Internal.html#IsData"><span class="hs-identifier hs-var">IsData</span></a></span><span> </span><span class="annot"><span class="annottext">Induction
</span><a href="Agda.Syntax.Common.html#Inductive"><span class="hs-identifier hs-var">Inductive</span></a></span><span> </span><span class="annot"><span class="annottext">([Arg QName] -&gt; ConHead) -&gt; [Arg QName] -&gt; ConHead
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(QName -&gt; Arg (ArgName, Type) -&gt; Arg QName)
-&gt; [QName] -&gt; [Arg (ArgName, Type)] -&gt; [Arg QName]
forall a b c. (a -&gt; b -&gt; c) -&gt; [a] -&gt; [b] -&gt; [c]
</span><span class="hs-identifier hs-var">zipWith</span></span><span> </span><span class="annot"><span class="annottext">QName -&gt; Arg (ArgName, Type) -&gt; Arg QName
forall (f :: * -&gt; *) a b. Functor f =&gt; a -&gt; f b -&gt; f a
</span><span class="hs-operator hs-var">(&lt;$)</span></span><span> </span><span class="annot"><span class="annottext">[QName]
</span><a href="#local-6989586621681036902"><span class="hs-identifier hs-var">names</span></a></span><span> </span><span class="annot"><span class="annottext">([Arg (ArgName, Type)] -&gt; [Arg QName])
-&gt; [Arg (ArgName, Type)] -&gt; [Arg QName]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Dom' Term (ArgName, Type) -&gt; Arg (ArgName, Type))
-&gt; [Dom' Term (ArgName, Type)] -&gt; [Arg (ArgName, Type)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Dom' Term (ArgName, Type) -&gt; Arg (ArgName, Type)
forall t a. Dom' t a -&gt; Arg a
</span><a href="Agda.Syntax.Internal.html#argFromDom"><span class="hs-identifier hs-var">argFromDom</span></a></span><span> </span><span class="annot"><span class="annottext">([Dom' Term (ArgName, Type)] -&gt; [Arg (ArgName, Type)])
-&gt; [Dom' Term (ArgName, Type)] -&gt; [Arg (ArgName, Type)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; [Dom' Term (ArgName, Type)]
forall t. Tele (Dom t) -&gt; [Dom (ArgName, t)]
</span><a href="Agda.Syntax.Internal.html#telToList"><span class="hs-identifier hs-var">telToList</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036910"><span class="hs-identifier hs-var">fields</span></a></span><span>
</span><span id="line-333"></span><span>
</span><span id="line-334"></span><span>            </span><span class="annot"><span class="annottext">QName
-&gt; ConHead
-&gt; Tele (Dom Type)
-&gt; [QName]
-&gt; Tele (Dom Type)
-&gt; Type
-&gt; TCM ()
</span><a href="Agda.TypeChecking.Rules.Data.html#defineProjections"><span class="hs-identifier hs-var">defineProjections</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036947"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="annot"><span class="annottext">ConHead
</span><a href="#local-6989586621681036891"><span class="hs-identifier hs-var">con</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036907"><span class="hs-identifier hs-var">params</span></a></span><span> </span><span class="annot"><span class="annottext">[QName]
</span><a href="#local-6989586621681036902"><span class="hs-identifier hs-var">names</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036910"><span class="hs-identifier hs-var">fields</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036897"><span class="hs-identifier hs-var">dataT</span></a></span><span>
</span><span id="line-335"></span><span>            </span><span class="hs-comment">-- Cannot compose indexed inductive types yet.</span><span>
</span><span id="line-336"></span><span>            </span><span id="local-6989586621681036882"><span class="annot"><span class="annottext">CompKit
</span><a href="#local-6989586621681036882"><span class="hs-identifier hs-var">comp</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681036944"><span class="hs-identifier hs-var">nofIxs</span></a></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Nat -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DefInfo -&gt; IsAbstract
forall t. DefInfo' t -&gt; IsAbstract
</span><a href="Agda.Syntax.Info.html#defAbstract"><span class="hs-identifier hs-var">Info.defAbstract</span></a></span><span> </span><span class="annot"><span class="annottext">DefInfo
</span><a href="#local-6989586621681036940"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">IsAbstract -&gt; IsAbstract -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">IsAbstract
</span><a href="Agda.Syntax.Common.html#AbstractDef"><span class="hs-identifier hs-var">AbstractDef</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-337"></span><span>                    </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">CompKit -&gt; TCMT IO CompKit
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">CompKit
</span><a href="Agda.TypeChecking.Monad.Base.html#emptyCompKit"><span class="hs-identifier hs-var">emptyCompKit</span></a></span><span>
</span><span id="line-338"></span><span>                    </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">TCMT IO CompKit -&gt; TCMT IO CompKit
forall (tcm :: * -&gt; *) a.
(MonadTCEnv tcm, ReadTCState tcm) =&gt;
tcm a -&gt; tcm a
</span><a href="Agda.TypeChecking.Monad.Context.html#inTopContext"><span class="hs-identifier hs-var">inTopContext</span></a></span><span> </span><span class="annot"><span class="annottext">(TCMT IO CompKit -&gt; TCMT IO CompKit)
-&gt; TCMT IO CompKit -&gt; TCMT IO CompKit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">QName
-&gt; ConHead
-&gt; Tele (Dom Type)
-&gt; [QName]
-&gt; Tele (Dom Type)
-&gt; Type
-&gt; Boundary
-&gt; TCMT IO CompKit
</span><a href="Agda.TypeChecking.Rules.Data.html#defineCompData"><span class="hs-identifier hs-var">defineCompData</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036947"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="annot"><span class="annottext">ConHead
</span><a href="#local-6989586621681036891"><span class="hs-identifier hs-var">con</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036907"><span class="hs-identifier hs-var">params</span></a></span><span> </span><span class="annot"><span class="annottext">[QName]
</span><a href="#local-6989586621681036902"><span class="hs-identifier hs-var">names</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036910"><span class="hs-identifier hs-var">fields</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036897"><span class="hs-identifier hs-var">dataT</span></a></span><span> </span><span class="annot"><span class="annottext">Boundary
</span><a href="#local-6989586621681036909"><span class="hs-identifier hs-var">boundary</span></a></span><span>
</span><span id="line-339"></span><span>            </span><span class="annot"><span class="annottext">(ConHead, CompKit, Maybe [QName])
-&gt; TCMT IO (ConHead, CompKit, Maybe [QName])
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ConHead
</span><a href="#local-6989586621681036891"><span class="hs-identifier hs-var">con</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CompKit
</span><a href="#local-6989586621681036882"><span class="hs-identifier hs-var">comp</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[QName] -&gt; Maybe [QName]
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">[QName]
</span><a href="#local-6989586621681036902"><span class="hs-identifier hs-var">names</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-340"></span><span>
</span><span id="line-341"></span><span>        </span><span class="hs-comment">-- add parameters to constructor type and put into signature</span><span>
</span><span id="line-342"></span><span>        </span><span class="annot"><span class="annottext">Impossible -&gt; Nat -&gt; TCM () -&gt; TCM ()
forall (m :: * -&gt; *) a.
MonadAddContext m =&gt;
Impossible -&gt; Nat -&gt; m a -&gt; m a
</span><a href="Agda.TypeChecking.Monad.Context.html#escapeContext"><span class="hs-identifier hs-var">escapeContext</span></a></span><span> </span><span class="annot"><span class="annottext">Impossible
HasCallStack =&gt; Impossible
</span><a href="Agda.Utils.Impossible.html#impossible"><span class="hs-identifier hs-var">impossible</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Nat
forall a. Sized a =&gt; a -&gt; Nat
</span><a href="Agda.Utils.Size.html#size"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036945"><span class="hs-identifier hs-var">tel</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(TCM () -&gt; TCM ()) -&gt; TCM () -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-343"></span><span>
</span><span id="line-344"></span><span>          </span><span class="annot"><span class="annottext">QName -&gt; ArgInfo -&gt; QName -&gt; Type -&gt; Defn -&gt; TCM ()
</span><a href="Agda.TypeChecking.Monad.Signature.html#addConstant%27"><span class="hs-identifier hs-var">addConstant'</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036938"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">ArgInfo
</span><a href="#local-6989586621681036939"><span class="hs-identifier hs-var">ai</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036938"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Type -&gt; Type
</span><a href="Agda.TypeChecking.Substitute.html#telePi"><span class="hs-identifier hs-var">telePi</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036945"><span class="hs-identifier hs-var">tel</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036925"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Defn -&gt; TCM ()) -&gt; Defn -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#Constructor"><span class="hs-identifier hs-type">Constructor</span></a></span><span>
</span><span id="line-345"></span><span>              </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">conPars :: Nat
</span><a href="Agda.TypeChecking.Monad.Base.html#conPars"><span class="hs-identifier hs-var">conPars</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Nat
forall a. Sized a =&gt; a -&gt; Nat
</span><a href="Agda.Utils.Size.html#size"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036945"><span class="hs-identifier hs-var">tel</span></a></span><span>
</span><span id="line-346"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">conArity :: Nat
</span><a href="Agda.TypeChecking.Monad.Base.html#conArity"><span class="hs-identifier hs-var">conArity</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681036915"><span class="hs-identifier hs-var">arity</span></a></span><span>
</span><span id="line-347"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">conSrcCon :: ConHead
</span><a href="Agda.TypeChecking.Monad.Base.html#conSrcCon"><span class="hs-identifier hs-var">conSrcCon</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ConHead
</span><a href="#local-6989586621681036905"><span class="hs-identifier hs-var">con</span></a></span><span>
</span><span id="line-348"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">conData :: QName
</span><a href="Agda.TypeChecking.Monad.Base.html#conData"><span class="hs-identifier hs-var">conData</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036947"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-349"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">conAbstr :: IsAbstract
</span><a href="Agda.TypeChecking.Monad.Base.html#conAbstr"><span class="hs-identifier hs-var">conAbstr</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DefInfo -&gt; IsAbstract
forall t. DefInfo' t -&gt; IsAbstract
</span><a href="Agda.Syntax.Info.html#defAbstract"><span class="hs-identifier hs-var">Info.defAbstract</span></a></span><span> </span><span class="annot"><span class="annottext">DefInfo
</span><a href="#local-6989586621681036940"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-350"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">conInd :: Induction
</span><a href="Agda.TypeChecking.Monad.Base.html#conInd"><span class="hs-identifier hs-var">conInd</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Induction
</span><a href="Agda.Syntax.Common.html#Inductive"><span class="hs-identifier hs-var">Inductive</span></a></span><span>
</span><span id="line-351"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">conComp :: CompKit
</span><a href="Agda.TypeChecking.Monad.Base.html#conComp"><span class="hs-identifier hs-var">conComp</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CompKit
</span><a href="#local-6989586621681036904"><span class="hs-identifier hs-var">comp</span></a></span><span>
</span><span id="line-352"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">conProj :: Maybe [QName]
</span><a href="Agda.TypeChecking.Monad.Base.html#conProj"><span class="hs-identifier hs-var">conProj</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe [QName]
</span><a href="#local-6989586621681036903"><span class="hs-identifier hs-var">projNames</span></a></span><span>
</span><span id="line-353"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">conForced :: [IsForced]
</span><a href="Agda.TypeChecking.Monad.Base.html#conForced"><span class="hs-identifier hs-var">conForced</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[IsForced]
</span><a href="#local-6989586621681036921"><span class="hs-identifier hs-var">forcedArgs</span></a></span><span>
</span><span id="line-354"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">conErased :: Maybe [Bool]
</span><a href="Agda.TypeChecking.Monad.Base.html#conErased"><span class="hs-identifier hs-var">conErased</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe [Bool]
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>  </span><span class="hs-comment">-- computed during compilation to treeless</span><span>
</span><span id="line-355"></span><span>              </span><span class="hs-special">}</span><span>
</span><span id="line-356"></span><span>
</span><span id="line-357"></span><span>        </span><span class="hs-comment">-- Add the constructor to the instance table, if needed</span><span>
</span><span id="line-358"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">DefInfo -&gt; IsInstance
forall t. DefInfo' t -&gt; IsInstance
</span><a href="Agda.Syntax.Info.html#defInstance"><span class="hs-identifier hs-var">Info.defInstance</span></a></span><span> </span><span class="annot"><span class="annottext">DefInfo
</span><a href="#local-6989586621681036940"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-359"></span><span>          </span><span class="annot"><a href="Agda.Syntax.Common.html#InstanceDef"><span class="hs-identifier hs-type">InstanceDef</span></a></span><span> </span><span id="local-6989586621681036863"><span class="annot"><span class="annottext">Range
</span><a href="#local-6989586621681036863"><span class="hs-identifier hs-var">_r</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">QName -&gt; TCM () -&gt; TCM ()
forall (m :: * -&gt; *) x a.
(MonadTrace m, HasRange x) =&gt;
x -&gt; m a -&gt; m a
</span><a href="Agda.TypeChecking.Monad.Trace.html#setCurrentRange"><span class="hs-identifier hs-var">setCurrentRange</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036938"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">(TCM () -&gt; TCM ()) -&gt; TCM () -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-360"></span><span>            </span><span class="hs-comment">-- Including the range of the @instance@ keyword, like</span><span>
</span><span id="line-361"></span><span>            </span><span class="hs-comment">-- @(getRange (r,c))@, does not produce good results.</span><span>
</span><span id="line-362"></span><span>            </span><span class="hs-comment">-- Andreas, 2020-01-28, issue #4360:</span><span>
</span><span id="line-363"></span><span>            </span><span class="hs-comment">-- Use addTypedInstance instead of addNamedInstance</span><span>
</span><span id="line-364"></span><span>            </span><span class="hs-comment">-- to detect unusable instances.</span><span>
</span><span id="line-365"></span><span>            </span><span class="annot"><span class="annottext">QName -&gt; Type -&gt; TCM ()
</span><a href="Agda.TypeChecking.Telescope.html#addTypedInstance"><span class="hs-identifier hs-var">addTypedInstance</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036938"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036925"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-366"></span><span>            </span><span class="hs-comment">-- addNamedInstance c d</span><span>
</span><span id="line-367"></span><span>          </span><span class="annot"><span class="annottext">IsInstance
</span><a href="Agda.Syntax.Common.html#NotInstanceDef"><span class="hs-identifier hs-var">NotInstanceDef</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; TCM ()
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-368"></span><span>
</span><span id="line-369"></span><span>        </span><span class="annot"><span class="annottext">IsPathCons -&gt; TCM IsPathCons
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">IsPathCons
</span><a href="#local-6989586621681036924"><span class="hs-identifier hs-var">isPathCons</span></a></span><span>
</span><span id="line-370"></span><span>
</span><span id="line-371"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-372"></span><span>    </span><span class="hs-comment">-- Issue 3362: we need to do the `constructs` call inside the</span><span>
</span><span id="line-373"></span><span>    </span><span class="hs-comment">-- generalization, so unpack the A.Generalize</span><span>
</span><span id="line-374"></span><span>    </span><span id="local-6989586621681036922"><span class="annot"><span class="annottext">checkConstructorType :: Type -&gt; QName -&gt; TCMT IO (Type, IsPathCons)
</span><a href="#local-6989586621681036922"><span class="hs-identifier hs-var hs-var">checkConstructorType</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Abstract.html#ScopedExpr"><span class="hs-identifier hs-type">A.ScopedExpr</span></a></span><span> </span><span id="local-6989586621681036835"><span class="annot"><span class="annottext">ScopeInfo
</span><a href="#local-6989586621681036835"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621681036834"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036834"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681036833"><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036833"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ScopeInfo
-&gt; TCMT IO (Type, IsPathCons) -&gt; TCMT IO (Type, IsPathCons)
forall (m :: * -&gt; *) a. ReadTCState m =&gt; ScopeInfo -&gt; m a -&gt; m a
</span><a href="Agda.TypeChecking.Monad.State.html#withScope_"><span class="hs-identifier hs-var">withScope_</span></a></span><span> </span><span class="annot"><span class="annottext">ScopeInfo
</span><a href="#local-6989586621681036835"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">(TCMT IO (Type, IsPathCons) -&gt; TCMT IO (Type, IsPathCons))
-&gt; TCMT IO (Type, IsPathCons) -&gt; TCMT IO (Type, IsPathCons)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Type -&gt; QName -&gt; TCMT IO (Type, IsPathCons)
</span><a href="#local-6989586621681036922"><span class="hs-identifier hs-var">checkConstructorType</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036834"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036833"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-375"></span><span>    </span><span class="annot"><a href="#local-6989586621681036922"><span class="hs-identifier hs-var">checkConstructorType</span></a></span><span> </span><span id="local-6989586621681036831"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036831"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621681036830"><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036830"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-376"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681036829"><span class="annot"><span class="annottext">check :: Nat -&gt; Type -&gt; TCMT IO (Type, IsPathCons)
</span><a href="#local-6989586621681036829"><span class="hs-identifier hs-var hs-var">check</span></a></span></span><span> </span><span id="local-6989586621681036828"><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681036828"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621681036827"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036827"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-377"></span><span>            </span><span id="local-6989586621681036826"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036826"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TCMT IO Type -&gt; TCMT IO Type
forall (m :: * -&gt; *) a.
(MonadTCEnv m, HasOptions m, MonadDebug m) =&gt;
m a -&gt; m a
</span><a href="Agda.TypeChecking.Irrelevance.html#workOnTypes"><span class="hs-identifier hs-var">workOnTypes</span></a></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Type -&gt; TCMT IO Type) -&gt; TCMT IO Type -&gt; TCMT IO Type
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Type -&gt; TCMT IO Type
</span><a href="Agda.TypeChecking.Rules.Term.html#isType_"><span class="hs-identifier hs-var">isType_</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036827"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-378"></span><span>            </span><span class="hs-comment">-- check that the type of the constructor ends in the data type</span><span>
</span><span id="line-379"></span><span>            </span><span id="local-6989586621681036825"><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681036825"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TCMT IO Nat
forall (m :: * -&gt; *). (Applicative m, MonadTCEnv m) =&gt; m Nat
</span><a href="Agda.TypeChecking.Monad.Context.html#getContextSize"><span class="hs-identifier hs-var">getContextSize</span></a></span><span>
</span><span id="line-380"></span><span>            </span><span class="annot"><span class="annottext">Type -&gt; QName -&gt; Nat -&gt; TCM ()
forall {m :: * -&gt; *} {a} {a} {a}.
(MonadDebug m, PrettyTCM a, PrettyTCM a, Show a) =&gt;
a -&gt; a -&gt; a -&gt; m ()
</span><a href="#local-6989586621681036824"><span class="hs-identifier hs-var">debugEndsIn</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036826"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036830"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681036825"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Nat -&gt; Nat
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681036828"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-381"></span><span>            </span><span id="local-6989586621681036823"><span class="annot"><span class="annottext">IsPathCons
</span><a href="#local-6989586621681036823"><span class="hs-identifier hs-var">isPathCons</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Nat -&gt; Type -&gt; QName -&gt; TCM IsPathCons
</span><a href="Agda.TypeChecking.Rules.Data.html#constructs"><span class="hs-identifier hs-var">constructs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681036825"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Nat -&gt; Nat
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681036828"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681036828"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036826"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036830"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-382"></span><span>            </span><span class="annot"><span class="annottext">(Type, IsPathCons) -&gt; TCMT IO (Type, IsPathCons)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036826"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">IsPathCons
</span><a href="#local-6989586621681036823"><span class="hs-identifier hs-var">isPathCons</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-383"></span><span>
</span><span id="line-384"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036831"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-385"></span><span>        </span><span class="annot"><a href="Agda.Syntax.Abstract.html#Generalized"><span class="hs-identifier hs-type">A.Generalized</span></a></span><span> </span><span id="local-6989586621681036820"><span class="annot"><span class="annottext">Set QName
</span><a href="#local-6989586621681036820"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621681036819"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036819"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-386"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Maybe QName]
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681036818"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036818"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681036817"><span class="annot"><span class="annottext">IsPathCons
</span><a href="#local-6989586621681036817"><span class="hs-identifier hs-var">isPathCons</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Set QName
-&gt; TCMT IO (Type, IsPathCons)
-&gt; TCM ([Maybe QName], Type, IsPathCons)
forall a.
Set QName -&gt; TCM (Type, a) -&gt; TCM ([Maybe QName], Type, a)
</span><a href="Agda.TypeChecking.Generalize.html#generalizeType%27"><span class="hs-identifier hs-var">generalizeType'</span></a></span><span> </span><span class="annot"><span class="annottext">Set QName
</span><a href="#local-6989586621681036820"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Nat -&gt; Type -&gt; TCMT IO (Type, IsPathCons)
</span><a href="#local-6989586621681036829"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036819"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-387"></span><span>          </span><span class="annot"><span class="annottext">(Type, IsPathCons) -&gt; TCMT IO (Type, IsPathCons)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036818"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">IsPathCons
</span><a href="#local-6989586621681036817"><span class="hs-identifier hs-var">isPathCons</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-388"></span><span>        </span><span class="annot"><span class="annottext">Type
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Type -&gt; TCMT IO (Type, IsPathCons)
</span><a href="#local-6989586621681036829"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036831"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-389"></span><span>
</span><span id="line-390"></span><span>    </span><span id="local-6989586621681036935"><span class="annot"><span class="annottext">debugEnter :: a -&gt; a -&gt; m ()
</span><a href="#local-6989586621681036935"><span class="hs-identifier hs-var hs-var">debugEnter</span></a></span></span><span> </span><span id="local-6989586621681036789"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681036789"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621681036788"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681036788"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-391"></span><span>      </span><span class="annot"><span class="annottext">ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; m ()
forall (m :: * -&gt; *).
MonadDebug m =&gt;
ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; m ()
</span><a href="Agda.TypeChecking.Monad.Debug.html#reportSDoc"><span class="hs-identifier hs-var">reportSDoc</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;tc.data.con&quot;</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">5</span></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Doc -&gt; m ()) -&gt; TCMT IO Doc -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[TCMT IO Doc] -&gt; TCMT IO Doc
forall (m :: * -&gt; *) (t :: * -&gt; *).
(Applicative m, Foldable t) =&gt;
t (m Doc) -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#vcat"><span class="hs-identifier hs-var">vcat</span></a></span><span>
</span><span id="line-392"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc
</span><span class="hs-string">&quot;checking constructor&quot;</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; m Doc -&gt; m Doc -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; TCMT IO Doc
forall a (m :: * -&gt; *). (PrettyTCM a, MonadPretty m) =&gt; a -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#prettyTCM"><span class="hs-identifier hs-var">prettyTCM</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681036789"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; m Doc -&gt; m Doc -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc
</span><span class="hs-string">&quot;:&quot;</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; m Doc -&gt; m Doc -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; TCMT IO Doc
forall a (m :: * -&gt; *). (PrettyTCM a, MonadPretty m) =&gt; a -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#prettyTCM"><span class="hs-identifier hs-var">prettyTCM</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681036788"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-393"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-394"></span><span>    </span><span id="local-6989586621681036824"><span class="annot"><span class="annottext">debugEndsIn :: a -&gt; a -&gt; a -&gt; m ()
</span><a href="#local-6989586621681036824"><span class="hs-identifier hs-var hs-var">debugEndsIn</span></a></span></span><span> </span><span id="local-6989586621681036753"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681036753"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621681036752"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681036752"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span id="local-6989586621681036751"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681036751"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-395"></span><span>      </span><span class="annot"><span class="annottext">ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; m ()
forall (m :: * -&gt; *).
MonadDebug m =&gt;
ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; m ()
</span><a href="Agda.TypeChecking.Monad.Debug.html#reportSDoc"><span class="hs-identifier hs-var">reportSDoc</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;tc.data.con&quot;</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">15</span></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Doc -&gt; m ()) -&gt; TCMT IO Doc -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[TCMT IO Doc] -&gt; TCMT IO Doc
forall (m :: * -&gt; *) (t :: * -&gt; *).
(Applicative m, Foldable t) =&gt;
t (m Doc) -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#vcat"><span class="hs-identifier hs-var">vcat</span></a></span><span>
</span><span id="line-396"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">[TCMT IO Doc] -&gt; TCMT IO Doc
forall (m :: * -&gt; *) (t :: * -&gt; *).
(Applicative m, Foldable t) =&gt;
t (m Doc) -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#sep"><span class="hs-identifier hs-var">sep</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc
</span><span class="hs-string">&quot;checking that&quot;</span></span><span>
</span><span id="line-397"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Nat -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Functor m =&gt; Nat -&gt; m Doc -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#nest"><span class="hs-identifier hs-var">nest</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Doc -&gt; TCMT IO Doc) -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; TCMT IO Doc
forall a (m :: * -&gt; *). (PrettyTCM a, MonadPretty m) =&gt; a -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#prettyTCM"><span class="hs-identifier hs-var">prettyTCM</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681036753"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-398"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc
</span><span class="hs-string">&quot;ends in&quot;</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; m Doc -&gt; m Doc -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; TCMT IO Doc
forall a (m :: * -&gt; *). (PrettyTCM a, MonadPretty m) =&gt; a -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#prettyTCM"><span class="hs-identifier hs-var">prettyTCM</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681036752"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-399"></span><span>              </span><span class="hs-special">]</span><span>
</span><span id="line-400"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Nat -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Functor m =&gt; Nat -&gt; m Doc -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#nest"><span class="hs-identifier hs-var">nest</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Doc -&gt; TCMT IO Doc) -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc
</span><span class="hs-string">&quot;nofPars =&quot;</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; m Doc -&gt; m Doc -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; ArgName -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; ArgName
forall a. Show a =&gt; a -&gt; ArgName
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681036751"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-401"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-402"></span><span>    </span><span id="local-6989586621681036918"><span class="annot"><span class="annottext">debugFitsIn :: a -&gt; m ()
</span><a href="#local-6989586621681036918"><span class="hs-identifier hs-var hs-var">debugFitsIn</span></a></span></span><span> </span><span id="local-6989586621681036728"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681036728"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-403"></span><span>      </span><span class="annot"><span class="annottext">ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; m ()
forall (m :: * -&gt; *).
MonadDebug m =&gt;
ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; m ()
</span><a href="Agda.TypeChecking.Monad.Debug.html#reportSDoc"><span class="hs-identifier hs-var">reportSDoc</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;tc.data.con&quot;</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">15</span></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Doc -&gt; m ()) -&gt; TCMT IO Doc -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[TCMT IO Doc] -&gt; TCMT IO Doc
forall (m :: * -&gt; *) (t :: * -&gt; *).
(Applicative m, Foldable t) =&gt;
t (m Doc) -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#sep"><span class="hs-identifier hs-var">sep</span></a></span><span>
</span><span id="line-404"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc
</span><span class="hs-string">&quot;checking that the type fits in&quot;</span></span><span>
</span><span id="line-405"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Nat -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Functor m =&gt; Nat -&gt; m Doc -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#nest"><span class="hs-identifier hs-var">nest</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Doc -&gt; TCMT IO Doc) -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; TCMT IO Doc
forall a (m :: * -&gt; *). (PrettyTCM a, MonadPretty m) =&gt; a -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#prettyTCM"><span class="hs-identifier hs-var">prettyTCM</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681036728"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-406"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-407"></span><span>    </span><span id="local-6989586621681036911"><span class="annot"><span class="annottext">debugAdd :: a -&gt; a -&gt; m ()
</span><a href="#local-6989586621681036911"><span class="hs-identifier hs-var hs-var">debugAdd</span></a></span></span><span> </span><span id="local-6989586621681036701"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681036701"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621681036700"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681036700"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-408"></span><span>      </span><span class="annot"><span class="annottext">ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; m ()
forall (m :: * -&gt; *).
MonadDebug m =&gt;
ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; m ()
</span><a href="Agda.TypeChecking.Monad.Debug.html#reportSDoc"><span class="hs-identifier hs-var">reportSDoc</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;tc.data.con&quot;</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">5</span></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Doc -&gt; m ()) -&gt; TCMT IO Doc -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[TCMT IO Doc] -&gt; TCMT IO Doc
forall (m :: * -&gt; *) (t :: * -&gt; *).
(Applicative m, Foldable t) =&gt;
t (m Doc) -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#vcat"><span class="hs-identifier hs-var">vcat</span></a></span><span>
</span><span id="line-409"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc
</span><span class="hs-string">&quot;adding constructor&quot;</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; m Doc -&gt; m Doc -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; TCMT IO Doc
forall a (m :: * -&gt; *). (PrettyTCM a, MonadPretty m) =&gt; a -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#prettyTCM"><span class="hs-identifier hs-var">prettyTCM</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681036701"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; m Doc -&gt; m Doc -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc
</span><span class="hs-string">&quot;:&quot;</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; m Doc -&gt; m Doc -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; TCMT IO Doc
forall a (m :: * -&gt; *). (PrettyTCM a, MonadPretty m) =&gt; a -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#prettyTCM"><span class="hs-identifier hs-var">prettyTCM</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681036700"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-410"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-411"></span><span class="annot"><a href="Agda.TypeChecking.Rules.Data.html#checkConstructor"><span class="hs-identifier hs-var">checkConstructor</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">UniverseCheck
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Sort' Term
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Constructor
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TCM IsPathCons
forall a. HasCallStack =&gt; a
</span><a href="Agda.Utils.Impossible.html#__IMPOSSIBLE__"><span class="hs-identifier hs-var">__IMPOSSIBLE__</span></a></span><span> </span><span class="hs-comment">-- constructors are axioms</span><span>
</span><span id="line-412"></span><span>
</span><span id="line-413"></span><span class="annot"><a href="Agda.TypeChecking.Rules.Data.html#defineCompData"><span class="hs-identifier hs-type">defineCompData</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Abstract.Name.html#QName"><span class="hs-identifier hs-type">QName</span></a></span><span>      </span><span class="hs-comment">-- datatype name</span><span>
</span><span id="line-414"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#ConHead"><span class="hs-identifier hs-type">ConHead</span></a></span><span>
</span><span id="line-415"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Telescope"><span class="hs-identifier hs-type">Telescope</span></a></span><span>  </span><span class="hs-comment">-- &#915; parameters</span><span>
</span><span id="line-416"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Agda.Syntax.Abstract.Name.html#QName"><span class="hs-identifier hs-type">QName</span></a></span><span class="hs-special">]</span><span>    </span><span class="hs-comment">-- projection names</span><span>
</span><span id="line-417"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Telescope"><span class="hs-identifier hs-type">Telescope</span></a></span><span>  </span><span class="hs-comment">-- &#915; &#8866; &#934; field types</span><span>
</span><span id="line-418"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span>       </span><span class="hs-comment">-- &#915; &#8866; T target type</span><span>
</span><span id="line-419"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Telescope.html#Boundary"><span class="hs-identifier hs-type">Boundary</span></a></span><span>   </span><span class="hs-comment">-- [(i,t_i,b_i)],  &#915;.&#934; &#8866; [ (i=0) -&gt; t_i; (i=1) -&gt; u_i ] : B_i</span><span>
</span><span id="line-420"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#TCM"><span class="hs-identifier hs-type">TCM</span></a></span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#CompKit"><span class="hs-identifier hs-type">CompKit</span></a></span><span>
</span><span id="line-421"></span><span id="defineCompData"><span class="annot"><span class="annottext">defineCompData :: QName
-&gt; ConHead
-&gt; Tele (Dom Type)
-&gt; [QName]
-&gt; Tele (Dom Type)
-&gt; Type
-&gt; Boundary
-&gt; TCMT IO CompKit
</span><a href="Agda.TypeChecking.Rules.Data.html#defineCompData"><span class="hs-identifier hs-var hs-var">defineCompData</span></a></span></span><span> </span><span id="local-6989586621681036699"><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036699"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span id="local-6989586621681036698"><span class="annot"><span class="annottext">ConHead
</span><a href="#local-6989586621681036698"><span class="hs-identifier hs-var">con</span></a></span></span><span> </span><span id="local-6989586621681036697"><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036697"><span class="hs-identifier hs-var">params</span></a></span></span><span> </span><span id="local-6989586621681036696"><span class="annot"><span class="annottext">[QName]
</span><a href="#local-6989586621681036696"><span class="hs-identifier hs-var">names</span></a></span></span><span> </span><span id="local-6989586621681036695"><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036695"><span class="hs-identifier hs-var">fsT</span></a></span></span><span> </span><span id="local-6989586621681036694"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036694"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621681036693"><span class="annot"><span class="annottext">Boundary
</span><a href="#local-6989586621681036693"><span class="hs-identifier hs-var">boundary</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-422"></span><span>  </span><span id="local-6989586621681036692"><span class="annot"><span class="annottext">[Maybe Term]
</span><a href="#local-6989586621681036692"><span class="hs-identifier hs-var">required</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(ArgName -&gt; TCMT IO (Maybe Term))
-&gt; [ArgName] -&gt; TCMT IO [Maybe Term]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; TCMT IO (Maybe Term)
forall (m :: * -&gt; *). HasBuiltins m =&gt; ArgName -&gt; m (Maybe Term)
</span><a href="Agda.TypeChecking.Monad.Builtin.html#getTerm%27"><span class="hs-identifier hs-var">getTerm'</span></a></span><span>
</span><span id="line-423"></span><span>    </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">ArgName
</span><a href="Agda.Syntax.Builtin.html#builtinInterval"><span class="hs-identifier hs-var">builtinInterval</span></a></span><span>
</span><span id="line-424"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ArgName
</span><a href="Agda.Syntax.Builtin.html#builtinIZero"><span class="hs-identifier hs-var">builtinIZero</span></a></span><span>
</span><span id="line-425"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ArgName
</span><a href="Agda.Syntax.Builtin.html#builtinIOne"><span class="hs-identifier hs-var">builtinIOne</span></a></span><span>
</span><span id="line-426"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ArgName
</span><a href="Agda.Syntax.Builtin.html#builtinIMin"><span class="hs-identifier hs-var">builtinIMin</span></a></span><span>
</span><span id="line-427"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ArgName
</span><a href="Agda.Syntax.Builtin.html#builtinIMax"><span class="hs-identifier hs-var">builtinIMax</span></a></span><span>
</span><span id="line-428"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ArgName
</span><a href="Agda.Syntax.Builtin.html#builtinINeg"><span class="hs-identifier hs-var">builtinINeg</span></a></span><span>
</span><span id="line-429"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ArgName
</span><a href="Agda.Syntax.Builtin.html#builtinPOr"><span class="hs-identifier hs-var">builtinPOr</span></a></span><span>
</span><span id="line-430"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ArgName
</span><a href="Agda.Syntax.Builtin.html#builtinItIsOne"><span class="hs-identifier hs-var">builtinItIsOne</span></a></span><span>
</span><span id="line-431"></span><span>    </span><span class="hs-special">]</span><span>
</span><span id="line-432"></span><span>  </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Maybe Term -&gt; Bool) -&gt; [Maybe Term] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">all</span></span><span> </span><span class="annot"><span class="annottext">Maybe Term -&gt; Bool
forall a. Maybe a -&gt; Bool
</span><span class="hs-identifier hs-var">isJust</span></span><span> </span><span class="annot"><span class="annottext">[Maybe Term]
</span><a href="#local-6989586621681036692"><span class="hs-identifier hs-var">required</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">CompKit -&gt; TCMT IO CompKit
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(CompKit -&gt; TCMT IO CompKit) -&gt; CompKit -&gt; TCMT IO CompKit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">CompKit
</span><a href="Agda.TypeChecking.Monad.Base.html#emptyCompKit"><span class="hs-identifier hs-var">emptyCompKit</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-433"></span><span>    </span><span id="local-6989586621681036678"><span class="annot"><span class="annottext">Maybe QName
</span><a href="#local-6989586621681036678"><span class="hs-identifier hs-var">hcomp</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; [ArgName] -&gt; TCMT IO (Maybe QName) -&gt; TCMT IO (Maybe QName)
forall {m :: * -&gt; *} {t :: * -&gt; *} {a}.
(Traversable t, HasBuiltins m) =&gt;
Bool -&gt; t ArgName -&gt; m (Maybe a) -&gt; m (Maybe a)
</span><a href="#local-6989586621681036677"><span class="hs-identifier hs-var">whenDefined</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Boundary -&gt; Bool
forall a. Null a =&gt; a -&gt; Bool
</span><a href="Agda.Utils.Null.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">Boundary
</span><a href="#local-6989586621681036693"><span class="hs-identifier hs-var">boundary</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">ArgName
</span><a href="Agda.Syntax.Builtin.html#builtinHComp"><span class="hs-identifier hs-var">builtinHComp</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">ArgName
</span><a href="Agda.Syntax.Builtin.html#builtinTrans"><span class="hs-identifier hs-var">builtinTrans</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TranspOrHComp
-&gt; QName
-&gt; ConHead
-&gt; Tele (Dom Type)
-&gt; [QName]
-&gt; Tele (Dom Type)
-&gt; Type
-&gt; Boundary
-&gt; TCMT IO (Maybe QName)
</span><a href="#local-6989586621681036673"><span class="hs-identifier hs-var">defineTranspOrHCompD</span></a></span><span> </span><span class="annot"><span class="annottext">TranspOrHComp
</span><a href="Agda.TypeChecking.Primitive.Cubical.html#DoHComp"><span class="hs-identifier hs-var">DoHComp</span></a></span><span>  </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036699"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="annot"><span class="annottext">ConHead
</span><a href="#local-6989586621681036698"><span class="hs-identifier hs-var">con</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036697"><span class="hs-identifier hs-var">params</span></a></span><span> </span><span class="annot"><span class="annottext">[QName]
</span><a href="#local-6989586621681036696"><span class="hs-identifier hs-var">names</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036695"><span class="hs-identifier hs-var">fsT</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036694"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Boundary
</span><a href="#local-6989586621681036693"><span class="hs-identifier hs-var">boundary</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-434"></span><span>    </span><span id="local-6989586621681036671"><span class="annot"><span class="annottext">Maybe QName
</span><a href="#local-6989586621681036671"><span class="hs-identifier hs-var">transp</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; [ArgName] -&gt; TCMT IO (Maybe QName) -&gt; TCMT IO (Maybe QName)
forall {m :: * -&gt; *} {t :: * -&gt; *} {a}.
(Traversable t, HasBuiltins m) =&gt;
Bool -&gt; t ArgName -&gt; m (Maybe a) -&gt; m (Maybe a)
</span><a href="#local-6989586621681036677"><span class="hs-identifier hs-var">whenDefined</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>            </span><span class="hs-special">[</span><span class="annot"><span class="annottext">ArgName
</span><a href="Agda.Syntax.Builtin.html#builtinTrans"><span class="hs-identifier hs-var">builtinTrans</span></a></span><span class="hs-special">]</span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TranspOrHComp
-&gt; QName
-&gt; ConHead
-&gt; Tele (Dom Type)
-&gt; [QName]
-&gt; Tele (Dom Type)
-&gt; Type
-&gt; Boundary
-&gt; TCMT IO (Maybe QName)
</span><a href="#local-6989586621681036673"><span class="hs-identifier hs-var">defineTranspOrHCompD</span></a></span><span> </span><span class="annot"><span class="annottext">TranspOrHComp
</span><a href="Agda.TypeChecking.Primitive.Cubical.html#DoTransp"><span class="hs-identifier hs-var">DoTransp</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036699"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="annot"><span class="annottext">ConHead
</span><a href="#local-6989586621681036698"><span class="hs-identifier hs-var">con</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036697"><span class="hs-identifier hs-var">params</span></a></span><span> </span><span class="annot"><span class="annottext">[QName]
</span><a href="#local-6989586621681036696"><span class="hs-identifier hs-var">names</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036695"><span class="hs-identifier hs-var">fsT</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036694"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Boundary
</span><a href="#local-6989586621681036693"><span class="hs-identifier hs-var">boundary</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-435"></span><span>    </span><span class="annot"><span class="annottext">CompKit -&gt; TCMT IO CompKit
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(CompKit -&gt; TCMT IO CompKit) -&gt; CompKit -&gt; TCMT IO CompKit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#CompKit"><span class="hs-identifier hs-type">CompKit</span></a></span><span>
</span><span id="line-436"></span><span>      </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">nameOfTransp :: Maybe QName
</span><a href="Agda.TypeChecking.Monad.Base.html#nameOfTransp"><span class="hs-identifier hs-var">nameOfTransp</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe QName
</span><a href="#local-6989586621681036671"><span class="hs-identifier hs-var">transp</span></a></span><span>
</span><span id="line-437"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">nameOfHComp :: Maybe QName
</span><a href="Agda.TypeChecking.Monad.Base.html#nameOfHComp"><span class="hs-identifier hs-var">nameOfHComp</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe QName
</span><a href="#local-6989586621681036678"><span class="hs-identifier hs-var">hcomp</span></a></span><span>
</span><span id="line-438"></span><span>      </span><span class="hs-special">}</span><span>
</span><span id="line-439"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-440"></span><span>    </span><span class="hs-comment">-- &#916;^I, i : I |- sub &#916; : &#916;</span><span>
</span><span id="line-441"></span><span>    </span><span id="local-6989586621681036658"><span class="annot"><span class="annottext">sub :: a -&gt; Substitution
</span><a href="#local-6989586621681036658"><span class="hs-identifier hs-var hs-var">sub</span></a></span></span><span> </span><span id="local-6989586621681036657"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681036657"><span class="hs-identifier hs-var">tel</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Term
</span><a href="Agda.Syntax.Internal.html#var"><span class="hs-identifier hs-var">var</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681036655"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; [Arg Term] -&gt; Term
forall t. Apply t =&gt; t -&gt; [Arg Term] -&gt; t
</span><a href="Agda.TypeChecking.Substitute.Class.html#apply"><span class="hs-operator hs-var">`apply`</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">ArgInfo -&gt; Term -&gt; Arg Term
forall e. ArgInfo -&gt; e -&gt; Arg e
</span><a href="Agda.Syntax.Common.html#Arg"><span class="hs-identifier hs-var">Arg</span></a></span><span> </span><span class="annot"><span class="annottext">ArgInfo
</span><a href="Agda.Syntax.Common.html#defaultArgInfo"><span class="hs-identifier hs-var">defaultArgInfo</span></a></span><span> </span><span class="annot"><span class="annottext">(Term -&gt; Arg Term) -&gt; Term -&gt; Arg Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Term
</span><a href="Agda.Syntax.Internal.html#var"><span class="hs-identifier hs-var">var</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">0</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621681036655"><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681036655"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">1</span></span><span class="hs-glyph">..</span><span class="annot"><span class="annottext">a -&gt; Nat
forall a. Sized a =&gt; a -&gt; Nat
</span><a href="Agda.Utils.Size.html#size"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681036657"><span class="hs-identifier hs-var">tel</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">[Term] -&gt; Substitution -&gt; Substitution
forall a. DeBruijn a =&gt; [a] -&gt; Substitution' a -&gt; Substitution' a
</span><a href="Agda.TypeChecking.Substitute.Class.html#%2B%2B%23"><span class="hs-operator hs-var">++#</span></a></span><span> </span><span class="annot"><span class="annottext">Impossible -&gt; Substitution
forall a. Impossible -&gt; Substitution' a
</span><a href="Agda.Syntax.Internal.html#EmptyS"><span class="hs-identifier hs-var">EmptyS</span></a></span><span> </span><span class="annot"><span class="annottext">Impossible
forall a. HasCallStack =&gt; a
</span><a href="Agda.Utils.Impossible.html#__IMPOSSIBLE__"><span class="hs-identifier hs-var">__IMPOSSIBLE__</span></a></span><span>
</span><span id="line-442"></span><span>    </span><span id="local-6989586621681036650"><span class="annot"><span class="annottext">withArgInfo :: Tele (Dom t) -&gt; [b] -&gt; [Arg b]
</span><a href="#local-6989586621681036650"><span class="hs-identifier hs-var hs-var">withArgInfo</span></a></span></span><span> </span><span id="local-6989586621681036649"><span class="annot"><span class="annottext">Tele (Dom t)
</span><a href="#local-6989586621681036649"><span class="hs-identifier hs-var">tel</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ArgInfo -&gt; b -&gt; Arg b) -&gt; [ArgInfo] -&gt; [b] -&gt; [Arg b]
forall a b c. (a -&gt; b -&gt; c) -&gt; [a] -&gt; [b] -&gt; [c]
</span><span class="hs-identifier hs-var">zipWith</span></span><span> </span><span class="annot"><span class="annottext">ArgInfo -&gt; b -&gt; Arg b
forall e. ArgInfo -&gt; e -&gt; Arg e
</span><a href="Agda.Syntax.Common.html#Arg"><span class="hs-identifier hs-var">Arg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Dom' Term (ArgName, t) -&gt; ArgInfo)
-&gt; [Dom' Term (ArgName, t)] -&gt; [ArgInfo]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Dom' Term (ArgName, t) -&gt; ArgInfo
forall t e. Dom' t e -&gt; ArgInfo
</span><a href="Agda.Syntax.Internal.html#domInfo"><span class="hs-identifier hs-var">domInfo</span></a></span><span> </span><span class="annot"><span class="annottext">([Dom' Term (ArgName, t)] -&gt; [ArgInfo])
-&gt; (Tele (Dom t) -&gt; [Dom' Term (ArgName, t)])
-&gt; Tele (Dom t)
-&gt; [ArgInfo]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Tele (Dom t) -&gt; [Dom' Term (ArgName, t)]
forall t. Tele (Dom t) -&gt; [Dom (ArgName, t)]
</span><a href="Agda.Syntax.Internal.html#telToList"><span class="hs-identifier hs-var">telToList</span></a></span><span> </span><span class="annot"><span class="annottext">(Tele (Dom t) -&gt; [ArgInfo]) -&gt; Tele (Dom t) -&gt; [ArgInfo]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Tele (Dom t)
</span><a href="#local-6989586621681036649"><span class="hs-identifier hs-var">tel</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-443"></span><span>
</span><span id="line-444"></span><span>    </span><span id="local-6989586621681036673"><span class="annot"><span class="annottext">defineTranspOrHCompD :: TranspOrHComp
-&gt; QName
-&gt; ConHead
-&gt; Tele (Dom Type)
-&gt; [QName]
-&gt; Tele (Dom Type)
-&gt; Type
-&gt; Boundary
-&gt; TCMT IO (Maybe QName)
</span><a href="#local-6989586621681036673"><span class="hs-identifier hs-var hs-var">defineTranspOrHCompD</span></a></span></span><span> </span><span id="local-6989586621681036424"><span class="annot"><span class="annottext">TranspOrHComp
</span><a href="#local-6989586621681036424"><span class="hs-identifier hs-var">cmd</span></a></span></span><span> </span><span id="local-6989586621681036423"><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036423"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span id="local-6989586621681036422"><span class="annot"><span class="annottext">ConHead
</span><a href="#local-6989586621681036422"><span class="hs-identifier hs-var">con</span></a></span></span><span> </span><span id="local-6989586621681036421"><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036421"><span class="hs-identifier hs-var">params</span></a></span></span><span> </span><span id="local-6989586621681036420"><span class="annot"><span class="annottext">[QName]
</span><a href="#local-6989586621681036420"><span class="hs-identifier hs-var">names</span></a></span></span><span> </span><span id="local-6989586621681036419"><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036419"><span class="hs-identifier hs-var">fsT</span></a></span></span><span> </span><span id="local-6989586621681036418"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036418"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621681036417"><span class="annot"><span class="annottext">Boundary
</span><a href="#local-6989586621681036417"><span class="hs-identifier hs-var">boundary</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-445"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681036415"><span class="annot"><span class="annottext">project :: Term -&gt; QName -&gt; Term
</span><a href="#local-6989586621681036415"><span class="hs-identifier hs-var hs-var">project</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681036414"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681036414"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621681036413"><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036413"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term -&gt; [Arg Term] -&gt; Term
forall t. Apply t =&gt; t -&gt; [Arg Term] -&gt; t
</span><a href="Agda.TypeChecking.Substitute.Class.html#apply"><span class="hs-identifier hs-var">apply</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">QName -&gt; [Elim' Term] -&gt; Term
</span><a href="Agda.Syntax.Internal.html#Def"><span class="hs-identifier hs-var">Def</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036413"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Term -&gt; Arg Term
forall e. e -&gt; Arg e
</span><a href="Agda.TypeChecking.Primitive.Base.html#argN"><span class="hs-identifier hs-var">argN</span></a></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681036414"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-446"></span><span>      </span><span id="local-6989586621681036411"><span class="annot"><span class="annottext">Maybe
  ((QName, Tele (Dom Type), Type, [Dom Type], [Term]), Substitution)
</span><a href="#local-6989586621681036411"><span class="hs-identifier hs-var">stuff</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TranspOrHComp
-&gt; Maybe Term
-&gt; (Term -&gt; QName -&gt; Term)
-&gt; QName
-&gt; Tele (Dom Type)
-&gt; Tele (Dom Type)
-&gt; [Arg QName]
-&gt; Type
-&gt; TCM
     (Maybe
        ((QName, Tele (Dom Type), Type, [Dom Type], [Term]), Substitution))
</span><a href="Agda.TypeChecking.Rules.Data.html#defineTranspOrHCompForFields"><span class="hs-identifier hs-var">defineTranspOrHCompForFields</span></a></span><span> </span><span class="annot"><span class="annottext">TranspOrHComp
</span><a href="#local-6989586621681036424"><span class="hs-identifier hs-var">cmd</span></a></span><span>
</span><span id="line-447"></span><span>                 </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Maybe ()
forall (f :: * -&gt; *). Alternative f =&gt; Bool -&gt; f ()
</span><span class="hs-identifier hs-var">guard</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool) -&gt; Bool -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Boundary -&gt; Bool
forall a. Null a =&gt; a -&gt; Bool
</span><a href="Agda.Utils.Null.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">Boundary
</span><a href="#local-6989586621681036417"><span class="hs-identifier hs-var">boundary</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe () -&gt; Maybe Term -&gt; Maybe Term
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Term -&gt; Maybe Term
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ConHead -&gt; ConInfo -&gt; [Elim' Term] -&gt; Term
</span><a href="Agda.Syntax.Internal.html#Con"><span class="hs-identifier hs-var">Con</span></a></span><span> </span><span class="annot"><span class="annottext">ConHead
</span><a href="#local-6989586621681036422"><span class="hs-identifier hs-var">con</span></a></span><span> </span><span class="annot"><span class="annottext">ConInfo
</span><a href="Agda.Syntax.Common.html#ConOSystem"><span class="hs-identifier hs-var">ConOSystem</span></a></span><span> </span><span class="annot"><span class="annottext">([Elim' Term] -&gt; Term) -&gt; [Elim' Term] -&gt; Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Boundary -&gt; [Elim' Term]
forall a.
DeBruijn a =&gt;
Tele (Dom Type) -&gt; Boundary' (a, a) -&gt; [Elim' a]
</span><a href="Agda.TypeChecking.Telescope.html#teleElims"><span class="hs-identifier hs-var">teleElims</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036419"><span class="hs-identifier hs-var">fsT</span></a></span><span> </span><span class="annot"><span class="annottext">Boundary
</span><a href="#local-6989586621681036417"><span class="hs-identifier hs-var">boundary</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-448"></span><span>                 </span><span class="annot"><span class="annottext">Term -&gt; QName -&gt; Term
</span><a href="#local-6989586621681036415"><span class="hs-identifier hs-var">project</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036423"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036421"><span class="hs-identifier hs-var">params</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036419"><span class="hs-identifier hs-var">fsT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(QName -&gt; Arg QName) -&gt; [QName] -&gt; [Arg QName]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">QName -&gt; Arg QName
forall e. e -&gt; Arg e
</span><a href="Agda.TypeChecking.Primitive.Base.html#argN"><span class="hs-identifier hs-var">argN</span></a></span><span> </span><span class="annot"><span class="annottext">[QName]
</span><a href="#local-6989586621681036420"><span class="hs-identifier hs-var">names</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036418"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-449"></span><span>      </span><span class="annot"><span class="annottext">Maybe
  ((QName, Tele (Dom Type), Type, [Dom Type], [Term]), Substitution)
-&gt; TCMT IO (Maybe QName)
-&gt; (((QName, Tele (Dom Type), Type, [Dom Type], [Term]),
     Substitution)
    -&gt; TCMT IO (Maybe QName))
-&gt; TCMT IO (Maybe QName)
forall a b. Maybe a -&gt; b -&gt; (a -&gt; b) -&gt; b
</span><a href="Agda.Utils.Maybe.html#caseMaybe"><span class="hs-identifier hs-var">caseMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe
  ((QName, Tele (Dom Type), Type, [Dom Type], [Term]), Substitution)
</span><a href="#local-6989586621681036411"><span class="hs-identifier hs-var">stuff</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe QName -&gt; TCMT IO (Maybe QName)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">Maybe QName
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((((QName, Tele (Dom Type), Type, [Dom Type], [Term]),
   Substitution)
  -&gt; TCMT IO (Maybe QName))
 -&gt; TCMT IO (Maybe QName))
-&gt; (((QName, Tele (Dom Type), Type, [Dom Type], [Term]),
     Substitution)
    -&gt; TCMT IO (Maybe QName))
-&gt; TCMT IO (Maybe QName)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span id="local-6989586621681036405"><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036405"><span class="hs-identifier hs-var">theName</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681036404"><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036404"><span class="hs-identifier hs-var">gamma</span></a></span></span><span> </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681036403"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036403"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681036402"><span class="annot"><span class="annottext">[Dom Type]
</span><a href="#local-6989586621681036402"><span class="hs-identifier hs-var">_cl_types</span></a></span></span><span> </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681036401"><span class="annot"><span class="annottext">[Term]
</span><a href="#local-6989586621681036401"><span class="hs-identifier hs-var">bodies</span></a></span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span id="local-6989586621681036400"><span class="annot"><span class="annottext">Substitution
</span><a href="#local-6989586621681036400"><span class="hs-identifier hs-var">theSub</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-450"></span><span>
</span><span id="line-451"></span><span>      </span><span id="local-6989586621681036399"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681036399"><span class="hs-identifier hs-var">iz</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TCMT IO Term
forall (m :: * -&gt; *).
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
m Term
</span><a href="Agda.TypeChecking.Monad.Builtin.html#primIZero"><span class="hs-identifier hs-var">primIZero</span></a></span><span>
</span><span id="line-452"></span><span>      </span><span id="local-6989586621681036397"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681036397"><span class="hs-identifier hs-var">body</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-453"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">TranspOrHComp
</span><a href="#local-6989586621681036424"><span class="hs-identifier hs-var">cmd</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-454"></span><span>          </span><span class="annot"><span class="annottext">TranspOrHComp
</span><a href="Agda.TypeChecking.Primitive.Cubical.html#DoHComp"><span class="hs-identifier hs-var">DoHComp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term -&gt; TCMT IO Term
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Term -&gt; TCMT IO Term) -&gt; Term -&gt; TCMT IO Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ConHead -&gt; ConInfo -&gt; [Elim' Term] -&gt; Term
</span><a href="Agda.Syntax.Internal.html#Con"><span class="hs-identifier hs-var">Con</span></a></span><span> </span><span class="annot"><span class="annottext">ConHead
</span><a href="#local-6989586621681036422"><span class="hs-identifier hs-var">con</span></a></span><span> </span><span class="annot"><span class="annottext">ConInfo
</span><a href="Agda.Syntax.Common.html#ConOSystem"><span class="hs-identifier hs-var">ConOSystem</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Arg Term -&gt; Elim' Term) -&gt; [Arg Term] -&gt; [Elim' Term]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Arg Term -&gt; Elim' Term
forall a. Arg a -&gt; Elim' a
</span><a href="Agda.Syntax.Internal.Elim.html#Apply"><span class="hs-identifier hs-var">Apply</span></a></span><span> </span><span class="annot"><span class="annottext">([Arg Term] -&gt; [Elim' Term]) -&gt; [Arg Term] -&gt; [Elim' Term]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; [Term] -&gt; [Arg Term]
forall {t} {b}. Tele (Dom t) -&gt; [b] -&gt; [Arg b]
</span><a href="#local-6989586621681036650"><span class="hs-identifier hs-var">withArgInfo</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036419"><span class="hs-identifier hs-var">fsT</span></a></span><span> </span><span class="annot"><span class="annottext">[Term]
</span><a href="#local-6989586621681036401"><span class="hs-identifier hs-var">bodies</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-455"></span><span>          </span><span class="annot"><span class="annottext">TranspOrHComp
</span><a href="Agda.TypeChecking.Primitive.Cubical.html#DoTransp"><span class="hs-identifier hs-var">DoTransp</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Boundary -&gt; Bool
forall a. Null a =&gt; a -&gt; Bool
</span><a href="Agda.Utils.Null.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">Boundary
</span><a href="#local-6989586621681036417"><span class="hs-identifier hs-var">boundary</span></a></span><span> </span><span class="hs-comment">{- &amp;&amp; null ixs -}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term -&gt; TCMT IO Term
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Term -&gt; TCMT IO Term) -&gt; Term -&gt; TCMT IO Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ConHead -&gt; ConInfo -&gt; [Elim' Term] -&gt; Term
</span><a href="Agda.Syntax.Internal.html#Con"><span class="hs-identifier hs-var">Con</span></a></span><span> </span><span class="annot"><span class="annottext">ConHead
</span><a href="#local-6989586621681036422"><span class="hs-identifier hs-var">con</span></a></span><span> </span><span class="annot"><span class="annottext">ConInfo
</span><a href="Agda.Syntax.Common.html#ConOSystem"><span class="hs-identifier hs-var">ConOSystem</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Arg Term -&gt; Elim' Term) -&gt; [Arg Term] -&gt; [Elim' Term]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Arg Term -&gt; Elim' Term
forall a. Arg a -&gt; Elim' a
</span><a href="Agda.Syntax.Internal.Elim.html#Apply"><span class="hs-identifier hs-var">Apply</span></a></span><span> </span><span class="annot"><span class="annottext">([Arg Term] -&gt; [Elim' Term]) -&gt; [Arg Term] -&gt; [Elim' Term]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; [Term] -&gt; [Arg Term]
forall {t} {b}. Tele (Dom t) -&gt; [b] -&gt; [Arg b]
</span><a href="#local-6989586621681036650"><span class="hs-identifier hs-var">withArgInfo</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036419"><span class="hs-identifier hs-var">fsT</span></a></span><span> </span><span class="annot"><span class="annottext">[Term]
</span><a href="#local-6989586621681036401"><span class="hs-identifier hs-var">bodies</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-456"></span><span>                   </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-457"></span><span>            </span><span id="local-6989586621681036396"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681036396"><span class="hs-identifier hs-var">io</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TCMT IO Term
forall (m :: * -&gt; *).
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
m Term
</span><a href="Agda.TypeChecking.Monad.Builtin.html#primIOne"><span class="hs-identifier hs-var">primIOne</span></a></span><span>
</span><span id="line-458"></span><span>            </span><span id="local-6989586621681036394"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681036394"><span class="hs-identifier hs-var">tIMax</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TCMT IO Term
forall (m :: * -&gt; *).
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
m Term
</span><a href="Agda.TypeChecking.Monad.Builtin.html#primIMax"><span class="hs-identifier hs-var">primIMax</span></a></span><span>
</span><span id="line-459"></span><span>            </span><span id="local-6989586621681036392"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681036392"><span class="hs-identifier hs-var">tIMin</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TCMT IO Term
forall (m :: * -&gt; *).
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
m Term
</span><a href="Agda.TypeChecking.Monad.Builtin.html#primIMin"><span class="hs-identifier hs-var">primIMin</span></a></span><span>
</span><span id="line-460"></span><span>            </span><span id="local-6989586621681036390"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681036390"><span class="hs-identifier hs-var">tINeg</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TCMT IO Term
forall (m :: * -&gt; *).
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
m Term
</span><a href="Agda.TypeChecking.Monad.Builtin.html#primINeg"><span class="hs-identifier hs-var">primINeg</span></a></span><span>
</span><span id="line-461"></span><span>            </span><span id="local-6989586621681036388"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681036388"><span class="hs-identifier hs-var">tPOr</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Term -&gt; Maybe Term -&gt; Term
forall a. a -&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromMaybe</span></span><span> </span><span class="annot"><span class="annottext">Term
forall a. HasCallStack =&gt; a
</span><a href="Agda.Utils.Impossible.html#__IMPOSSIBLE__"><span class="hs-identifier hs-var">__IMPOSSIBLE__</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe Term -&gt; Term) -&gt; TCMT IO (Maybe Term) -&gt; TCMT IO Term
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; TCMT IO (Maybe Term)
forall (m :: * -&gt; *). HasBuiltins m =&gt; ArgName -&gt; m (Maybe Term)
</span><a href="Agda.TypeChecking.Monad.Builtin.html#getTerm%27"><span class="hs-identifier hs-var">getTerm'</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><a href="Agda.Syntax.Builtin.html#builtinPOr"><span class="hs-identifier hs-var">builtinPOr</span></a></span><span>
</span><span id="line-462"></span><span>            </span><span id="local-6989586621681036386"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681036386"><span class="hs-identifier hs-var">tHComp</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TCMT IO Term
forall (m :: * -&gt; *).
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
m Term
</span><a href="Agda.TypeChecking.Monad.Builtin.html#primHComp"><span class="hs-identifier hs-var">primHComp</span></a></span><span>
</span><span id="line-463"></span><span>            </span><span class="hs-comment">-- &#916; = params</span><span>
</span><span id="line-464"></span><span>            </span><span class="hs-comment">-- &#916; &#8866; &#934; = fsT</span><span>
</span><span id="line-465"></span><span>            </span><span class="hs-comment">-- (&#948; : &#916;) &#8866; T = R &#948;</span><span>
</span><span id="line-466"></span><span>            </span><span class="hs-comment">-- (&#948; : &#916;) &#8866; con : &#934; &#8594; R &#948;  -- no indexing</span><span>
</span><span id="line-467"></span><span>            </span><span class="hs-comment">-- boundary = [(i,t_i,u_i)]</span><span>
</span><span id="line-468"></span><span>            </span><span class="hs-comment">-- &#916;.&#934; &#8866; [ (i=0) -&gt; t_i; (i=1) -&gt; u_i ] : B_i</span><span>
</span><span id="line-469"></span><span>            </span><span class="hs-comment">-- &#916;.&#934; | PiPath &#934; boundary (R &#948;) |- teleElims fsT boundary : R &#948;</span><span>
</span><span id="line-470"></span><span>            </span><span class="hs-comment">-- &#915; = ((&#948; : &#916;^I), &#966;, us : &#934;[&#948; 0]) = gamma</span><span>
</span><span id="line-471"></span><span>            </span><span class="hs-comment">-- &#915; &#8866; ty = R (&#948; i1)</span><span>
</span><span id="line-472"></span><span>            </span><span class="hs-comment">-- (&#947; : &#915;) &#8866; cl_types = (flatten &#934;)[n &#8614; f_n (transpR &#947;)]</span><span>
</span><span id="line-473"></span><span>            </span><span class="hs-comment">-- &#915; &#8866; bodies : &#934;[&#948; i1]</span><span>
</span><span id="line-474"></span><span>            </span><span class="hs-comment">-- &#915; &#8866; t : ty</span><span>
</span><span id="line-475"></span><span>            </span><span class="hs-comment">-- &#915;, i : I &#8866; theSub : &#916;.&#934;</span><span>
</span><span id="line-476"></span><span>            </span><span class="hs-keyword">let</span><span>
</span><span id="line-477"></span><span>
</span><span id="line-478"></span><span>              </span><span class="hs-comment">-- &#916;.&#934; &#8866; u = Con con ConOSystem $ teleElims fsT boundary : R &#948;</span><span>
</span><span id="line-479"></span><span>              </span><span id="local-6989586621681036384"><span class="annot"><span class="annottext">u :: Term
</span><a href="#local-6989586621681036384"><span class="hs-identifier hs-var hs-var">u</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ConHead -&gt; ConInfo -&gt; [Elim' Term] -&gt; Term
</span><a href="Agda.Syntax.Internal.html#Con"><span class="hs-identifier hs-var">Con</span></a></span><span> </span><span class="annot"><span class="annottext">ConHead
</span><a href="#local-6989586621681036422"><span class="hs-identifier hs-var">con</span></a></span><span> </span><span class="annot"><span class="annottext">ConInfo
</span><a href="Agda.Syntax.Common.html#ConOSystem"><span class="hs-identifier hs-var">ConOSystem</span></a></span><span> </span><span class="annot"><span class="annottext">([Elim' Term] -&gt; Term) -&gt; [Elim' Term] -&gt; Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Boundary -&gt; [Elim' Term]
forall a.
DeBruijn a =&gt;
Tele (Dom Type) -&gt; Boundary' (a, a) -&gt; [Elim' a]
</span><a href="Agda.TypeChecking.Telescope.html#teleElims"><span class="hs-identifier hs-var">teleElims</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036419"><span class="hs-identifier hs-var">fsT</span></a></span><span> </span><span class="annot"><span class="annottext">Boundary
</span><a href="#local-6989586621681036417"><span class="hs-identifier hs-var">boundary</span></a></span><span>
</span><span id="line-480"></span><span>              </span><span class="hs-comment">-- &#915; &#8866; u</span><span>
</span><span id="line-481"></span><span>              </span><span id="local-6989586621681036383"><span class="annot"><span class="annottext">the_u :: Term
</span><a href="#local-6989586621681036383"><span class="hs-identifier hs-var hs-var">the_u</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Substitution -&gt; Substitution
forall a. Nat -&gt; Substitution' a -&gt; Substitution' a
</span><a href="Agda.TypeChecking.Substitute.Class.html#liftS"><span class="hs-identifier hs-var">liftS</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Nat
forall a. Sized a =&gt; a -&gt; Nat
</span><a href="Agda.Utils.Size.html#size"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036419"><span class="hs-identifier hs-var">fsT</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Substitution
</span><a href="#local-6989586621681036381"><span class="hs-identifier hs-var">d0</span></a></span><span> </span><span class="annot"><span class="annottext">Substitution' (SubstArg Term) -&gt; Term -&gt; Term
forall a. Subst a =&gt; Substitution' (SubstArg a) -&gt; a -&gt; a
</span><a href="Agda.TypeChecking.Substitute.Class.html#applySubst"><span class="hs-operator hs-var">`applySubst`</span></a></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681036384"><span class="hs-identifier hs-var">u</span></a></span><span>
</span><span id="line-482"></span><span>                </span><span class="hs-keyword">where</span><span>
</span><span id="line-483"></span><span>                  </span><span class="hs-comment">-- &#948; : &#916;^I, &#966; : F &#8866; [&#948; 0] : &#916;</span><span>
</span><span id="line-484"></span><span>                  </span><span class="annot"><a href="#local-6989586621681036381"><span class="hs-identifier hs-type">d0</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Substitution"><span class="hs-identifier hs-type">Substitution</span></a></span><span>
</span><span id="line-485"></span><span>                  </span><span id="local-6989586621681036381"><span class="annot"><span class="annottext">d0 :: Substitution
</span><a href="#local-6989586621681036381"><span class="hs-identifier hs-var hs-var">d0</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Substitution -&gt; Substitution
forall a. Nat -&gt; Substitution' a -&gt; Substitution' a
</span><a href="Agda.TypeChecking.Substitute.Class.html#wkS"><span class="hs-identifier hs-var">wkS</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">1</span></span><span> </span><span class="hs-comment">-- &#916;^I, &#966; : F &#8866; &#916;</span><span>
</span><span id="line-486"></span><span>                             </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term -&gt; Substitution -&gt; Substitution
forall a. DeBruijn a =&gt; a -&gt; Substitution' a -&gt; Substitution' a
</span><a href="Agda.TypeChecking.Substitute.Class.html#consS"><span class="hs-identifier hs-var">consS</span></a></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681036399"><span class="hs-identifier hs-var">iz</span></a></span><span> </span><span class="annot"><span class="annottext">Substitution
forall a. Substitution' a
</span><a href="Agda.Syntax.Internal.html#IdS"><span class="hs-identifier hs-var">IdS</span></a></span><span> </span><span class="annot"><span class="annottext">Substitution -&gt; Substitution -&gt; Substitution
forall a.
EndoSubst a =&gt;
Substitution' a -&gt; Substitution' a -&gt; Substitution' a
</span><a href="Agda.TypeChecking.Substitute.Class.html#composeS"><span class="hs-operator hs-var">`composeS`</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Substitution
forall {a}. Sized a =&gt; a -&gt; Substitution
</span><a href="#local-6989586621681036658"><span class="hs-identifier hs-var">sub</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036421"><span class="hs-identifier hs-var">params</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- &#916;^I &#8866; &#916;</span><span>
</span><span id="line-487"></span><span>                                       </span><span class="hs-comment">-- &#916;^I , i:I &#8866; sub params : &#916;</span><span>
</span><span id="line-488"></span><span>              </span><span id="local-6989586621681036375"><span class="annot"><span class="annottext">the_phi :: Term
</span><a href="#local-6989586621681036375"><span class="hs-identifier hs-var hs-var">the_phi</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Term -&gt; Term
forall a. Subst a =&gt; Nat -&gt; a -&gt; a
</span><a href="Agda.TypeChecking.Substitute.Class.html#raise"><span class="hs-identifier hs-var">raise</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Nat
forall a. Sized a =&gt; a -&gt; Nat
</span><a href="Agda.Utils.Size.html#size"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036419"><span class="hs-identifier hs-var">fsT</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Term -&gt; Term) -&gt; Term -&gt; Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Term
</span><a href="Agda.Syntax.Internal.html#var"><span class="hs-identifier hs-var">var</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">0</span></span><span>
</span><span id="line-489"></span><span>              </span><span class="hs-comment">-- &#915; &#8866; sigma : &#916;.&#934;</span><span>
</span><span id="line-490"></span><span>              </span><span class="hs-comment">-- sigma = [&#948; i1,bodies]</span><span>
</span><span id="line-491"></span><span>              </span><span class="hs-comment">-- sigma = theSub[i1]</span><span>
</span><span id="line-492"></span><span>              </span><span id="local-6989586621681036374"><span class="annot"><span class="annottext">sigma :: Substitution
</span><a href="#local-6989586621681036374"><span class="hs-identifier hs-var hs-var">sigma</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Term] -&gt; [Term]
forall a. [a] -&gt; [a]
</span><span class="hs-identifier hs-var">reverse</span></span><span> </span><span class="annot"><span class="annottext">[Term]
</span><a href="#local-6989586621681036401"><span class="hs-identifier hs-var">bodies</span></a></span><span> </span><span class="annot"><span class="annottext">[Term] -&gt; Substitution -&gt; Substitution
forall a. DeBruijn a =&gt; [a] -&gt; Substitution' a -&gt; Substitution' a
</span><a href="Agda.TypeChecking.Substitute.Class.html#%2B%2B%23"><span class="hs-operator hs-var">++#</span></a></span><span> </span><span class="annot"><span class="annottext">Substitution
</span><a href="#local-6989586621681036372"><span class="hs-identifier hs-var">d1</span></a></span><span>
</span><span id="line-493"></span><span>               </span><span class="hs-keyword">where</span><span>
</span><span id="line-494"></span><span>                </span><span class="hs-comment">-- &#948; i1</span><span>
</span><span id="line-495"></span><span>                </span><span class="annot"><a href="#local-6989586621681036372"><span class="hs-identifier hs-type">d1</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Substitution"><span class="hs-identifier hs-type">Substitution</span></a></span><span>
</span><span id="line-496"></span><span>                </span><span id="local-6989586621681036372"><span class="annot"><span class="annottext">d1 :: Substitution
</span><a href="#local-6989586621681036372"><span class="hs-identifier hs-var hs-var">d1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Substitution -&gt; Substitution
forall a. Nat -&gt; Substitution' a -&gt; Substitution' a
</span><a href="Agda.TypeChecking.Substitute.Class.html#wkS"><span class="hs-identifier hs-var">wkS</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Nat
forall a. Sized a =&gt; a -&gt; Nat
</span><a href="Agda.Utils.Size.html#size"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036404"><span class="hs-identifier hs-var">gamma</span></a></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Nat -&gt; Nat
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Nat
forall a. Sized a =&gt; a -&gt; Nat
</span><a href="Agda.Utils.Size.html#size"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036421"><span class="hs-identifier hs-var">params</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- &#915; &#8866; &#916;</span><span>
</span><span id="line-497"></span><span>                       </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term -&gt; Substitution -&gt; Substitution
forall a. DeBruijn a =&gt; a -&gt; Substitution' a -&gt; Substitution' a
</span><a href="Agda.TypeChecking.Substitute.Class.html#consS"><span class="hs-identifier hs-var">consS</span></a></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681036396"><span class="hs-identifier hs-var">io</span></a></span><span> </span><span class="annot"><span class="annottext">Substitution
forall a. Substitution' a
</span><a href="Agda.Syntax.Internal.html#IdS"><span class="hs-identifier hs-var">IdS</span></a></span><span> </span><span class="annot"><span class="annottext">Substitution -&gt; Substitution -&gt; Substitution
forall a.
EndoSubst a =&gt;
Substitution' a -&gt; Substitution' a -&gt; Substitution' a
</span><a href="Agda.TypeChecking.Substitute.Class.html#composeS"><span class="hs-operator hs-var">`composeS`</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Substitution
forall {a}. Sized a =&gt; a -&gt; Substitution
</span><a href="#local-6989586621681036658"><span class="hs-identifier hs-var">sub</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036421"><span class="hs-identifier hs-var">params</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- &#916;^I &#8866; &#916;</span><span>
</span><span id="line-498"></span><span>                                 </span><span class="hs-comment">-- &#916;^I , i:I &#8866; sub params : &#916;</span><span>
</span><span id="line-499"></span><span>
</span><span id="line-500"></span><span>              </span><span class="hs-comment">-- &#916;.&#934; &#8866; [ (i=0) -&gt; t_i; (i=1) -&gt; u_i ] : R &#948;</span><span>
</span><span id="line-501"></span><span>              </span><span id="local-6989586621681036371"><span class="annot"><span class="annottext">bs :: Boundary
</span><a href="#local-6989586621681036371"><span class="hs-identifier hs-var hs-var">bs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Boundary -&gt; Boundary
</span><a href="Agda.TypeChecking.Telescope.html#fullBoundary"><span class="hs-identifier hs-var">fullBoundary</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036419"><span class="hs-identifier hs-var">fsT</span></a></span><span> </span><span class="annot"><span class="annottext">Boundary
</span><a href="#local-6989586621681036417"><span class="hs-identifier hs-var">boundary</span></a></span><span>
</span><span id="line-502"></span><span>              </span><span class="hs-comment">-- &#968; = sigma `applySubst` map (\ i &#8594; i &#8744; ~ i) . map fst $ boundary</span><span>
</span><span id="line-503"></span><span>              </span><span class="hs-comment">-- &#915; &#8866; t : R (&#948; i1)</span><span>
</span><span id="line-504"></span><span>              </span><span id="local-6989586621681036369"><span class="annot"><span class="annottext">w1' :: Term
</span><a href="#local-6989586621681036369"><span class="hs-identifier hs-var hs-var">w1'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ConHead -&gt; ConInfo -&gt; [Elim' Term] -&gt; Term
</span><a href="Agda.Syntax.Internal.html#Con"><span class="hs-identifier hs-var">Con</span></a></span><span> </span><span class="annot"><span class="annottext">ConHead
</span><a href="#local-6989586621681036422"><span class="hs-identifier hs-var">con</span></a></span><span> </span><span class="annot"><span class="annottext">ConInfo
</span><a href="Agda.Syntax.Common.html#ConOSystem"><span class="hs-identifier hs-var">ConOSystem</span></a></span><span> </span><span class="annot"><span class="annottext">([Elim' Term] -&gt; Term) -&gt; [Elim' Term] -&gt; Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Substitution
Substitution' (SubstArg [Elim' Term])
</span><a href="#local-6989586621681036374"><span class="hs-identifier hs-var">sigma</span></a></span><span> </span><span class="annot"><span class="annottext">Substitution' (SubstArg [Elim' Term])
-&gt; [Elim' Term] -&gt; [Elim' Term]
forall a. Subst a =&gt; Substitution' (SubstArg a) -&gt; a -&gt; a
</span><a href="Agda.TypeChecking.Substitute.Class.html#applySubst"><span class="hs-operator hs-var">`applySubst`</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Boundary -&gt; [Elim' Term]
forall a.
DeBruijn a =&gt;
Tele (Dom Type) -&gt; Boundary' (a, a) -&gt; [Elim' a]
</span><a href="Agda.TypeChecking.Telescope.html#teleElims"><span class="hs-identifier hs-var">teleElims</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036419"><span class="hs-identifier hs-var">fsT</span></a></span><span> </span><span class="annot"><span class="annottext">Boundary
</span><a href="#local-6989586621681036417"><span class="hs-identifier hs-var">boundary</span></a></span><span>
</span><span id="line-505"></span><span>              </span><span class="hs-comment">-- (&#948;, &#966;, u0) : &#915; &#8866;</span><span>
</span><span id="line-506"></span><span>              </span><span class="hs-comment">-- w1 = hcomp (\ i &#8594; R (&#948; i1))</span><span>
</span><span id="line-507"></span><span>              </span><span class="hs-comment">--            (\ i &#8594; [ &#968; &#8614; &#945; (~ i), &#966; &#8614; u0])</span><span>
</span><span id="line-508"></span><span>              </span><span class="hs-comment">--            w1'</span><span>
</span><span id="line-509"></span><span>              </span><span id="local-6989586621681036368"><span class="annot"><span class="annottext">imax :: NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036368"><span class="hs-identifier hs-var hs-var">imax</span></a></span></span><span> </span><span id="local-6989586621681036367"><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036367"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681036366"><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036366"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term -&gt; NamesT (TCMT IO) Term
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681036394"><span class="hs-identifier hs-var">tIMax</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036367"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036366"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-510"></span><span>              </span><span id="local-6989586621681036364"><span class="annot"><span class="annottext">ineg :: NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036364"><span class="hs-identifier hs-var hs-var">ineg</span></a></span></span><span> </span><span id="local-6989586621681036363"><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036363"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term -&gt; NamesT (TCMT IO) Term
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681036390"><span class="hs-identifier hs-var">tINeg</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036363"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-511"></span><span>              </span><span id="local-6989586621681036361"><span class="annot"><span class="annottext">lvlOfType :: Type -&gt; Term
</span><a href="#local-6989586621681036361"><span class="hs-identifier hs-var hs-var">lvlOfType</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Internal.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span id="local-6989586621681036360"><span class="annot"><span class="annottext">Level
</span><a href="#local-6989586621681036360"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Level -&gt; Term
</span><a href="Agda.Syntax.Internal.html#Level"><span class="hs-identifier hs-var">Level</span></a></span><span> </span><span class="annot"><span class="annottext">Level
</span><a href="#local-6989586621681036360"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Sort' Term -&gt; Term) -&gt; (Type -&gt; Sort' Term) -&gt; Type -&gt; Term
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Type -&gt; Sort' Term
forall a. LensSort a =&gt; a -&gt; Sort' Term
</span><a href="Agda.Syntax.Internal.html#getSort"><span class="hs-identifier hs-var">getSort</span></a></span><span>
</span><span id="line-512"></span><span>              </span><span id="local-6989586621681036357"><span class="annot"><span class="annottext">pOr :: NamesT (TCMT IO) Type
-&gt; NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036357"><span class="hs-identifier hs-var hs-var">pOr</span></a></span></span><span> </span><span id="local-6989586621681036356"><span class="annot"><span class="annottext">NamesT (TCMT IO) Type
</span><a href="#local-6989586621681036356"><span class="hs-identifier hs-var">la</span></a></span></span><span> </span><span id="local-6989586621681036355"><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036355"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621681036354"><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036354"><span class="hs-identifier hs-var">j</span></a></span></span><span> </span><span id="local-6989586621681036353"><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036353"><span class="hs-identifier hs-var">u0</span></a></span></span><span> </span><span id="local-6989586621681036352"><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036352"><span class="hs-identifier hs-var">u1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term -&gt; NamesT (TCMT IO) Term
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681036388"><span class="hs-identifier hs-var">tPOr</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%23%3E"><span class="hs-operator hs-var">&lt;#&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type -&gt; Term
</span><a href="#local-6989586621681036361"><span class="hs-identifier hs-var">lvlOfType</span></a></span><span> </span><span class="annot"><span class="annottext">(Type -&gt; Term) -&gt; NamesT (TCMT IO) Type -&gt; NamesT (TCMT IO) Term
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Type
</span><a href="#local-6989586621681036356"><span class="hs-identifier hs-var">la</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036355"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036354"><span class="hs-identifier hs-var">j</span></a></span><span>
</span><span id="line-513"></span><span>                                           </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%23%3E"><span class="hs-operator hs-var">&lt;#&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *).
MonadFail m =&gt;
ArgName -&gt; (NamesT m Term -&gt; NamesT m Term) -&gt; NamesT m Term
</span><a href="Agda.TypeChecking.Names.html#ilam"><span class="hs-identifier hs-var">ilam</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;o&quot;</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Type -&gt; Term
forall t a. Type'' t a -&gt; a
</span><a href="Agda.Syntax.Internal.html#unEl"><span class="hs-identifier hs-var">unEl</span></a></span><span> </span><span class="annot"><span class="annottext">(Type -&gt; Term) -&gt; NamesT (TCMT IO) Type -&gt; NamesT (TCMT IO) Term
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Type
</span><a href="#local-6989586621681036356"><span class="hs-identifier hs-var">la</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036353"><span class="hs-identifier hs-var">u0</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036352"><span class="hs-identifier hs-var">u1</span></a></span><span>
</span><span id="line-514"></span><span>              </span><span id="local-6989586621681036345"><span class="annot"><span class="annottext">absAp :: m (Abs r) -&gt; m (SubstArg r) -&gt; m r
</span><a href="#local-6989586621681036345"><span class="hs-identifier hs-var hs-var">absAp</span></a></span></span><span> </span><span id="local-6989586621681036344"><span class="annot"><span class="annottext">m (Abs r)
</span><a href="#local-6989586621681036344"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681036343"><span class="annot"><span class="annottext">m (SubstArg r)
</span><a href="#local-6989586621681036343"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Abs r -&gt; SubstArg r -&gt; r) -&gt; m (Abs r) -&gt; m (SubstArg r) -&gt; m r
forall (m :: * -&gt; *) a1 a2 r.
Monad m =&gt;
(a1 -&gt; a2 -&gt; r) -&gt; m a1 -&gt; m a2 -&gt; m r
</span><span class="hs-identifier hs-var">liftM2</span></span><span> </span><span class="annot"><span class="annottext">Abs r -&gt; SubstArg r -&gt; r
forall a. Subst a =&gt; Abs a -&gt; SubstArg a -&gt; a
</span><a href="Agda.TypeChecking.Substitute.Class.html#absApp"><span class="hs-identifier hs-var">absApp</span></a></span><span> </span><span class="annot"><span class="annottext">m (Abs r)
</span><a href="#local-6989586621681036344"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">m (SubstArg r)
</span><a href="#local-6989586621681036343"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-515"></span><span>
</span><span id="line-516"></span><span>              </span><span id="local-6989586621681036340"><span class="annot"><span class="annottext">mkFace :: (Term, (Term, Term)) -&gt; TCMT IO (Abs (Term, Term))
</span><a href="#local-6989586621681036340"><span class="hs-identifier hs-var hs-var">mkFace</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681036339"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681036339"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">,</span><span class="hs-special">(</span><span id="local-6989586621681036338"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681036338"><span class="hs-identifier hs-var">u1</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681036337"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681036337"><span class="hs-identifier hs-var">u2</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[ArgName]
-&gt; NamesT (TCMT IO) (Abs (Term, Term))
-&gt; TCMT IO (Abs (Term, Term))
forall (m :: * -&gt; *) a. [ArgName] -&gt; NamesT m a -&gt; m a
</span><a href="Agda.TypeChecking.Names.html#runNamesT"><span class="hs-identifier hs-var">runNamesT</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">(NamesT (TCMT IO) (Abs (Term, Term)) -&gt; TCMT IO (Abs (Term, Term)))
-&gt; NamesT (TCMT IO) (Abs (Term, Term))
-&gt; TCMT IO (Abs (Term, Term))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-517"></span><span>                </span><span class="hs-comment">-- &#915;</span><span>
</span><span id="line-518"></span><span>                </span><span id="local-6989586621681036335"><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036335"><span class="hs-identifier hs-var">phi</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Term -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) Term)
forall (m :: * -&gt; *) a.
(MonadFail m, Subst a) =&gt;
a -&gt; NamesT m (NamesT m a)
</span><a href="Agda.TypeChecking.Names.html#open"><span class="hs-identifier hs-var">open</span></a></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681036375"><span class="hs-identifier hs-var">the_phi</span></a></span><span>  </span><span class="hs-comment">-- (&#948; , &#966; , us) &#8866; &#966;</span><span>
</span><span id="line-519"></span><span>                </span><span class="hs-comment">-- &#915; &#8866; ty = Abs i. R (&#948; i)</span><span>
</span><span id="line-520"></span><span>                </span><span id="local-6989586621681036333"><span class="annot"><span class="annottext">NamesT (TCMT IO) (Abs Type)
</span><a href="#local-6989586621681036333"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Abs Type -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) (Abs Type))
forall (m :: * -&gt; *) a.
(MonadFail m, Subst a) =&gt;
a -&gt; NamesT m (NamesT m a)
</span><a href="Agda.TypeChecking.Names.html#open"><span class="hs-identifier hs-var">open</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ArgName -&gt; Type -&gt; Abs Type
forall a. ArgName -&gt; a -&gt; Abs a
</span><a href="Agda.Syntax.Internal.html#Abs"><span class="hs-identifier hs-var">Abs</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;i&quot;</span></span><span> </span><span class="annot"><span class="annottext">(Type -&gt; Abs Type) -&gt; Type -&gt; Abs Type
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Nat -&gt; Substitution -&gt; Substitution
forall a. Nat -&gt; Substitution' a -&gt; Substitution' a
</span><a href="Agda.TypeChecking.Substitute.Class.html#liftS"><span class="hs-identifier hs-var">liftS</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Nat -&gt; Substitution
forall a. Nat -&gt; Substitution' a
</span><a href="Agda.TypeChecking.Substitute.Class.html#raiseS"><span class="hs-identifier hs-var">raiseS</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Nat
forall a. Sized a =&gt; a -&gt; Nat
</span><a href="Agda.Utils.Size.html#size"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036404"><span class="hs-identifier hs-var">gamma</span></a></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Nat -&gt; Nat
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Nat
forall a. Sized a =&gt; a -&gt; Nat
</span><a href="Agda.Utils.Size.html#size"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036421"><span class="hs-identifier hs-var">params</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Substitution -&gt; Substitution -&gt; Substitution
forall a.
EndoSubst a =&gt;
Substitution' a -&gt; Substitution' a -&gt; Substitution' a
</span><a href="Agda.TypeChecking.Substitute.Class.html#composeS"><span class="hs-operator hs-var">`composeS`</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Substitution
forall {a}. Sized a =&gt; a -&gt; Substitution
</span><a href="#local-6989586621681036658"><span class="hs-identifier hs-var">sub</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036421"><span class="hs-identifier hs-var">params</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Substitution' (SubstArg Type) -&gt; Type -&gt; Type
forall a. Subst a =&gt; Substitution' (SubstArg a) -&gt; a -&gt; a
</span><a href="Agda.TypeChecking.Substitute.Class.html#applySubst"><span class="hs-operator hs-var">`applySubst`</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036418"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-521"></span><span>
</span><span id="line-522"></span><span>                </span><span class="annot"><span class="annottext">ArgName
-&gt; ((forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b)
    -&gt; NamesT (TCMT IO) (Term, Term))
-&gt; NamesT (TCMT IO) (Abs (Term, Term))
forall (m :: * -&gt; *) a.
MonadFail m =&gt;
ArgName
-&gt; ((forall b. (Subst b, DeBruijn b) =&gt; NamesT m b) -&gt; NamesT m a)
-&gt; NamesT m (Abs a)
</span><a href="Agda.TypeChecking.Names.html#bind"><span class="hs-identifier hs-var">bind</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;i&quot;</span></span><span> </span><span class="annot"><span class="annottext">(((forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b)
  -&gt; NamesT (TCMT IO) (Term, Term))
 -&gt; NamesT (TCMT IO) (Abs (Term, Term)))
-&gt; ((forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b)
    -&gt; NamesT (TCMT IO) (Term, Term))
-&gt; NamesT (TCMT IO) (Abs (Term, Term))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681036329"><span class="annot"><span class="annottext">forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b
</span><a href="#local-6989586621681036329"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-523"></span><span>                  </span><span class="hs-comment">-- &#915;, i</span><span>
</span><span id="line-524"></span><span>                  </span><span class="hs-special">[</span><span id="local-6989586621681036328"><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036328"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681036327"><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036327"><span class="hs-identifier hs-var">u1</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681036326"><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036326"><span class="hs-identifier hs-var">u2</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Term -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) Term))
-&gt; [Term] -&gt; NamesT (TCMT IO) [NamesT (TCMT IO) Term]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) Term)
forall (m :: * -&gt; *) a.
(MonadFail m, Subst a) =&gt;
a -&gt; NamesT m (NamesT m a)
</span><a href="Agda.TypeChecking.Names.html#open"><span class="hs-identifier hs-var">open</span></a></span><span> </span><span class="annot"><span class="annottext">(Term -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) Term))
-&gt; (Term -&gt; Term)
-&gt; Term
-&gt; NamesT (TCMT IO) (NamesT (TCMT IO) Term)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Substitution' (SubstArg Term) -&gt; Term -&gt; Term
forall a. Subst a =&gt; Substitution' (SubstArg a) -&gt; a -&gt; a
</span><a href="Agda.TypeChecking.Substitute.Class.html#applySubst"><span class="hs-identifier hs-var">applySubst</span></a></span><span> </span><span class="annot"><span class="annottext">Substitution
Substitution' (SubstArg Term)
</span><a href="#local-6989586621681036400"><span class="hs-identifier hs-var">theSub</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681036339"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681036338"><span class="hs-identifier hs-var">u1</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681036337"><span class="hs-identifier hs-var">u2</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-525"></span><span>                  </span><span id="local-6989586621681036325"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681036325"><span class="hs-identifier hs-var">psi</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036368"><span class="hs-identifier hs-var">imax</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036328"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036364"><span class="hs-identifier hs-var">ineg</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036328"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-526"></span><span>                  </span><span class="hs-keyword">let</span><span>
</span><span id="line-527"></span><span>                    </span><span class="hs-comment">-- &#915;, i &#8866; squeeze u = primTrans (\ j -&gt; ty [i := i &#8744; j]) (&#966; &#8744; i) u</span><span>
</span><span id="line-528"></span><span>                    </span><span id="local-6989586621681036324"><span class="annot"><span class="annottext">squeeze :: NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036324"><span class="hs-identifier hs-var hs-var">squeeze</span></a></span></span><span> </span><span id="local-6989586621681036323"><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036323"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TCMT IO Term -&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; NamesT m a
</span><a href="Agda.TypeChecking.Names.html#cl"><span class="hs-identifier hs-var">cl</span></a></span><span> </span><span class="annot"><span class="annottext">TCMT IO Term
forall (m :: * -&gt; *).
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
m Term
</span><a href="Agda.TypeChecking.Monad.Builtin.html#primTrans"><span class="hs-identifier hs-var">primTrans</span></a></span><span>
</span><span id="line-529"></span><span>                                          </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%23%3E"><span class="hs-operator hs-var">&lt;#&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *).
MonadFail m =&gt;
ArgName -&gt; (NamesT m Term -&gt; NamesT m Term) -&gt; NamesT m Term
</span><a href="Agda.TypeChecking.Names.html#lam"><span class="hs-identifier hs-var">lam</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;j&quot;</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681036319"><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036319"><span class="hs-identifier hs-var">j</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Type -&gt; Term
</span><a href="#local-6989586621681036361"><span class="hs-identifier hs-var">lvlOfType</span></a></span><span> </span><span class="annot"><span class="annottext">(Type -&gt; Term) -&gt; NamesT (TCMT IO) Type -&gt; NamesT (TCMT IO) Term
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (Abs Type)
</span><a href="#local-6989586621681036333"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (Abs Type)
-&gt; NamesT (TCMT IO) (SubstArg Type) -&gt; NamesT (TCMT IO) Type
forall {m :: * -&gt; *} {r}.
(Monad m, Subst r) =&gt;
m (Abs r) -&gt; m (SubstArg r) -&gt; m r
</span><a href="#local-6989586621681036345"><span class="hs-operator hs-var">`absAp`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036368"><span class="hs-identifier hs-var">imax</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b
</span><a href="#local-6989586621681036329"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036319"><span class="hs-identifier hs-var">j</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-530"></span><span>                                          </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *).
MonadFail m =&gt;
ArgName -&gt; (NamesT m Term -&gt; NamesT m Term) -&gt; NamesT m Term
</span><a href="Agda.TypeChecking.Names.html#lam"><span class="hs-identifier hs-var">lam</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;j&quot;</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681036318"><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036318"><span class="hs-identifier hs-var">j</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Type -&gt; Term
forall t a. Type'' t a -&gt; a
</span><a href="Agda.Syntax.Internal.html#unEl"><span class="hs-identifier hs-var">unEl</span></a></span><span> </span><span class="annot"><span class="annottext">(Type -&gt; Term) -&gt; NamesT (TCMT IO) Type -&gt; NamesT (TCMT IO) Term
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (Abs Type)
</span><a href="#local-6989586621681036333"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (Abs Type)
-&gt; NamesT (TCMT IO) (SubstArg Type) -&gt; NamesT (TCMT IO) Type
forall {m :: * -&gt; *} {r}.
(Monad m, Subst r) =&gt;
m (Abs r) -&gt; m (SubstArg r) -&gt; m r
</span><a href="#local-6989586621681036345"><span class="hs-operator hs-var">`absAp`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036368"><span class="hs-identifier hs-var">imax</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b
</span><a href="#local-6989586621681036329"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036318"><span class="hs-identifier hs-var">j</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-531"></span><span>                                          </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036335"><span class="hs-identifier hs-var">phi</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036368"><span class="hs-operator hs-var">`imax`</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b
</span><a href="#local-6989586621681036329"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-532"></span><span>                                          </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036323"><span class="hs-identifier hs-var">u</span></a></span><span>
</span><span id="line-533"></span><span>                  </span><span id="local-6989586621681036317"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681036317"><span class="hs-identifier hs-var">alpha</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Type
-&gt; NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036357"><span class="hs-identifier hs-var">pOr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NamesT (TCMT IO) (Abs Type)
</span><a href="#local-6989586621681036333"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (Abs Type)
-&gt; NamesT (TCMT IO) (SubstArg Type) -&gt; NamesT (TCMT IO) Type
forall {m :: * -&gt; *} {r}.
(Monad m, Subst r) =&gt;
m (Abs r) -&gt; m (SubstArg r) -&gt; m r
</span><a href="#local-6989586621681036345"><span class="hs-operator hs-var">`absAp`</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (SubstArg Type)
forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b
</span><a href="#local-6989586621681036329"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-534"></span><span>                              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036364"><span class="hs-identifier hs-var">ineg</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036328"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-535"></span><span>                              </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036328"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-536"></span><span>                           </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ArgName
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *).
MonadFail m =&gt;
ArgName -&gt; (NamesT m Term -&gt; NamesT m Term) -&gt; NamesT m Term
</span><a href="Agda.TypeChecking.Names.html#ilam"><span class="hs-identifier hs-var">ilam</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;o&quot;</span></span><span> </span><span class="annot"><span class="annottext">((NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
 -&gt; NamesT (TCMT IO) Term)
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; NamesT (TCMT IO) Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036324"><span class="hs-identifier hs-var">squeeze</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036327"><span class="hs-identifier hs-var">u1</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ArgName
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *).
MonadFail m =&gt;
ArgName -&gt; (NamesT m Term -&gt; NamesT m Term) -&gt; NamesT m Term
</span><a href="Agda.TypeChecking.Names.html#ilam"><span class="hs-identifier hs-var">ilam</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;o&quot;</span></span><span> </span><span class="annot"><span class="annottext">((NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
 -&gt; NamesT (TCMT IO) Term)
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; NamesT (TCMT IO) Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036324"><span class="hs-identifier hs-var">squeeze</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036326"><span class="hs-identifier hs-var">u2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-537"></span><span>                  </span><span class="annot"><span class="annottext">(Term, Term) -&gt; NamesT (TCMT IO) (Term, Term)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">((Term, Term) -&gt; NamesT (TCMT IO) (Term, Term))
-&gt; (Term, Term) -&gt; NamesT (TCMT IO) (Term, Term)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681036325"><span class="hs-identifier hs-var">psi</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681036317"><span class="hs-identifier hs-var">alpha</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-538"></span><span>
</span><span id="line-539"></span><span>            </span><span class="hs-comment">-- &#915; &#8866; Abs i. [(&#968;_n,&#945;_n : [&#968;] &#8594; R (&#948; i))]</span><span>
</span><span id="line-540"></span><span>            </span><span id="local-6989586621681036316"><span class="annot"><span class="annottext">[Abs (Term, Term)]
</span><a href="#local-6989586621681036316"><span class="hs-identifier hs-var">faces</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((Term, (Term, Term)) -&gt; TCMT IO (Abs (Term, Term)))
-&gt; Boundary -&gt; TCMT IO [Abs (Term, Term)]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">(Term, (Term, Term)) -&gt; TCMT IO (Abs (Term, Term))
</span><a href="#local-6989586621681036340"><span class="hs-identifier hs-var">mkFace</span></a></span><span> </span><span class="annot"><span class="annottext">Boundary
</span><a href="#local-6989586621681036371"><span class="hs-identifier hs-var">bs</span></a></span><span>
</span><span id="line-541"></span><span>
</span><span id="line-542"></span><span>            </span><span class="annot"><span class="annottext">[ArgName] -&gt; NamesT (TCMT IO) Term -&gt; TCMT IO Term
forall (m :: * -&gt; *) a. [ArgName] -&gt; NamesT m a -&gt; m a
</span><a href="Agda.TypeChecking.Names.html#runNamesT"><span class="hs-identifier hs-var">runNamesT</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">(NamesT (TCMT IO) Term -&gt; TCMT IO Term)
-&gt; NamesT (TCMT IO) Term -&gt; TCMT IO Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-543"></span><span>                </span><span class="hs-comment">-- &#915;</span><span>
</span><span id="line-544"></span><span>                </span><span id="local-6989586621681036315"><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036315"><span class="hs-identifier hs-var">w1'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Term -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) Term)
forall (m :: * -&gt; *) a.
(MonadFail m, Subst a) =&gt;
a -&gt; NamesT m (NamesT m a)
</span><a href="Agda.TypeChecking.Names.html#open"><span class="hs-identifier hs-var">open</span></a></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681036369"><span class="hs-identifier hs-var">w1'</span></a></span><span>
</span><span id="line-545"></span><span>                </span><span id="local-6989586621681036314"><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036314"><span class="hs-identifier hs-var">phi</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Term -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) Term)
forall (m :: * -&gt; *) a.
(MonadFail m, Subst a) =&gt;
a -&gt; NamesT m (NamesT m a)
</span><a href="Agda.TypeChecking.Names.html#open"><span class="hs-identifier hs-var">open</span></a></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681036375"><span class="hs-identifier hs-var">the_phi</span></a></span><span>
</span><span id="line-546"></span><span>                </span><span id="local-6989586621681036313"><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036313"><span class="hs-identifier hs-var">u</span></a></span></span><span>   </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Term -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) Term)
forall (m :: * -&gt; *) a.
(MonadFail m, Subst a) =&gt;
a -&gt; NamesT m (NamesT m a)
</span><a href="Agda.TypeChecking.Names.html#open"><span class="hs-identifier hs-var">open</span></a></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681036383"><span class="hs-identifier hs-var">the_u</span></a></span><span>
</span><span id="line-547"></span><span>                </span><span class="hs-comment">-- R (&#948; i1)</span><span>
</span><span id="line-548"></span><span>                </span><span id="local-6989586621681036312"><span class="annot"><span class="annottext">NamesT (TCMT IO) Type
</span><a href="#local-6989586621681036312"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Type -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) Type)
forall (m :: * -&gt; *) a.
(MonadFail m, Subst a) =&gt;
a -&gt; NamesT m (NamesT m a)
</span><a href="Agda.TypeChecking.Names.html#open"><span class="hs-identifier hs-var">open</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036403"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-549"></span><span>                </span><span id="local-6989586621681036311"><span class="annot"><span class="annottext">[(NamesT (TCMT IO) Term, NamesT (TCMT IO) (Abs Term))]
</span><a href="#local-6989586621681036311"><span class="hs-identifier hs-var">faces</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Abs (Term, Term)
 -&gt; NamesT
      (TCMT IO) (NamesT (TCMT IO) Term, NamesT (TCMT IO) (Abs Term)))
-&gt; [Abs (Term, Term)]
-&gt; NamesT
     (TCMT IO) [(NamesT (TCMT IO) Term, NamesT (TCMT IO) (Abs Term))]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681036310"><span class="annot"><span class="annottext">Abs (Term, Term)
</span><a href="#local-6989586621681036310"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(NamesT (TCMT IO) Term
 -&gt; NamesT (TCMT IO) (Abs Term)
 -&gt; (NamesT (TCMT IO) Term, NamesT (TCMT IO) (Abs Term)))
-&gt; NamesT (TCMT IO) (NamesT (TCMT IO) Term)
-&gt; NamesT (TCMT IO) (NamesT (TCMT IO) (Abs Term))
-&gt; NamesT
     (TCMT IO) (NamesT (TCMT IO) Term, NamesT (TCMT IO) (Abs Term))
forall (m :: * -&gt; *) a1 a2 r.
Monad m =&gt;
(a1 -&gt; a2 -&gt; r) -&gt; m a1 -&gt; m a2 -&gt; m r
</span><span class="hs-identifier hs-var">liftM2</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) Term)
forall (m :: * -&gt; *) a.
(MonadFail m, Subst a) =&gt;
a -&gt; NamesT m (NamesT m a)
</span><a href="Agda.TypeChecking.Names.html#open"><span class="hs-identifier hs-var">open</span></a></span><span> </span><span class="annot"><span class="annottext">(Term -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) Term))
-&gt; (Abs Term -&gt; Term)
-&gt; Abs Term
-&gt; NamesT (TCMT IO) (NamesT (TCMT IO) Term)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Impossible -&gt; Abs Term -&gt; Term
forall a. Subst a =&gt; Impossible -&gt; Abs a -&gt; a
</span><a href="Agda.TypeChecking.Substitute.Class.html#noabsApp"><span class="hs-identifier hs-var">noabsApp</span></a></span><span> </span><span class="annot"><span class="annottext">Impossible
forall a. HasCallStack =&gt; a
</span><a href="Agda.Utils.Impossible.html#__IMPOSSIBLE__"><span class="hs-identifier hs-var">__IMPOSSIBLE__</span></a></span><span> </span><span class="annot"><span class="annottext">(Abs Term -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) Term))
-&gt; Abs Term -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) Term)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">((Term, Term) -&gt; Term) -&gt; Abs (Term, Term) -&gt; Abs Term
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">(Term, Term) -&gt; Term
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span> </span><span class="annot"><span class="annottext">Abs (Term, Term)
</span><a href="#local-6989586621681036310"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Abs Term -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) (Abs Term))
forall (m :: * -&gt; *) a.
(MonadFail m, Subst a) =&gt;
a -&gt; NamesT m (NamesT m a)
</span><a href="Agda.TypeChecking.Names.html#open"><span class="hs-identifier hs-var">open</span></a></span><span> </span><span class="annot"><span class="annottext">(Abs Term -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) (Abs Term)))
-&gt; Abs Term -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) (Abs Term))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">((Term, Term) -&gt; Term) -&gt; Abs (Term, Term) -&gt; Abs Term
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">(Term, Term) -&gt; Term
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span> </span><span class="annot"><span class="annottext">Abs (Term, Term)
</span><a href="#local-6989586621681036310"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Abs (Term, Term)]
</span><a href="#local-6989586621681036316"><span class="hs-identifier hs-var">faces</span></a></span><span>
</span><span id="line-550"></span><span>                </span><span class="hs-keyword">let</span><span>
</span><span id="line-551"></span><span>                  </span><span id="local-6989586621681036308"><span class="annot"><span class="annottext">thePsi :: NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036308"><span class="hs-identifier hs-var hs-var">thePsi</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(NamesT (TCMT IO) Term
 -&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; [NamesT (TCMT IO) Term] -&gt; NamesT (TCMT IO) Term
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; a -&gt; a) -&gt; t a -&gt; a
</span><span class="hs-identifier hs-var">foldl1</span></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036368"><span class="hs-identifier hs-var">imax</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((NamesT (TCMT IO) Term, NamesT (TCMT IO) (Abs Term))
 -&gt; NamesT (TCMT IO) Term)
-&gt; [(NamesT (TCMT IO) Term, NamesT (TCMT IO) (Abs Term))]
-&gt; [NamesT (TCMT IO) Term]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">(NamesT (TCMT IO) Term, NamesT (TCMT IO) (Abs Term))
-&gt; NamesT (TCMT IO) Term
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span> </span><span class="annot"><span class="annottext">[(NamesT (TCMT IO) Term, NamesT (TCMT IO) (Abs Term))]
</span><a href="#local-6989586621681036311"><span class="hs-identifier hs-var">faces</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-552"></span><span>                  </span><span id="local-6989586621681036306"><span class="annot"><span class="annottext">hcomp :: NamesT (TCMT IO) Type
-&gt; NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036306"><span class="hs-identifier hs-var hs-var">hcomp</span></a></span></span><span> </span><span id="local-6989586621681036305"><span class="annot"><span class="annottext">NamesT (TCMT IO) Type
</span><a href="#local-6989586621681036305"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621681036304"><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036304"><span class="hs-identifier hs-var">phi</span></a></span></span><span> </span><span id="local-6989586621681036303"><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036303"><span class="hs-identifier hs-var">sys</span></a></span></span><span> </span><span id="local-6989586621681036302"><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036302"><span class="hs-identifier hs-var">a0</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term -&gt; NamesT (TCMT IO) Term
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681036386"><span class="hs-identifier hs-var">tHComp</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%23%3E"><span class="hs-operator hs-var">&lt;#&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type -&gt; Term
</span><a href="#local-6989586621681036361"><span class="hs-identifier hs-var">lvlOfType</span></a></span><span> </span><span class="annot"><span class="annottext">(Type -&gt; Term) -&gt; NamesT (TCMT IO) Type -&gt; NamesT (TCMT IO) Term
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Type
</span><a href="#local-6989586621681036305"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-553"></span><span>                                                    </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%23%3E"><span class="hs-operator hs-var">&lt;#&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type -&gt; Term
forall t a. Type'' t a -&gt; a
</span><a href="Agda.Syntax.Internal.html#unEl"><span class="hs-identifier hs-var">unEl</span></a></span><span> </span><span class="annot"><span class="annottext">(Type -&gt; Term) -&gt; NamesT (TCMT IO) Type -&gt; NamesT (TCMT IO) Term
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Type
</span><a href="#local-6989586621681036305"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-554"></span><span>                                                    </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%23%3E"><span class="hs-operator hs-var">&lt;#&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036304"><span class="hs-identifier hs-var">phi</span></a></span><span>
</span><span id="line-555"></span><span>                                                    </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036303"><span class="hs-identifier hs-var">sys</span></a></span><span>
</span><span id="line-556"></span><span>                                                    </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036302"><span class="hs-identifier hs-var">a0</span></a></span><span>
</span><span id="line-557"></span><span>                </span><span class="hs-keyword">let</span><span>
</span><span id="line-558"></span><span>                 </span><span id="local-6989586621681036301"><span class="annot"><span class="annottext">sys :: NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036301"><span class="hs-identifier hs-var hs-var">sys</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ArgName
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *).
MonadFail m =&gt;
ArgName -&gt; (NamesT m Term -&gt; NamesT m Term) -&gt; NamesT m Term
</span><a href="Agda.TypeChecking.Names.html#lam"><span class="hs-identifier hs-var">lam</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;i&quot;</span></span><span> </span><span class="annot"><span class="annottext">((NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
 -&gt; NamesT (TCMT IO) Term)
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; NamesT (TCMT IO) Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681036300"><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036300"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-559"></span><span>                  </span><span class="hs-keyword">let</span><span>
</span><span id="line-560"></span><span>                    </span><span id="local-6989586621681036299"><span class="annot"><span class="annottext">recurse :: [(NamesT (TCMT IO) Term, NamesT (TCMT IO) (Abs Term))]
-&gt; NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036299"><span class="hs-identifier hs-var hs-var">recurse</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span id="local-6989586621681036298"><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036298"><span class="hs-identifier hs-var">psi</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681036297"><span class="annot"><span class="annottext">NamesT (TCMT IO) (Abs Term)
</span><a href="#local-6989586621681036297"><span class="hs-identifier hs-var">alpha</span></a></span></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (Abs Term)
</span><a href="#local-6989586621681036297"><span class="hs-identifier hs-var">alpha</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (Abs Term)
-&gt; NamesT (TCMT IO) (SubstArg Term) -&gt; NamesT (TCMT IO) Term
forall {m :: * -&gt; *} {r}.
(Monad m, Subst r) =&gt;
m (Abs r) -&gt; m (SubstArg r) -&gt; m r
</span><a href="#local-6989586621681036345"><span class="hs-operator hs-var">`absAp`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036364"><span class="hs-identifier hs-var">ineg</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036300"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-561"></span><span>                    </span><span class="annot"><a href="#local-6989586621681036299"><span class="hs-identifier hs-var">recurse</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span id="local-6989586621681036296"><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036296"><span class="hs-identifier hs-var">psi</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681036295"><span class="annot"><span class="annottext">NamesT (TCMT IO) (Abs Term)
</span><a href="#local-6989586621681036295"><span class="hs-identifier hs-var">alpha</span></a></span></span><span class="hs-special">)</span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621681036294"><span class="annot"><span class="annottext">[(NamesT (TCMT IO) Term, NamesT (TCMT IO) (Abs Term))]
</span><a href="#local-6989586621681036294"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Type
-&gt; NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036357"><span class="hs-identifier hs-var">pOr</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Type
</span><a href="#local-6989586621681036312"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-562"></span><span>                                                   </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036296"><span class="hs-identifier hs-var">psi</span></a></span><span>  </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036293"><span class="hs-identifier hs-var">theOr</span></a></span><span>
</span><span id="line-563"></span><span>                                                   </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NamesT (TCMT IO) (Abs Term)
</span><a href="#local-6989586621681036295"><span class="hs-identifier hs-var">alpha</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (Abs Term)
-&gt; NamesT (TCMT IO) (SubstArg Term) -&gt; NamesT (TCMT IO) Term
forall {m :: * -&gt; *} {r}.
(Monad m, Subst r) =&gt;
m (Abs r) -&gt; m (SubstArg r) -&gt; m r
</span><a href="#local-6989586621681036345"><span class="hs-operator hs-var">`absAp`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036364"><span class="hs-identifier hs-var">ineg</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036300"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[(NamesT (TCMT IO) Term, NamesT (TCMT IO) (Abs Term))]
-&gt; NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036299"><span class="hs-identifier hs-var">recurse</span></a></span><span> </span><span class="annot"><span class="annottext">[(NamesT (TCMT IO) Term, NamesT (TCMT IO) (Abs Term))]
</span><a href="#local-6989586621681036294"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-564"></span><span>                      </span><span class="hs-keyword">where</span><span>
</span><span id="line-565"></span><span>                        </span><span id="local-6989586621681036293"><span class="annot"><span class="annottext">theOr :: NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036293"><span class="hs-identifier hs-var hs-var">theOr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(NamesT (TCMT IO) Term
 -&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; [NamesT (TCMT IO) Term] -&gt; NamesT (TCMT IO) Term
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; a -&gt; a) -&gt; t a -&gt; a
</span><span class="hs-identifier hs-var">foldl1</span></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036368"><span class="hs-identifier hs-var">imax</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((NamesT (TCMT IO) Term, NamesT (TCMT IO) (Abs Term))
 -&gt; NamesT (TCMT IO) Term)
-&gt; [(NamesT (TCMT IO) Term, NamesT (TCMT IO) (Abs Term))]
-&gt; [NamesT (TCMT IO) Term]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">(NamesT (TCMT IO) Term, NamesT (TCMT IO) (Abs Term))
-&gt; NamesT (TCMT IO) Term
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span> </span><span class="annot"><span class="annottext">[(NamesT (TCMT IO) Term, NamesT (TCMT IO) (Abs Term))]
</span><a href="#local-6989586621681036294"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-566"></span><span>                    </span><span class="annot"><a href="#local-6989586621681036299"><span class="hs-identifier hs-var">recurse</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
forall a. HasCallStack =&gt; a
</span><a href="Agda.Utils.Impossible.html#__IMPOSSIBLE__"><span class="hs-identifier hs-var">__IMPOSSIBLE__</span></a></span><span>
</span><span id="line-567"></span><span>                    </span><span id="local-6989586621681036292"><span class="annot"><span class="annottext">sys_alpha :: NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036292"><span class="hs-identifier hs-var hs-var">sys_alpha</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(NamesT (TCMT IO) Term, NamesT (TCMT IO) (Abs Term))]
-&gt; NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036299"><span class="hs-identifier hs-var">recurse</span></a></span><span> </span><span class="annot"><span class="annottext">[(NamesT (TCMT IO) Term, NamesT (TCMT IO) (Abs Term))]
</span><a href="#local-6989586621681036311"><span class="hs-identifier hs-var">faces</span></a></span><span>
</span><span id="line-568"></span><span>                  </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Type
-&gt; NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036357"><span class="hs-identifier hs-var">pOr</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Type
</span><a href="#local-6989586621681036312"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-569"></span><span>                                                   </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036308"><span class="hs-identifier hs-var">thePsi</span></a></span><span>    </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036314"><span class="hs-identifier hs-var">phi</span></a></span><span>
</span><span id="line-570"></span><span>                                                   </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036292"><span class="hs-identifier hs-var">sys_alpha</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ArgName
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *).
MonadFail m =&gt;
ArgName -&gt; (NamesT m Term -&gt; NamesT m Term) -&gt; NamesT m Term
</span><a href="Agda.TypeChecking.Names.html#ilam"><span class="hs-identifier hs-var">ilam</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;o&quot;</span></span><span> </span><span class="annot"><span class="annottext">((NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
 -&gt; NamesT (TCMT IO) Term)
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; NamesT (TCMT IO) Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036313"><span class="hs-identifier hs-var">u</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-571"></span><span>                </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Type
-&gt; NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036306"><span class="hs-identifier hs-var">hcomp</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Type
</span><a href="#local-6989586621681036312"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036308"><span class="hs-identifier hs-var">thePsi</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036368"><span class="hs-operator hs-var">`imax`</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036314"><span class="hs-identifier hs-var">phi</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036301"><span class="hs-identifier hs-var">sys</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036315"><span class="hs-identifier hs-var">w1'</span></a></span><span>
</span><span id="line-572"></span><span>
</span><span id="line-573"></span><span>
</span><span id="line-574"></span><span>      </span><span class="hs-keyword">let</span><span>
</span><span id="line-575"></span><span>
</span><span id="line-576"></span><span>        </span><span class="hs-comment">-- &#948; : &#916;^I, &#966; : F &#8866; [&#948; 0] : &#916;</span><span>
</span><span id="line-577"></span><span>        </span><span class="annot"><a href="#local-6989586621681036291"><span class="hs-identifier hs-type">d0</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Substitution"><span class="hs-identifier hs-type">Substitution</span></a></span><span>
</span><span id="line-578"></span><span>        </span><span id="local-6989586621681036291"><span class="annot"><span class="annottext">d0 :: Substitution
</span><a href="#local-6989586621681036291"><span class="hs-identifier hs-var hs-var">d0</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Substitution -&gt; Substitution
forall a. Nat -&gt; Substitution' a -&gt; Substitution' a
</span><a href="Agda.TypeChecking.Substitute.Class.html#wkS"><span class="hs-identifier hs-var">wkS</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">1</span></span><span> </span><span class="hs-comment">-- &#916;^I, &#966; : F &#8866; &#916;</span><span>
</span><span id="line-579"></span><span>                       </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term -&gt; Substitution -&gt; Substitution
forall a. DeBruijn a =&gt; a -&gt; Substitution' a -&gt; Substitution' a
</span><a href="Agda.TypeChecking.Substitute.Class.html#consS"><span class="hs-identifier hs-var">consS</span></a></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681036399"><span class="hs-identifier hs-var">iz</span></a></span><span> </span><span class="annot"><span class="annottext">Substitution
forall a. Substitution' a
</span><a href="Agda.Syntax.Internal.html#IdS"><span class="hs-identifier hs-var">IdS</span></a></span><span> </span><span class="annot"><span class="annottext">Substitution -&gt; Substitution -&gt; Substitution
forall a.
EndoSubst a =&gt;
Substitution' a -&gt; Substitution' a -&gt; Substitution' a
</span><a href="Agda.TypeChecking.Substitute.Class.html#composeS"><span class="hs-operator hs-var">`composeS`</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Substitution
forall {a}. Sized a =&gt; a -&gt; Substitution
</span><a href="#local-6989586621681036658"><span class="hs-identifier hs-var">sub</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036421"><span class="hs-identifier hs-var">params</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- &#916;^I &#8866; &#916;</span><span>
</span><span id="line-580"></span><span>                                 </span><span class="hs-comment">-- &#916;^I , i:I &#8866; sub params : &#916;</span><span>
</span><span id="line-581"></span><span>
</span><span id="line-582"></span><span>        </span><span class="hs-comment">-- &#916;.&#934; &#8866; u = Con con ConOSystem $ teleElims fsT boundary : R &#948;</span><span>
</span><span id="line-583"></span><span class="hs-comment">--        u = Con con ConOSystem $ teleElims fsT boundary</span><span>
</span><span id="line-584"></span><span>        </span><span id="local-6989586621681036290"><span class="annot"><span class="annottext">up :: Pattern' DBPatVar
</span><a href="#local-6989586621681036290"><span class="hs-identifier hs-var hs-var">up</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ConHead
-&gt; ConPatternInfo
-&gt; [Arg (Named_ (Pattern' DBPatVar))]
-&gt; Pattern' DBPatVar
forall x.
ConHead -&gt; ConPatternInfo -&gt; [NamedArg (Pattern' x)] -&gt; Pattern' x
</span><a href="Agda.Syntax.Internal.html#ConP"><span class="hs-identifier hs-var">ConP</span></a></span><span> </span><span class="annot"><span class="annottext">ConHead
</span><a href="#local-6989586621681036422"><span class="hs-identifier hs-var">con</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PatternInfo
-&gt; Bool -&gt; Bool -&gt; Maybe (Arg Type) -&gt; Bool -&gt; ConPatternInfo
</span><a href="Agda.Syntax.Internal.html#ConPatternInfo"><span class="hs-identifier hs-var">ConPatternInfo</span></a></span><span> </span><span class="annot"><span class="annottext">PatternInfo
</span><a href="Agda.Syntax.Internal.html#defaultPatternInfo"><span class="hs-identifier hs-var">defaultPatternInfo</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">Maybe (Arg Type)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([Arg (Named_ (Pattern' DBPatVar))] -&gt; Pattern' DBPatVar)
-&gt; [Arg (Named_ (Pattern' DBPatVar))] -&gt; Pattern' DBPatVar
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-585"></span><span>               </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Boundary -&gt; [Arg (Named_ (Pattern' DBPatVar))]
forall a.
DeBruijn a =&gt;
Tele (Dom Type) -&gt; Boundary -&gt; [NamedArg (Pattern' a)]
</span><a href="Agda.TypeChecking.Telescope.html#telePatterns"><span class="hs-identifier hs-var">telePatterns</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Substitution
Substitution' (SubstArg (Tele (Dom Type)))
</span><a href="#local-6989586621681036291"><span class="hs-identifier hs-var">d0</span></a></span><span> </span><span class="annot"><span class="annottext">Substitution' (SubstArg (Tele (Dom Type)))
-&gt; Tele (Dom Type) -&gt; Tele (Dom Type)
forall a. Subst a =&gt; Substitution' (SubstArg a) -&gt; a -&gt; a
</span><a href="Agda.TypeChecking.Substitute.Class.html#applySubst"><span class="hs-operator hs-var">`applySubst`</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036419"><span class="hs-identifier hs-var">fsT</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Nat -&gt; Substitution -&gt; Substitution
forall a. Nat -&gt; Substitution' a -&gt; Substitution' a
</span><a href="Agda.TypeChecking.Substitute.Class.html#liftS"><span class="hs-identifier hs-var">liftS</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Nat
forall a. Sized a =&gt; a -&gt; Nat
</span><a href="Agda.Utils.Size.html#size"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036419"><span class="hs-identifier hs-var">fsT</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Substitution
</span><a href="#local-6989586621681036291"><span class="hs-identifier hs-var">d0</span></a></span><span> </span><span class="annot"><span class="annottext">Substitution' (SubstArg Boundary) -&gt; Boundary -&gt; Boundary
forall a. Subst a =&gt; Substitution' (SubstArg a) -&gt; a -&gt; a
</span><a href="Agda.TypeChecking.Substitute.Class.html#applySubst"><span class="hs-operator hs-var">`applySubst`</span></a></span><span> </span><span class="annot"><span class="annottext">Boundary
</span><a href="#local-6989586621681036417"><span class="hs-identifier hs-var">boundary</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-586"></span><span class="hs-comment">--        gamma' = telFromList $ take (size gamma - 1) $ telToList gamma</span><span>
</span><span id="line-587"></span><span>
</span><span id="line-588"></span><span>        </span><span class="hs-comment">-- (&#948; , &#966; , fs : &#934;[d0]) &#8866; u[liftS &#934; d0]</span><span>
</span><span id="line-589"></span><span>        </span><span class="hs-comment">-- (&#948; , &#966;, u) : &#915; &#8866; body</span><span>
</span><span id="line-590"></span><span>        </span><span class="hs-comment">-- &#916; &#8866; &#934; = fsT</span><span>
</span><span id="line-591"></span><span>        </span><span class="hs-comment">-- (&#948; , &#966; , fs : &#934;[d0]) &#8866; u[liftS &#934; d0] `consS` raiseS &#934; : &#915;</span><span>
</span><span id="line-592"></span><span class="hs-comment">--        (tel',theta) = (abstract gamma' (d0 `applySubst` fsT), (liftS (size fsT) d0 `applySubst` u) `consS` raiseS (size fsT))</span><span>
</span><span id="line-593"></span><span>
</span><span id="line-594"></span><span>      </span><span class="hs-keyword">let</span><span>
</span><span id="line-595"></span><span>        </span><span id="local-6989586621681036285"><span class="annot"><span class="annottext">pats :: [Arg (Named_ (Pattern' DBPatVar))]
</span><a href="#local-6989586621681036285"><span class="hs-identifier hs-var hs-var">pats</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Boundary -&gt; Bool
forall a. Null a =&gt; a -&gt; Bool
</span><a href="Agda.Utils.Null.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">Boundary
</span><a href="#local-6989586621681036417"><span class="hs-identifier hs-var">boundary</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; [Arg (Named_ (Pattern' DBPatVar))]
forall a t. DeBruijn a =&gt; Tele (Dom t) -&gt; [NamedArg a]
</span><a href="Agda.TypeChecking.Telescope.html#teleNamedArgs"><span class="hs-identifier hs-var">teleNamedArgs</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036404"><span class="hs-identifier hs-var">gamma</span></a></span><span>
</span><span id="line-596"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Nat
-&gt; [Arg (Named_ (Pattern' DBPatVar))]
-&gt; [Arg (Named_ (Pattern' DBPatVar))]
forall a. Nat -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">take</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Nat
forall a. Sized a =&gt; a -&gt; Nat
</span><a href="Agda.Utils.Size.html#size"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036404"><span class="hs-identifier hs-var">gamma</span></a></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Nat -&gt; Nat
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Nat
forall a. Sized a =&gt; a -&gt; Nat
</span><a href="Agda.Utils.Size.html#size"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036419"><span class="hs-identifier hs-var">fsT</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; [Arg (Named_ (Pattern' DBPatVar))]
forall a t. DeBruijn a =&gt; Tele (Dom t) -&gt; [NamedArg a]
</span><a href="Agda.TypeChecking.Telescope.html#teleNamedArgs"><span class="hs-identifier hs-var">teleNamedArgs</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036404"><span class="hs-identifier hs-var">gamma</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Arg (Named_ (Pattern' DBPatVar))]
-&gt; [Arg (Named_ (Pattern' DBPatVar))]
-&gt; [Arg (Named_ (Pattern' DBPatVar))]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Named_ (Pattern' DBPatVar) -&gt; Arg (Named_ (Pattern' DBPatVar))
forall e. e -&gt; Arg e
</span><a href="Agda.TypeChecking.Primitive.Base.html#argN"><span class="hs-identifier hs-var">argN</span></a></span><span> </span><span class="annot"><span class="annottext">(Named_ (Pattern' DBPatVar) -&gt; Arg (Named_ (Pattern' DBPatVar)))
-&gt; Named_ (Pattern' DBPatVar) -&gt; Arg (Named_ (Pattern' DBPatVar))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Pattern' DBPatVar -&gt; Named_ (Pattern' DBPatVar)
forall a name. a -&gt; Named name a
</span><a href="Agda.Syntax.Common.html#unnamed"><span class="hs-identifier hs-var">unnamed</span></a></span><span> </span><span class="annot"><span class="annottext">(Pattern' DBPatVar -&gt; Named_ (Pattern' DBPatVar))
-&gt; Pattern' DBPatVar -&gt; Named_ (Pattern' DBPatVar)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Pattern' DBPatVar
</span><a href="#local-6989586621681036290"><span class="hs-identifier hs-var">up</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-597"></span><span>        </span><span id="local-6989586621681036281"><span class="annot"><span class="annottext">clause :: Clause
</span><a href="#local-6989586621681036281"><span class="hs-identifier hs-var hs-var">clause</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Clause"><span class="hs-identifier hs-type">Clause</span></a></span><span>
</span><span id="line-598"></span><span>          </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">clauseTel :: Tele (Dom Type)
</span><a href="Agda.Syntax.Internal.html#clauseTel"><span class="hs-identifier hs-var">clauseTel</span></a></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036404"><span class="hs-identifier hs-var">gamma</span></a></span><span>
</span><span id="line-599"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">clauseType :: Maybe (Arg Type)
</span><a href="Agda.Syntax.Internal.html#clauseType"><span class="hs-identifier hs-var">clauseType</span></a></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Arg Type -&gt; Maybe (Arg Type)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(Arg Type -&gt; Maybe (Arg Type))
-&gt; (Type -&gt; Arg Type) -&gt; Type -&gt; Maybe (Arg Type)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Type -&gt; Arg Type
forall e. e -&gt; Arg e
</span><a href="Agda.TypeChecking.Primitive.Base.html#argN"><span class="hs-identifier hs-var">argN</span></a></span><span> </span><span class="annot"><span class="annottext">(Type -&gt; Maybe (Arg Type)) -&gt; Type -&gt; Maybe (Arg Type)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036403"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-600"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">namedClausePats :: [Arg (Named_ (Pattern' DBPatVar))]
</span><a href="Agda.Syntax.Internal.html#namedClausePats"><span class="hs-identifier hs-var">namedClausePats</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Arg (Named_ (Pattern' DBPatVar))]
</span><a href="#local-6989586621681036285"><span class="hs-identifier hs-var">pats</span></a></span><span>
</span><span id="line-601"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">clauseFullRange :: Range
</span><a href="Agda.Syntax.Internal.html#clauseFullRange"><span class="hs-identifier hs-var">clauseFullRange</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Range
forall a. Range' a
</span><a href="Agda.Syntax.Position.html#noRange"><span class="hs-identifier hs-var">noRange</span></a></span><span>
</span><span id="line-602"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">clauseLHSRange :: Range
</span><a href="Agda.Syntax.Internal.html#clauseLHSRange"><span class="hs-identifier hs-var">clauseLHSRange</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Range
forall a. Range' a
</span><a href="Agda.Syntax.Position.html#noRange"><span class="hs-identifier hs-var">noRange</span></a></span><span>
</span><span id="line-603"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">clauseCatchall :: Bool
</span><a href="Agda.Syntax.Internal.html#clauseCatchall"><span class="hs-identifier hs-var">clauseCatchall</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-604"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">clauseBody :: Maybe Term
</span><a href="Agda.Syntax.Internal.html#clauseBody"><span class="hs-identifier hs-var">clauseBody</span></a></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term -&gt; Maybe Term
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(Term -&gt; Maybe Term) -&gt; Term -&gt; Maybe Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681036397"><span class="hs-identifier hs-var">body</span></a></span><span>
</span><span id="line-605"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">clauseExact :: Maybe Bool
</span><a href="Agda.Syntax.Internal.html#clauseExact"><span class="hs-identifier hs-var">clauseExact</span></a></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Maybe Bool
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-606"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">clauseRecursive :: Maybe Bool
</span><a href="Agda.Syntax.Internal.html#clauseRecursive"><span class="hs-identifier hs-var">clauseRecursive</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Bool
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-607"></span><span>              </span><span class="hs-comment">-- Andreas 2020-02-06 TODO</span><span>
</span><span id="line-608"></span><span>              </span><span class="hs-comment">-- Or: Just False;  is it known to be non-recursive?</span><span>
</span><span id="line-609"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">clauseUnreachable :: Maybe Bool
</span><a href="Agda.Syntax.Internal.html#clauseUnreachable"><span class="hs-identifier hs-var">clauseUnreachable</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Maybe Bool
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-610"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">clauseEllipsis :: ExpandedEllipsis
</span><a href="Agda.Syntax.Internal.html#clauseEllipsis"><span class="hs-identifier hs-var">clauseEllipsis</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ExpandedEllipsis
</span><a href="Agda.Syntax.Common.html#NoEllipsis"><span class="hs-identifier hs-var">NoEllipsis</span></a></span><span>
</span><span id="line-611"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">clauseWhereModule :: Maybe ModuleName
</span><a href="Agda.Syntax.Internal.html#clauseWhereModule"><span class="hs-identifier hs-var">clauseWhereModule</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe ModuleName
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-612"></span><span>          </span><span class="hs-special">}</span><span>
</span><span id="line-613"></span><span>        </span><span id="local-6989586621681036265"><span class="annot"><span class="annottext">cs :: [Clause]
</span><a href="#local-6989586621681036265"><span class="hs-identifier hs-var hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Clause
</span><a href="#local-6989586621681036281"><span class="hs-identifier hs-var">clause</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-614"></span><span>      </span><span class="annot"><span class="annottext">QName -&gt; [Clause] -&gt; TCM ()
</span><a href="Agda.TypeChecking.Monad.Signature.html#addClauses"><span class="hs-identifier hs-var">addClauses</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036405"><span class="hs-identifier hs-var">theName</span></a></span><span> </span><span class="annot"><span class="annottext">[Clause]
</span><a href="#local-6989586621681036265"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-615"></span><span>      </span><span class="hs-special">(</span><span id="local-6989586621681036263"><span class="annot"><span class="annottext">Maybe SplitTree
</span><a href="#local-6989586621681036263"><span class="hs-identifier hs-var">mst</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681036262"><span class="annot"><span class="annottext">CompiledClauses
</span><a href="#local-6989586621681036262"><span class="hs-identifier hs-var">cc</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TCMT IO (Maybe SplitTree, Bool, CompiledClauses)
-&gt; TCMT IO (Maybe SplitTree, Bool, CompiledClauses)
forall (tcm :: * -&gt; *) a.
(MonadTCEnv tcm, ReadTCState tcm) =&gt;
tcm a -&gt; tcm a
</span><a href="Agda.TypeChecking.Monad.Context.html#inTopContext"><span class="hs-identifier hs-var">inTopContext</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe (QName, Type)
-&gt; [Clause] -&gt; TCMT IO (Maybe SplitTree, Bool, CompiledClauses)
</span><a href="Agda.TypeChecking.CompiledClause.Compile.html#compileClauses"><span class="hs-identifier hs-var">compileClauses</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (QName, Type)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">[Clause]
</span><a href="#local-6989586621681036265"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-616"></span><span>      </span><span class="annot"><span class="annottext">Maybe SplitTree -&gt; (SplitTree -&gt; TCM ()) -&gt; TCM ()
forall (m :: * -&gt; *) a. Monad m =&gt; Maybe a -&gt; (a -&gt; m ()) -&gt; m ()
</span><a href="Agda.Utils.Maybe.html#whenJust"><span class="hs-identifier hs-var">whenJust</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe SplitTree
</span><a href="#local-6989586621681036263"><span class="hs-identifier hs-var">mst</span></a></span><span> </span><span class="annot"><span class="annottext">((SplitTree -&gt; TCM ()) -&gt; TCM ())
-&gt; (SplitTree -&gt; TCM ()) -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">QName -&gt; SplitTree -&gt; TCM ()
</span><a href="Agda.TypeChecking.Monad.Signature.html#setSplitTree"><span class="hs-identifier hs-var">setSplitTree</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036405"><span class="hs-identifier hs-var">theName</span></a></span><span>
</span><span id="line-617"></span><span>      </span><span class="annot"><span class="annottext">QName -&gt; CompiledClauses -&gt; TCM ()
</span><a href="Agda.TypeChecking.Monad.Signature.html#setCompiledClauses"><span class="hs-identifier hs-var">setCompiledClauses</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036405"><span class="hs-identifier hs-var">theName</span></a></span><span> </span><span class="annot"><span class="annottext">CompiledClauses
</span><a href="#local-6989586621681036262"><span class="hs-identifier hs-var">cc</span></a></span><span>
</span><span id="line-618"></span><span>      </span><span class="annot"><span class="annottext">QName -&gt; Bool -&gt; TCM ()
forall (m :: * -&gt; *). MonadTCState m =&gt; QName -&gt; Bool -&gt; m ()
</span><a href="Agda.TypeChecking.Monad.Signature.html#setTerminates"><span class="hs-identifier hs-var">setTerminates</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036405"><span class="hs-identifier hs-var">theName</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-619"></span><span>      </span><span class="annot"><span class="annottext">Maybe QName -&gt; TCMT IO (Maybe QName)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Maybe QName -&gt; TCMT IO (Maybe QName))
-&gt; Maybe QName -&gt; TCMT IO (Maybe QName)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">QName -&gt; Maybe QName
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036405"><span class="hs-identifier hs-var">theName</span></a></span><span>
</span><span id="line-620"></span><span>
</span><span id="line-621"></span><span>    </span><span id="local-6989586621681036677"><span class="annot"><span class="annottext">whenDefined :: Bool -&gt; t ArgName -&gt; m (Maybe a) -&gt; m (Maybe a)
</span><a href="#local-6989586621681036677"><span class="hs-identifier hs-var hs-var">whenDefined</span></a></span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">t ArgName
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">m (Maybe a)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe a -&gt; m (Maybe a)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">Maybe a
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-622"></span><span>    </span><span class="annot"><a href="#local-6989586621681036677"><span class="hs-identifier hs-var">whenDefined</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span id="local-6989586621681036241"><span class="annot"><span class="annottext">t ArgName
</span><a href="#local-6989586621681036241"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span id="local-6989586621681036240"><span class="annot"><span class="annottext">m (Maybe a)
</span><a href="#local-6989586621681036240"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-623"></span><span>      </span><span id="local-6989586621681036239"><span class="annot"><span class="annottext">t (Maybe Term)
</span><a href="#local-6989586621681036239"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(ArgName -&gt; m (Maybe Term)) -&gt; t ArgName -&gt; m (t (Maybe Term))
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; m (Maybe Term)
forall (m :: * -&gt; *). HasBuiltins m =&gt; ArgName -&gt; m (Maybe Term)
</span><a href="Agda.TypeChecking.Monad.Builtin.html#getTerm%27"><span class="hs-identifier hs-var">getTerm'</span></a></span><span> </span><span class="annot"><span class="annottext">t ArgName
</span><a href="#local-6989586621681036241"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-624"></span><span>      </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">(Maybe Term -&gt; Bool) -&gt; t (Maybe Term) -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">all</span></span><span> </span><span class="annot"><span class="annottext">Maybe Term -&gt; Bool
forall a. Maybe a -&gt; Bool
</span><span class="hs-identifier hs-var">isJust</span></span><span> </span><span class="annot"><span class="annottext">t (Maybe Term)
</span><a href="#local-6989586621681036239"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">m (Maybe a)
</span><a href="#local-6989586621681036240"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Maybe a -&gt; m (Maybe a)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">Maybe a
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-625"></span><span>
</span><span id="line-626"></span><span class="hs-comment">-- Andrea: TODO handle Irrelevant fields somehow.</span><span>
</span><span id="line-627"></span><span class="hs-comment">-- | Define projections for non-indexed data types (families don't work yet).</span><span>
</span><span id="line-628"></span><span class="hs-comment">--   Of course, these projections are partial functions in general.</span><span>
</span><span id="line-629"></span><span class="hs-comment">--</span><span>
</span><span id="line-630"></span><span class="hs-comment">--   Precondition: we are in the context &#915; of the data type parameters.</span><span>
</span><span id="line-631"></span><span class="annot"><a href="Agda.TypeChecking.Rules.Data.html#defineProjections"><span class="hs-identifier hs-type">defineProjections</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Abstract.Name.html#QName"><span class="hs-identifier hs-type">QName</span></a></span><span>      </span><span class="hs-comment">-- datatype name</span><span>
</span><span id="line-632"></span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#ConHead"><span class="hs-identifier hs-type">ConHead</span></a></span><span>
</span><span id="line-633"></span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Telescope"><span class="hs-identifier hs-type">Telescope</span></a></span><span>  </span><span class="hs-comment">-- &#915; parameters</span><span>
</span><span id="line-634"></span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Agda.Syntax.Abstract.Name.html#QName"><span class="hs-identifier hs-type">QName</span></a></span><span class="hs-special">]</span><span>    </span><span class="hs-comment">-- projection names</span><span>
</span><span id="line-635"></span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Telescope"><span class="hs-identifier hs-type">Telescope</span></a></span><span>  </span><span class="hs-comment">-- &#915; &#8866; &#934; field types</span><span>
</span><span id="line-636"></span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span>       </span><span class="hs-comment">-- &#915; &#8866; T target type</span><span>
</span><span id="line-637"></span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#TCM"><span class="hs-identifier hs-type">TCM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-638"></span><span id="defineProjections"><span class="annot"><span class="annottext">defineProjections :: QName
-&gt; ConHead
-&gt; Tele (Dom Type)
-&gt; [QName]
-&gt; Tele (Dom Type)
-&gt; Type
-&gt; TCM ()
</span><a href="Agda.TypeChecking.Rules.Data.html#defineProjections"><span class="hs-identifier hs-var hs-var">defineProjections</span></a></span></span><span> </span><span id="local-6989586621681036238"><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036238"><span class="hs-identifier hs-var">dataName</span></a></span></span><span> </span><span id="local-6989586621681036237"><span class="annot"><span class="annottext">ConHead
</span><a href="#local-6989586621681036237"><span class="hs-identifier hs-var">con</span></a></span></span><span> </span><span id="local-6989586621681036236"><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036236"><span class="hs-identifier hs-var">params</span></a></span></span><span> </span><span id="local-6989586621681036235"><span class="annot"><span class="annottext">[QName]
</span><a href="#local-6989586621681036235"><span class="hs-identifier hs-var">names</span></a></span></span><span> </span><span id="local-6989586621681036234"><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036234"><span class="hs-identifier hs-var">fsT</span></a></span></span><span> </span><span id="local-6989586621681036233"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036233"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-639"></span><span>  </span><span class="hs-keyword">let</span><span>
</span><span id="line-640"></span><span>    </span><span class="hs-comment">-- &#915; , (d : T) &#8866; &#934;[n &#8614; proj n d]</span><span>
</span><span id="line-641"></span><span>    </span><span id="local-6989586621681036232"><span class="annot"><span class="annottext">fieldTypes :: [Dom Type]
</span><a href="#local-6989586621681036232"><span class="hs-identifier hs-var hs-var">fieldTypes</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">QName -&gt; [Elim' Term] -&gt; Term
</span><a href="Agda.Syntax.Internal.html#Def"><span class="hs-identifier hs-var">Def</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036231"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">Term -&gt; [Arg Term] -&gt; Term
forall t. Apply t =&gt; t -&gt; [Arg Term] -&gt; t
</span><a href="Agda.TypeChecking.Substitute.Class.html#apply"><span class="hs-operator hs-var">`apply`</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Term -&gt; Arg Term
forall e. e -&gt; Arg e
</span><a href="Agda.TypeChecking.Primitive.Base.html#argN"><span class="hs-identifier hs-var">argN</span></a></span><span> </span><span class="annot"><span class="annottext">(Term -&gt; Arg Term) -&gt; Term -&gt; Arg Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Term
</span><a href="Agda.Syntax.Internal.html#var"><span class="hs-identifier hs-var">var</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">0</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621681036231"><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036231"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[QName] -&gt; [QName]
forall a. [a] -&gt; [a]
</span><span class="hs-identifier hs-var">reverse</span></span><span> </span><span class="annot"><span class="annottext">[QName]
</span><a href="#local-6989586621681036235"><span class="hs-identifier hs-var">names</span></a></span><span> </span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">[Term] -&gt; Substitution -&gt; Substitution
forall a. DeBruijn a =&gt; [a] -&gt; Substitution' a -&gt; Substitution' a
</span><a href="Agda.TypeChecking.Substitute.Class.html#%2B%2B%23"><span class="hs-operator hs-var">++#</span></a></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Substitution
forall a. Nat -&gt; Substitution' a
</span><a href="Agda.TypeChecking.Substitute.Class.html#raiseS"><span class="hs-identifier hs-var">raiseS</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Substitution' (SubstArg [Dom Type]) -&gt; [Dom Type] -&gt; [Dom Type]
forall a. Subst a =&gt; Substitution' (SubstArg a) -&gt; a -&gt; a
</span><a href="Agda.TypeChecking.Substitute.Class.html#applySubst"><span class="hs-operator hs-var">`applySubst`</span></a></span><span>
</span><span id="line-642"></span><span>                    </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; [Dom Type]
forall a. TermSubst a =&gt; Tele (Dom a) -&gt; [Dom a]
</span><a href="Agda.TypeChecking.Telescope.html#flattenTel"><span class="hs-identifier hs-var">flattenTel</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036234"><span class="hs-identifier hs-var">fsT</span></a></span><span>  </span><span class="hs-comment">-- &#915; , &#934; &#8866; &#934;</span><span>
</span><span id="line-643"></span><span>    </span><span class="hs-comment">-- &#8866; &#915; , (d : T)</span><span>
</span><span id="line-644"></span><span>    </span><span id="local-6989586621681036229"><span class="annot"><span class="annottext">projTel :: Tele (Dom Type)
</span><a href="#local-6989586621681036229"><span class="hs-identifier hs-var hs-var">projTel</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Tele (Dom Type) -&gt; Tele (Dom Type)
forall t. Abstract t =&gt; Tele (Dom Type) -&gt; t -&gt; t
</span><a href="Agda.TypeChecking.Substitute.Class.html#abstract"><span class="hs-identifier hs-var">abstract</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036236"><span class="hs-identifier hs-var">params</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Dom Type -&gt; Abs (Tele (Dom Type)) -&gt; Tele (Dom Type)
forall a. a -&gt; Abs (Tele a) -&gt; Tele a
</span><a href="Agda.Syntax.Internal.html#ExtendTel"><span class="hs-identifier hs-var">ExtendTel</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type -&gt; Dom Type
forall a. a -&gt; Dom a
</span><a href="Agda.Syntax.Internal.html#defaultDom"><span class="hs-identifier hs-var">defaultDom</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036233"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ArgName -&gt; Tele (Dom Type) -&gt; Abs (Tele (Dom Type))
forall a. ArgName -&gt; a -&gt; Abs a
</span><a href="Agda.Syntax.Internal.html#Abs"><span class="hs-identifier hs-var">Abs</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;d&quot;</span></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
forall a. Tele a
</span><a href="Agda.Syntax.Internal.html#EmptyTel"><span class="hs-identifier hs-var">EmptyTel</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-645"></span><span>    </span><span id="local-6989586621681036225"><span class="annot"><span class="annottext">np :: Nat
</span><a href="#local-6989586621681036225"><span class="hs-identifier hs-var hs-var">np</span></a></span></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Nat
forall a. Sized a =&gt; a -&gt; Nat
</span><a href="Agda.Utils.Size.html#size"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036236"><span class="hs-identifier hs-var">params</span></a></span><span>
</span><span id="line-646"></span><span>
</span><span id="line-647"></span><span>  </span><span class="annot"><span class="annottext">[(Nat, QName, Dom Type)]
-&gt; ((Nat, QName, Dom Type) -&gt; TCM ()) -&gt; TCM ()
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Foldable t, Monad m) =&gt;
t a -&gt; (a -&gt; m b) -&gt; m ()
</span><span class="hs-identifier hs-var">forM_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Nat] -&gt; [QName] -&gt; [Dom Type] -&gt; [(Nat, QName, Dom Type)]
forall a b c. [a] -&gt; [b] -&gt; [c] -&gt; [(a, b, c)]
</span><span class="hs-identifier hs-var">zip3</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Nat -&gt; [Nat]
forall a. Integral a =&gt; a -&gt; [a]
</span><a href="Agda.Utils.List.html#downFrom"><span class="hs-identifier hs-var">downFrom</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Dom Type] -&gt; Nat
forall a. Sized a =&gt; a -&gt; Nat
</span><a href="Agda.Utils.Size.html#size"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">[Dom Type]
</span><a href="#local-6989586621681036232"><span class="hs-identifier hs-var">fieldTypes</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[QName]
</span><a href="#local-6989586621681036235"><span class="hs-identifier hs-var">names</span></a></span><span> </span><span class="annot"><span class="annottext">[Dom Type]
</span><a href="#local-6989586621681036232"><span class="hs-identifier hs-var">fieldTypes</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(((Nat, QName, Dom Type) -&gt; TCM ()) -&gt; TCM ())
-&gt; ((Nat, QName, Dom Type) -&gt; TCM ()) -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681036221"><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681036221"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681036220"><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036220"><span class="hs-identifier hs-var">projName</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681036219"><span class="annot"><span class="annottext">Dom Type
</span><a href="#local-6989586621681036219"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-648"></span><span>    </span><span class="hs-keyword">let</span><span>
</span><span id="line-649"></span><span>      </span><span id="local-6989586621681036218"><span class="annot"><span class="annottext">projType :: Dom Type
</span><a href="#local-6989586621681036218"><span class="hs-identifier hs-var hs-var">projType</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Type -&gt; Type
forall t. Abstract t =&gt; Tele (Dom Type) -&gt; t -&gt; t
</span><a href="Agda.TypeChecking.Substitute.Class.html#abstract"><span class="hs-identifier hs-var">abstract</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036229"><span class="hs-identifier hs-var">projTel</span></a></span><span> </span><span class="annot"><span class="annottext">(Type -&gt; Type) -&gt; Dom Type -&gt; Dom Type
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Dom Type
</span><a href="#local-6989586621681036219"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-650"></span><span>      </span><span id="local-6989586621681036217"><span class="annot"><span class="annottext">cpi :: ConPatternInfo
</span><a href="#local-6989586621681036217"><span class="hs-identifier hs-var hs-var">cpi</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PatternInfo
-&gt; Bool -&gt; Bool -&gt; Maybe (Arg Type) -&gt; Bool -&gt; ConPatternInfo
</span><a href="Agda.Syntax.Internal.html#ConPatternInfo"><span class="hs-identifier hs-var">ConPatternInfo</span></a></span><span> </span><span class="annot"><span class="annottext">PatternInfo
</span><a href="Agda.Syntax.Internal.html#defaultPatternInfo"><span class="hs-identifier hs-var">defaultPatternInfo</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Arg Type -&gt; Maybe (Arg Type)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(Arg Type -&gt; Maybe (Arg Type)) -&gt; Arg Type -&gt; Maybe (Arg Type)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Type -&gt; Arg Type
forall e. e -&gt; Arg e
</span><a href="Agda.TypeChecking.Primitive.Base.html#argN"><span class="hs-identifier hs-var">argN</span></a></span><span> </span><span class="annot"><span class="annottext">(Type -&gt; Arg Type) -&gt; Type -&gt; Arg Type
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Type -&gt; Type
forall a. Subst a =&gt; Nat -&gt; a -&gt; a
</span><a href="Agda.TypeChecking.Substitute.Class.html#raise"><span class="hs-identifier hs-var">raise</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Nat
forall a. Sized a =&gt; a -&gt; Nat
</span><a href="Agda.Utils.Size.html#size"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036234"><span class="hs-identifier hs-var">fsT</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036233"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-651"></span><span>      </span><span id="local-6989586621681036216"><span class="annot"><span class="annottext">conp :: Arg (Named_ (Pattern' DBPatVar))
</span><a href="#local-6989586621681036216"><span class="hs-identifier hs-var hs-var">conp</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Pattern' DBPatVar -&gt; Arg (Named_ (Pattern' DBPatVar))
forall a. a -&gt; NamedArg a
</span><a href="Agda.Syntax.Common.html#defaultNamedArg"><span class="hs-identifier hs-var">defaultNamedArg</span></a></span><span> </span><span class="annot"><span class="annottext">(Pattern' DBPatVar -&gt; Arg (Named_ (Pattern' DBPatVar)))
-&gt; Pattern' DBPatVar -&gt; Arg (Named_ (Pattern' DBPatVar))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ConHead
-&gt; ConPatternInfo
-&gt; [Arg (Named_ (Pattern' DBPatVar))]
-&gt; Pattern' DBPatVar
forall x.
ConHead -&gt; ConPatternInfo -&gt; [NamedArg (Pattern' x)] -&gt; Pattern' x
</span><a href="Agda.Syntax.Internal.html#ConP"><span class="hs-identifier hs-var">ConP</span></a></span><span> </span><span class="annot"><span class="annottext">ConHead
</span><a href="#local-6989586621681036237"><span class="hs-identifier hs-var">con</span></a></span><span> </span><span class="annot"><span class="annottext">ConPatternInfo
</span><a href="#local-6989586621681036217"><span class="hs-identifier hs-var">cpi</span></a></span><span> </span><span class="annot"><span class="annottext">([Arg (Named_ (Pattern' DBPatVar))] -&gt; Pattern' DBPatVar)
-&gt; [Arg (Named_ (Pattern' DBPatVar))] -&gt; Pattern' DBPatVar
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; [Arg (Named_ (Pattern' DBPatVar))]
forall a t. DeBruijn a =&gt; Tele (Dom t) -&gt; [NamedArg a]
</span><a href="Agda.TypeChecking.Telescope.html#teleNamedArgs"><span class="hs-identifier hs-var">teleNamedArgs</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036234"><span class="hs-identifier hs-var">fsT</span></a></span><span>
</span><span id="line-652"></span><span>      </span><span id="local-6989586621681036214"><span class="annot"><span class="annottext">sigma :: Substitution
</span><a href="#local-6989586621681036214"><span class="hs-identifier hs-var hs-var">sigma</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ConHead -&gt; ConInfo -&gt; [Elim' Term] -&gt; Term
</span><a href="Agda.Syntax.Internal.html#Con"><span class="hs-identifier hs-var">Con</span></a></span><span> </span><span class="annot"><span class="annottext">ConHead
</span><a href="#local-6989586621681036237"><span class="hs-identifier hs-var">con</span></a></span><span> </span><span class="annot"><span class="annottext">ConInfo
</span><a href="Agda.Syntax.Common.html#ConOSystem"><span class="hs-identifier hs-var">ConOSystem</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Arg Term -&gt; Elim' Term) -&gt; [Arg Term] -&gt; [Elim' Term]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Arg Term -&gt; Elim' Term
forall a. Arg a -&gt; Elim' a
</span><a href="Agda.Syntax.Internal.Elim.html#Apply"><span class="hs-identifier hs-var">Apply</span></a></span><span> </span><span class="annot"><span class="annottext">([Arg Term] -&gt; [Elim' Term]) -&gt; [Arg Term] -&gt; [Elim' Term]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; [Arg Term]
forall a t. DeBruijn a =&gt; Tele (Dom t) -&gt; [Arg a]
</span><a href="Agda.TypeChecking.Telescope.html#teleArgs"><span class="hs-identifier hs-var">teleArgs</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036234"><span class="hs-identifier hs-var">fsT</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term -&gt; Substitution -&gt; Substitution
forall a. DeBruijn a =&gt; a -&gt; Substitution' a -&gt; Substitution' a
</span><a href="Agda.TypeChecking.Substitute.Class.html#consS"><span class="hs-operator hs-var">`consS`</span></a></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Substitution
forall a. Nat -&gt; Substitution' a
</span><a href="Agda.TypeChecking.Substitute.Class.html#raiseS"><span class="hs-identifier hs-var">raiseS</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Nat
forall a. Sized a =&gt; a -&gt; Nat
</span><a href="Agda.Utils.Size.html#size"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036234"><span class="hs-identifier hs-var">fsT</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-653"></span><span>      </span><span id="local-6989586621681036213"><span class="annot"><span class="annottext">clause :: Clause
</span><a href="#local-6989586621681036213"><span class="hs-identifier hs-var hs-var">clause</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Clause
forall a. Null a =&gt; a
</span><a href="Agda.Utils.Null.html#empty"><span class="hs-identifier hs-var">empty</span></a></span><span>
</span><span id="line-654"></span><span>          </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">clauseTel :: Tele (Dom Type)
</span><a href="Agda.Syntax.Internal.html#clauseTel"><span class="hs-identifier hs-var">clauseTel</span></a></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Tele (Dom Type) -&gt; Tele (Dom Type)
forall t. Abstract t =&gt; Tele (Dom Type) -&gt; t -&gt; t
</span><a href="Agda.TypeChecking.Substitute.Class.html#abstract"><span class="hs-identifier hs-var">abstract</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036236"><span class="hs-identifier hs-var">params</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036234"><span class="hs-identifier hs-var">fsT</span></a></span><span>
</span><span id="line-655"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">namedClausePats :: [Arg (Named_ (Pattern' DBPatVar))]
</span><a href="Agda.Syntax.Internal.html#namedClausePats"><span class="hs-identifier hs-var">namedClausePats</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Arg (Named_ (Pattern' DBPatVar))
</span><a href="#local-6989586621681036216"><span class="hs-identifier hs-var">conp</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-656"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">clauseBody :: Maybe Term
</span><a href="Agda.Syntax.Internal.html#clauseBody"><span class="hs-identifier hs-var">clauseBody</span></a></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term -&gt; Maybe Term
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(Term -&gt; Maybe Term) -&gt; Term -&gt; Maybe Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Term
</span><a href="Agda.Syntax.Internal.html#var"><span class="hs-identifier hs-var">var</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681036221"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-657"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">clauseType :: Maybe (Arg Type)
</span><a href="Agda.Syntax.Internal.html#clauseType"><span class="hs-identifier hs-var">clauseType</span></a></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Arg Type -&gt; Maybe (Arg Type)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(Arg Type -&gt; Maybe (Arg Type)) -&gt; Arg Type -&gt; Maybe (Arg Type)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Type -&gt; Arg Type
forall e. e -&gt; Arg e
</span><a href="Agda.TypeChecking.Primitive.Base.html#argN"><span class="hs-identifier hs-var">argN</span></a></span><span> </span><span class="annot"><span class="annottext">(Type -&gt; Arg Type) -&gt; Type -&gt; Arg Type
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Substitution' (SubstArg Type) -&gt; Type -&gt; Type
forall a. Subst a =&gt; Substitution' (SubstArg a) -&gt; a -&gt; a
</span><a href="Agda.TypeChecking.Substitute.Class.html#applySubst"><span class="hs-identifier hs-var">applySubst</span></a></span><span> </span><span class="annot"><span class="annottext">Substitution
Substitution' (SubstArg Type)
</span><a href="#local-6989586621681036214"><span class="hs-identifier hs-var">sigma</span></a></span><span> </span><span class="annot"><span class="annottext">(Type -&gt; Type) -&gt; Type -&gt; Type
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Dom Type -&gt; Type
forall t e. Dom' t e -&gt; e
</span><a href="Agda.Syntax.Internal.html#unDom"><span class="hs-identifier hs-var">unDom</span></a></span><span> </span><span class="annot"><span class="annottext">Dom Type
</span><a href="#local-6989586621681036219"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-658"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">clauseRecursive :: Maybe Bool
</span><a href="Agda.Syntax.Internal.html#clauseRecursive"><span class="hs-identifier hs-var">clauseRecursive</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Maybe Bool
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>  </span><span class="hs-comment">-- non-recursive</span><span>
</span><span id="line-659"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">clauseUnreachable :: Maybe Bool
</span><a href="Agda.Syntax.Internal.html#clauseUnreachable"><span class="hs-identifier hs-var">clauseUnreachable</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Maybe Bool
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-660"></span><span>          </span><span class="hs-special">}</span><span>
</span><span id="line-661"></span><span>
</span><span id="line-662"></span><span>    </span><span class="annot"><span class="annottext">ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; TCM ()
forall (m :: * -&gt; *).
MonadDebug m =&gt;
ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; m ()
</span><a href="Agda.TypeChecking.Monad.Debug.html#reportSDoc"><span class="hs-identifier hs-var">reportSDoc</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;tc.data.proj&quot;</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">20</span></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Doc -&gt; TCM ()) -&gt; TCMT IO Doc -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc -&gt; TCMT IO Doc
forall (tcm :: * -&gt; *) a.
(MonadTCEnv tcm, ReadTCState tcm) =&gt;
tcm a -&gt; tcm a
</span><a href="Agda.TypeChecking.Monad.Context.html#inTopContext"><span class="hs-identifier hs-var">inTopContext</span></a></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Doc -&gt; TCMT IO Doc) -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[TCMT IO Doc] -&gt; TCMT IO Doc
forall (m :: * -&gt; *) (t :: * -&gt; *).
(Applicative m, Foldable t) =&gt;
t (m Doc) -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#sep"><span class="hs-identifier hs-var">sep</span></a></span><span>
</span><span id="line-663"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc
</span><span class="hs-string">&quot;proj&quot;</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; m Doc -&gt; m Doc -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">(Nat, Dom Type) -&gt; TCMT IO Doc
forall a (m :: * -&gt; *). (PrettyTCM a, MonadPretty m) =&gt; a -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#prettyTCM"><span class="hs-identifier hs-var">prettyTCM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681036221"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Dom Type
</span><a href="#local-6989586621681036219"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-664"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Nat -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Functor m =&gt; Nat -&gt; m Doc -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#nest"><span class="hs-identifier hs-var">nest</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Doc -&gt; TCMT IO Doc) -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[TCMT IO Doc] -&gt; TCMT IO Doc
forall (m :: * -&gt; *) (t :: * -&gt; *).
(Applicative m, Foldable t) =&gt;
t (m Doc) -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#sep"><span class="hs-identifier hs-var">sep</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">QName -&gt; TCMT IO Doc
forall a (m :: * -&gt; *). (PrettyTCM a, MonadPretty m) =&gt; a -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#prettyTCM"><span class="hs-identifier hs-var">prettyTCM</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036220"><span class="hs-identifier hs-var">projName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc
</span><span class="hs-string">&quot;:&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Dom Type -&gt; TCMT IO Doc
forall a (m :: * -&gt; *). (PrettyTCM a, MonadPretty m) =&gt; a -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#prettyTCM"><span class="hs-identifier hs-var">prettyTCM</span></a></span><span> </span><span class="annot"><span class="annottext">Dom Type
</span><a href="#local-6989586621681036218"><span class="hs-identifier hs-var">projType</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-665"></span><span>      </span><span class="hs-special">]</span><span>
</span><span id="line-666"></span><span>
</span><span id="line-667"></span><span>    </span><span class="hs-comment">-- Andreas, 2020-02-14, issue #4437</span><span>
</span><span id="line-668"></span><span>    </span><span class="hs-comment">-- Define data projections as projection-like from the start.</span><span>
</span><span id="line-669"></span><span>    </span><span class="annot"><span class="annottext">TCM () -&gt; TCM ()
forall a. TCM a -&gt; TCM a
</span><a href="Agda.TypeChecking.Monad.Mutual.html#noMutualBlock"><span class="hs-identifier hs-var">noMutualBlock</span></a></span><span> </span><span class="annot"><span class="annottext">(TCM () -&gt; TCM ()) -&gt; TCM () -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-670"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681036209"><span class="annot"><span class="annottext">cs :: [Clause]
</span><a href="#local-6989586621681036209"><span class="hs-identifier hs-var hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Clause
</span><a href="#local-6989586621681036213"><span class="hs-identifier hs-var">clause</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-671"></span><span>      </span><span class="hs-special">(</span><span id="local-6989586621681036208"><span class="annot"><span class="annottext">Maybe SplitTree
</span><a href="#local-6989586621681036208"><span class="hs-identifier hs-var">mst</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681036207"><span class="annot"><span class="annottext">CompiledClauses
</span><a href="#local-6989586621681036207"><span class="hs-identifier hs-var">cc</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe (QName, Type)
-&gt; [Clause] -&gt; TCMT IO (Maybe SplitTree, Bool, CompiledClauses)
</span><a href="Agda.TypeChecking.CompiledClause.Compile.html#compileClauses"><span class="hs-identifier hs-var">compileClauses</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (QName, Type)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">[Clause]
</span><a href="#local-6989586621681036209"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-672"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681036206"><span class="annot"><span class="annottext">fun :: Defn
</span><a href="#local-6989586621681036206"><span class="hs-identifier hs-var hs-var">fun</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Defn
</span><a href="Agda.TypeChecking.Monad.Base.html#emptyFunction"><span class="hs-identifier hs-var">emptyFunction</span></a></span><span>
</span><span id="line-673"></span><span>                </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">funClauses :: [Clause]
</span><a href="Agda.TypeChecking.Monad.Base.html#funClauses"><span class="hs-identifier hs-var">funClauses</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Clause]
</span><a href="#local-6989586621681036209"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-674"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">funCompiled :: Maybe CompiledClauses
</span><a href="Agda.TypeChecking.Monad.Base.html#funCompiled"><span class="hs-identifier hs-var">funCompiled</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CompiledClauses -&gt; Maybe CompiledClauses
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">CompiledClauses
</span><a href="#local-6989586621681036207"><span class="hs-identifier hs-var">cc</span></a></span><span>
</span><span id="line-675"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">funSplitTree :: Maybe SplitTree
</span><a href="Agda.TypeChecking.Monad.Base.html#funSplitTree"><span class="hs-identifier hs-var">funSplitTree</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe SplitTree
</span><a href="#local-6989586621681036208"><span class="hs-identifier hs-var">mst</span></a></span><span>
</span><span id="line-676"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">funProjection :: Maybe Projection
</span><a href="Agda.TypeChecking.Monad.Base.html#funProjection"><span class="hs-identifier hs-var">funProjection</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Projection -&gt; Maybe Projection
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(Projection -&gt; Maybe Projection) -&gt; Projection -&gt; Maybe Projection
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#Projection"><span class="hs-identifier hs-type">Projection</span></a></span><span>
</span><span id="line-677"></span><span>                    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">projProper :: Maybe QName
</span><a href="Agda.TypeChecking.Monad.Base.html#projProper"><span class="hs-identifier hs-var">projProper</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe QName
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-678"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">projOrig :: QName
</span><a href="Agda.TypeChecking.Monad.Base.html#projOrig"><span class="hs-identifier hs-var">projOrig</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036220"><span class="hs-identifier hs-var">projName</span></a></span><span>
</span><span id="line-679"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">projFromType :: Arg QName
</span><a href="Agda.TypeChecking.Monad.Base.html#projFromType"><span class="hs-identifier hs-var">projFromType</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ArgInfo -&gt; QName -&gt; Arg QName
forall e. ArgInfo -&gt; e -&gt; Arg e
</span><a href="Agda.Syntax.Common.html#Arg"><span class="hs-identifier hs-var">Arg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Dom Type -&gt; ArgInfo
forall a. LensArgInfo a =&gt; a -&gt; ArgInfo
</span><a href="Agda.Syntax.Common.html#getArgInfo"><span class="hs-identifier hs-var">getArgInfo</span></a></span><span> </span><span class="annot"><span class="annottext">Dom Type
</span><a href="#local-6989586621681036219"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036238"><span class="hs-identifier hs-var">dataName</span></a></span><span>
</span><span id="line-680"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">projIndex :: Nat
</span><a href="Agda.TypeChecking.Monad.Base.html#projIndex"><span class="hs-identifier hs-var">projIndex</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681036225"><span class="hs-identifier hs-var">np</span></a></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Nat -&gt; Nat
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">1</span></span><span>
</span><span id="line-681"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">projLams :: ProjLams
</span><a href="Agda.TypeChecking.Monad.Base.html#projLams"><span class="hs-identifier hs-var">projLams</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Arg ArgName] -&gt; ProjLams
</span><a href="Agda.TypeChecking.Monad.Base.html#ProjLams"><span class="hs-identifier hs-var">ProjLams</span></a></span><span> </span><span class="annot"><span class="annottext">([Arg ArgName] -&gt; ProjLams) -&gt; [Arg ArgName] -&gt; ProjLams
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Dom' Term (ArgName, Type) -&gt; Arg ArgName)
-&gt; [Dom' Term (ArgName, Type)] -&gt; [Arg ArgName]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Dom' Term ArgName -&gt; Arg ArgName
forall t a. Dom' t a -&gt; Arg a
</span><a href="Agda.Syntax.Internal.html#argFromDom"><span class="hs-identifier hs-var">argFromDom</span></a></span><span> </span><span class="annot"><span class="annottext">(Dom' Term ArgName -&gt; Arg ArgName)
-&gt; (Dom' Term (ArgName, Type) -&gt; Dom' Term ArgName)
-&gt; Dom' Term (ArgName, Type)
-&gt; Arg ArgName
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">((ArgName, Type) -&gt; ArgName)
-&gt; Dom' Term (ArgName, Type) -&gt; Dom' Term ArgName
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">(ArgName, Type) -&gt; ArgName
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([Dom' Term (ArgName, Type)] -&gt; [Arg ArgName])
-&gt; [Dom' Term (ArgName, Type)] -&gt; [Arg ArgName]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; [Dom' Term (ArgName, Type)]
forall t. Tele (Dom t) -&gt; [Dom (ArgName, t)]
</span><a href="Agda.Syntax.Internal.html#telToList"><span class="hs-identifier hs-var">telToList</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036229"><span class="hs-identifier hs-var">projTel</span></a></span><span>
</span><span id="line-682"></span><span>                    </span><span class="hs-special">}</span><span>
</span><span id="line-683"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">funMutual :: Maybe [QName]
</span><a href="Agda.TypeChecking.Monad.Base.html#funMutual"><span class="hs-identifier hs-var">funMutual</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[QName] -&gt; Maybe [QName]
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-684"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">funTerminates :: Maybe Bool
</span><a href="Agda.TypeChecking.Monad.Base.html#funTerminates"><span class="hs-identifier hs-var">funTerminates</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Maybe Bool
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-685"></span><span>                </span><span class="hs-special">}</span><span>
</span><span id="line-686"></span><span>      </span><span id="local-6989586621681036189"><span class="annot"><span class="annottext">Language
</span><a href="#local-6989586621681036189"><span class="hs-identifier hs-var">lang</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TCMT IO Language
forall (m :: * -&gt; *). HasOptions m =&gt; m Language
</span><a href="Agda.TypeChecking.Monad.Options.html#getLanguage"><span class="hs-identifier hs-var">getLanguage</span></a></span><span>
</span><span id="line-687"></span><span>      </span><span class="annot"><span class="annottext">TCM () -&gt; TCM ()
forall (tcm :: * -&gt; *) a.
(MonadTCEnv tcm, ReadTCState tcm) =&gt;
tcm a -&gt; tcm a
</span><a href="Agda.TypeChecking.Monad.Context.html#inTopContext"><span class="hs-identifier hs-var">inTopContext</span></a></span><span> </span><span class="annot"><span class="annottext">(TCM () -&gt; TCM ()) -&gt; TCM () -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">QName -&gt; Definition -&gt; TCM ()
</span><a href="Agda.TypeChecking.Monad.Signature.html#addConstant"><span class="hs-identifier hs-var">addConstant</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036220"><span class="hs-identifier hs-var">projName</span></a></span><span> </span><span class="annot"><span class="annottext">(Definition -&gt; TCM ()) -&gt; Definition -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-688"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ArgInfo -&gt; QName -&gt; Type -&gt; Language -&gt; Defn -&gt; Definition
</span><a href="Agda.TypeChecking.Monad.Base.html#defaultDefn"><span class="hs-identifier hs-var">defaultDefn</span></a></span><span> </span><span class="annot"><span class="annottext">ArgInfo
</span><a href="Agda.Syntax.Common.html#defaultArgInfo"><span class="hs-identifier hs-var">defaultArgInfo</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036220"><span class="hs-identifier hs-var">projName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Dom Type -&gt; Type
forall t e. Dom' t e -&gt; e
</span><a href="Agda.Syntax.Internal.html#unDom"><span class="hs-identifier hs-var">unDom</span></a></span><span> </span><span class="annot"><span class="annottext">Dom Type
</span><a href="#local-6989586621681036218"><span class="hs-identifier hs-var">projType</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Language
</span><a href="#local-6989586621681036189"><span class="hs-identifier hs-var">lang</span></a></span><span> </span><span class="annot"><span class="annottext">Defn
</span><a href="#local-6989586621681036206"><span class="hs-identifier hs-var">fun</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-689"></span><span>          </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">defNoCompilation :: Bool
</span><a href="Agda.TypeChecking.Monad.Base.html#defNoCompilation"><span class="hs-identifier hs-var">defNoCompilation</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-690"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">defArgOccurrences :: [Occurrence]
</span><a href="Agda.TypeChecking.Monad.Base.html#defArgOccurrences"><span class="hs-identifier hs-var">defArgOccurrences</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Occurrence
</span><a href="Agda.TypeChecking.Positivity.Occurrence.html#StrictPos"><span class="hs-identifier hs-var">StrictPos</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-691"></span><span>          </span><span class="hs-special">}</span><span>
</span><span id="line-692"></span><span>
</span><span id="line-693"></span><span>      </span><span class="annot"><span class="annottext">ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; TCM ()
forall (m :: * -&gt; *).
MonadDebug m =&gt;
ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; m ()
</span><a href="Agda.TypeChecking.Monad.Debug.html#reportSDoc"><span class="hs-identifier hs-var">reportSDoc</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;tc.data.proj.fun&quot;</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">60</span></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Doc -&gt; TCM ()) -&gt; TCMT IO Doc -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc -&gt; TCMT IO Doc
forall (tcm :: * -&gt; *) a.
(MonadTCEnv tcm, ReadTCState tcm) =&gt;
tcm a -&gt; tcm a
</span><a href="Agda.TypeChecking.Monad.Context.html#inTopContext"><span class="hs-identifier hs-var">inTopContext</span></a></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Doc -&gt; TCMT IO Doc) -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[TCMT IO Doc] -&gt; TCMT IO Doc
forall (m :: * -&gt; *) (t :: * -&gt; *).
(Applicative m, Foldable t) =&gt;
t (m Doc) -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#vcat"><span class="hs-identifier hs-var">vcat</span></a></span><span>
</span><span id="line-694"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc
</span><span class="hs-string">&quot;proj&quot;</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; m Doc -&gt; m Doc -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; TCMT IO Doc
forall a (m :: * -&gt; *). (PrettyTCM a, MonadPretty m) =&gt; a -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#prettyTCM"><span class="hs-identifier hs-var">prettyTCM</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681036221"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-695"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Nat -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Functor m =&gt; Nat -&gt; m Doc -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#nest"><span class="hs-identifier hs-var">nest</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Doc -&gt; TCMT IO Doc) -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Defn -&gt; TCMT IO Doc
forall (m :: * -&gt; *) a. (Applicative m, Pretty a) =&gt; a -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a></span><span> </span><span class="annot"><span class="annottext">Defn
</span><a href="#local-6989586621681036206"><span class="hs-identifier hs-var">fun</span></a></span><span>
</span><span id="line-696"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-697"></span><span>
</span><span id="line-698"></span><span>
</span><span id="line-699"></span><span class="annot"><a href="Agda.TypeChecking.Rules.Data.html#freshAbstractQName%27_"><span class="hs-identifier hs-type">freshAbstractQName'_</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#TCM"><span class="hs-identifier hs-type">TCM</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Abstract.Name.html#QName"><span class="hs-identifier hs-type">QName</span></a></span><span>
</span><span id="line-700"></span><span id="freshAbstractQName%27_"><span class="annot"><span class="annottext">freshAbstractQName'_ :: ArgName -&gt; TCMT IO QName
</span><a href="Agda.TypeChecking.Rules.Data.html#freshAbstractQName%27_"><span class="hs-identifier hs-var hs-var">freshAbstractQName'_</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Fixity' -&gt; Name -&gt; TCMT IO QName
</span><a href="Agda.Syntax.Scope.Monad.html#freshAbstractQName"><span class="hs-identifier hs-var">freshAbstractQName</span></a></span><span> </span><span class="annot"><span class="annottext">Fixity'
</span><a href="Agda.Syntax.Common.html#noFixity%27"><span class="hs-identifier hs-var">noFixity'</span></a></span><span> </span><span class="annot"><span class="annottext">(Name -&gt; TCMT IO QName)
-&gt; (ArgName -&gt; Name) -&gt; ArgName -&gt; TCMT IO QName
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; Name
</span><a href="Agda.Syntax.Concrete.Name.html#simpleName"><span class="hs-identifier hs-var">C.simpleName</span></a></span><span>
</span><span id="line-701"></span><span>
</span><span id="line-702"></span><span>
</span><span id="line-703"></span><span class="hs-comment">-- | Defines and returns the name of the `transpIx` function.</span><span>
</span><span id="line-704"></span><span class="annot"><a href="Agda.TypeChecking.Rules.Data.html#defineTranspIx"><span class="hs-identifier hs-type">defineTranspIx</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Abstract.Name.html#QName"><span class="hs-identifier hs-type">QName</span></a></span><span>  </span><span class="hs-comment">-- ^ datatype name</span><span>
</span><span id="line-705"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#TCM"><span class="hs-identifier hs-type">TCM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Agda.Syntax.Abstract.Name.html#QName"><span class="hs-identifier hs-type">QName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-706"></span><span id="defineTranspIx"><span class="annot"><span class="annottext">defineTranspIx :: QName -&gt; TCMT IO (Maybe QName)
</span><a href="Agda.TypeChecking.Rules.Data.html#defineTranspIx"><span class="hs-identifier hs-var hs-var">defineTranspIx</span></a></span></span><span> </span><span id="local-6989586621681036180"><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036180"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-707"></span><span>  </span><span id="local-6989586621681036179"><span class="annot"><span class="annottext">Definition
</span><a href="#local-6989586621681036179"><span class="hs-identifier hs-var">def</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">QName -&gt; TCMT IO Definition
forall (m :: * -&gt; *). HasConstInfo m =&gt; QName -&gt; m Definition
</span><a href="Agda.TypeChecking.Monad.Signature.html#getConstInfo"><span class="hs-identifier hs-var">getConstInfo</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036180"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-708"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Definition -&gt; Defn
</span><a href="Agda.TypeChecking.Monad.Base.html#theDef"><span class="hs-identifier hs-var">theDef</span></a></span><span> </span><span class="annot"><span class="annottext">Definition
</span><a href="#local-6989586621681036179"><span class="hs-identifier hs-var">def</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-709"></span><span>    </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#Datatype"><span class="hs-identifier hs-type">Datatype</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">dataPars :: Defn -&gt; Nat
</span><a href="Agda.TypeChecking.Monad.Base.html#dataPars"><span class="hs-identifier hs-var">dataPars</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681036178"><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681036178"><span class="hs-identifier hs-var">npars</span></a></span></span><span>
</span><span id="line-710"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dataIxs :: Defn -&gt; Nat
</span><a href="Agda.TypeChecking.Monad.Base.html#dataIxs"><span class="hs-identifier hs-var">dataIxs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681036177"><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681036177"><span class="hs-identifier hs-var">nixs</span></a></span></span><span>
</span><span id="line-711"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dataSort :: Defn -&gt; Sort' Term
</span><a href="Agda.TypeChecking.Monad.Base.html#dataSort"><span class="hs-identifier hs-var">dataSort</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681036176"><span class="annot"><span class="annottext">Sort' Term
</span><a href="#local-6989586621681036176"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">}</span><span>
</span><span id="line-712"></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-713"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681036175"><span class="annot"><span class="annottext">t :: Type
</span><a href="#local-6989586621681036175"><span class="hs-identifier hs-var hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Definition -&gt; Type
</span><a href="Agda.TypeChecking.Monad.Base.html#defType"><span class="hs-identifier hs-var">defType</span></a></span><span> </span><span class="annot"><span class="annottext">Definition
</span><a href="#local-6989586621681036179"><span class="hs-identifier hs-var">def</span></a></span><span>
</span><span id="line-714"></span><span>      </span><span class="annot"><span class="annottext">ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; TCM ()
forall (m :: * -&gt; *).
MonadDebug m =&gt;
ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; m ()
</span><a href="Agda.TypeChecking.Monad.Debug.html#reportSDoc"><span class="hs-identifier hs-var">reportSDoc</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;tc.data.ixs&quot;</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">20</span></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Doc -&gt; TCM ()) -&gt; TCMT IO Doc -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[TCMT IO Doc] -&gt; TCMT IO Doc
forall (m :: * -&gt; *) (t :: * -&gt; *).
(Applicative m, Foldable t) =&gt;
t (m Doc) -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#vcat"><span class="hs-identifier hs-var">vcat</span></a></span><span>
</span><span id="line-715"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc
</span><span class="hs-string">&quot;name :&quot;</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; m Doc -&gt; m Doc -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">QName -&gt; TCMT IO Doc
forall a (m :: * -&gt; *). (PrettyTCM a, MonadPretty m) =&gt; a -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#prettyTCM"><span class="hs-identifier hs-var">prettyTCM</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036180"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-716"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc
</span><span class="hs-string">&quot;type :&quot;</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; m Doc -&gt; m Doc -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Type -&gt; TCMT IO Doc
forall a (m :: * -&gt; *). (PrettyTCM a, MonadPretty m) =&gt; a -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#prettyTCM"><span class="hs-identifier hs-var">prettyTCM</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036175"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-717"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc
</span><span class="hs-string">&quot;npars:&quot;</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; m Doc -&gt; m Doc -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; TCMT IO Doc
forall (m :: * -&gt; *) a. (Applicative m, Pretty a) =&gt; a -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681036178"><span class="hs-identifier hs-var">npars</span></a></span><span>
</span><span id="line-718"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc
</span><span class="hs-string">&quot;nixs :&quot;</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; m Doc -&gt; m Doc -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; TCMT IO Doc
forall (m :: * -&gt; *) a. (Applicative m, Pretty a) =&gt; a -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681036177"><span class="hs-identifier hs-var">nixs</span></a></span><span>
</span><span id="line-719"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-720"></span><span>      </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681036177"><span class="hs-identifier hs-var">nixs</span></a></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Nat -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">0</span></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Maybe QName -&gt; TCMT IO (Maybe QName)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">Maybe QName
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-721"></span><span>      </span><span id="local-6989586621681036174"><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036174"><span class="hs-identifier hs-var">trIx</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; TCMT IO QName
</span><a href="Agda.TypeChecking.Rules.Data.html#freshAbstractQName%27_"><span class="hs-identifier hs-var">freshAbstractQName'_</span></a></span><span> </span><span class="annot"><span class="annottext">(ArgName -&gt; TCMT IO QName) -&gt; ArgName -&gt; TCMT IO QName
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;transpX-&quot;</span></span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; ArgName -&gt; ArgName
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; ArgName
forall a. Pretty a =&gt; a -&gt; ArgName
</span><a href="Agda.Utils.Pretty.html#prettyShow"><span class="hs-identifier hs-var">P.prettyShow</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">QName -&gt; Name
</span><a href="Agda.Syntax.Abstract.Name.html#qnameName"><span class="hs-identifier hs-var">A.qnameName</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036180"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-722"></span><span>      </span><span class="annot"><a href="Agda.TypeChecking.Substitute.html#TelV"><span class="hs-identifier hs-type">TelV</span></a></span><span> </span><span id="local-6989586621681036173"><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036173"><span class="hs-identifier hs-var">params</span></a></span></span><span> </span><span id="local-6989586621681036172"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036172"><span class="hs-identifier hs-var">t'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Type -&gt; TCMT IO (TelV Type)
forall (m :: * -&gt; *).
(MonadReduce m, MonadAddContext m) =&gt;
Nat -&gt; Type -&gt; m (TelV Type)
</span><a href="Agda.TypeChecking.Telescope.html#telViewUpTo"><span class="hs-identifier hs-var">telViewUpTo</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681036178"><span class="hs-identifier hs-var">npars</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036175"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-723"></span><span>      </span><span class="annot"><a href="Agda.TypeChecking.Substitute.html#TelV"><span class="hs-identifier hs-type">TelV</span></a></span><span> </span><span id="local-6989586621681036170"><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036170"><span class="hs-identifier hs-var">ixs</span></a></span></span><span>    </span><span id="local-6989586621681036169"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036169"><span class="hs-identifier hs-var">dT</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Type -&gt; TCMT IO (TelV Type)
forall (m :: * -&gt; *).
(MonadReduce m, MonadAddContext m) =&gt;
Nat -&gt; Type -&gt; m (TelV Type)
</span><a href="Agda.TypeChecking.Telescope.html#telViewUpTo"><span class="hs-identifier hs-var">telViewUpTo</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681036177"><span class="hs-identifier hs-var">nixs</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036172"><span class="hs-identifier hs-var">t'</span></a></span><span>
</span><span id="line-724"></span><span>      </span><span class="hs-comment">-- params     &#8866; s</span><span>
</span><span id="line-725"></span><span>      </span><span class="hs-comment">-- params     &#8866; ixs</span><span>
</span><span id="line-726"></span><span>      </span><span class="hs-comment">-- params.ixs &#8866; dT</span><span>
</span><span id="line-727"></span><span>      </span><span class="annot"><span class="annottext">ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; TCM ()
forall (m :: * -&gt; *).
MonadDebug m =&gt;
ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; m ()
</span><a href="Agda.TypeChecking.Monad.Debug.html#reportSDoc"><span class="hs-identifier hs-var">reportSDoc</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;tc.data.ixs&quot;</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">20</span></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Doc -&gt; TCM ()) -&gt; TCMT IO Doc -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[TCMT IO Doc] -&gt; TCMT IO Doc
forall (m :: * -&gt; *) (t :: * -&gt; *).
(Applicative m, Foldable t) =&gt;
t (m Doc) -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#vcat"><span class="hs-identifier hs-var">vcat</span></a></span><span>
</span><span id="line-728"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc
</span><span class="hs-string">&quot;params :&quot;</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; m Doc -&gt; m Doc -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; TCMT IO Doc
forall a (m :: * -&gt; *). (PrettyTCM a, MonadPretty m) =&gt; a -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#prettyTCM"><span class="hs-identifier hs-var">prettyTCM</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036173"><span class="hs-identifier hs-var">params</span></a></span><span>
</span><span id="line-729"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc
</span><span class="hs-string">&quot;ixs    :&quot;</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; m Doc -&gt; m Doc -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall b (m :: * -&gt; *) a.
(AddContext b, MonadAddContext m) =&gt;
b -&gt; m a -&gt; m a
</span><a href="Agda.TypeChecking.Monad.Context.html#addContext"><span class="hs-identifier hs-var">addContext</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036173"><span class="hs-identifier hs-var">params</span></a></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Doc -&gt; TCMT IO Doc) -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; TCMT IO Doc
forall a (m :: * -&gt; *). (PrettyTCM a, MonadPretty m) =&gt; a -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#prettyTCM"><span class="hs-identifier hs-var">prettyTCM</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036170"><span class="hs-identifier hs-var">ixs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-730"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc
</span><span class="hs-string">&quot;dT     :&quot;</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; m Doc -&gt; m Doc -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall b (m :: * -&gt; *) a.
(AddContext b, MonadAddContext m) =&gt;
b -&gt; m a -&gt; m a
</span><a href="Agda.TypeChecking.Monad.Context.html#addContext"><span class="hs-identifier hs-var">addContext</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036173"><span class="hs-identifier hs-var">params</span></a></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Doc -&gt; TCMT IO Doc) -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall b (m :: * -&gt; *) a.
(AddContext b, MonadAddContext m) =&gt;
b -&gt; m a -&gt; m a
</span><a href="Agda.TypeChecking.Monad.Context.html#addContext"><span class="hs-identifier hs-var">addContext</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036170"><span class="hs-identifier hs-var">ixs</span></a></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Doc -&gt; TCMT IO Doc) -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Type -&gt; TCMT IO Doc
forall a (m :: * -&gt; *). (PrettyTCM a, MonadPretty m) =&gt; a -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#prettyTCM"><span class="hs-identifier hs-var">prettyTCM</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036169"><span class="hs-identifier hs-var">dT</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-731"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-732"></span><span>      </span><span class="hs-comment">-- theType &lt;- abstract params &lt;$&gt; undefined</span><span>
</span><span id="line-733"></span><span>      </span><span id="local-6989586621681036168"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036168"><span class="hs-identifier hs-var">interval</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TCMT IO Type
forall (m :: * -&gt; *).
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
m Type
</span><a href="Agda.TypeChecking.Primitive.Cubical.html#primIntervalType"><span class="hs-identifier hs-var">primIntervalType</span></a></span><span>
</span><span id="line-734"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681036166"><span class="annot"><span class="annottext">deltaI :: Tele (Dom Type)
</span><a href="#local-6989586621681036166"><span class="hs-identifier hs-var hs-var">deltaI</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type -&gt; Tele (Dom Type) -&gt; Tele (Dom Type)
</span><a href="Agda.TypeChecking.Primitive.Cubical.html#expTelescope"><span class="hs-identifier hs-var">expTelescope</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036168"><span class="hs-identifier hs-var">interval</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036170"><span class="hs-identifier hs-var">ixs</span></a></span><span>
</span><span id="line-735"></span><span>      </span><span id="local-6989586621681036164"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681036164"><span class="hs-identifier hs-var">iz</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TCMT IO Term
forall (m :: * -&gt; *).
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
m Term
</span><a href="Agda.TypeChecking.Monad.Builtin.html#primIZero"><span class="hs-identifier hs-var">primIZero</span></a></span><span>
</span><span id="line-736"></span><span>      </span><span id="local-6989586621681036163"><span class="annot"><span class="annottext">io :: Term
</span><a href="#local-6989586621681036163"><span class="hs-identifier hs-var">io</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Internal.html#Con"><span class="hs-identifier hs-type">Con</span></a></span><span> </span><span id="local-6989586621681036162"><span class="annot"><span class="annottext">ConHead
</span><a href="#local-6989586621681036162"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="annot"><span class="annottext">ConInfo
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[Elim' Term]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TCMT IO Term
forall (m :: * -&gt; *).
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
m Term
</span><a href="Agda.TypeChecking.Monad.Builtin.html#primIOne"><span class="hs-identifier hs-var">primIOne</span></a></span><span>
</span><span id="line-737"></span><span>      </span><span id="local-6989586621681036161"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681036161"><span class="hs-identifier hs-var">imin</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; TCMT IO Term
forall (m :: * -&gt; *).
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
ArgName -&gt; m Term
</span><a href="Agda.TypeChecking.Monad.Builtin.html#getPrimitiveTerm"><span class="hs-identifier hs-var">getPrimitiveTerm</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;primIMin&quot;</span></span><span>
</span><span id="line-738"></span><span>      </span><span id="local-6989586621681036159"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681036159"><span class="hs-identifier hs-var">imax</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; TCMT IO Term
forall (m :: * -&gt; *).
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
ArgName -&gt; m Term
</span><a href="Agda.TypeChecking.Monad.Builtin.html#getPrimitiveTerm"><span class="hs-identifier hs-var">getPrimitiveTerm</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;primIMax&quot;</span></span><span>
</span><span id="line-739"></span><span>      </span><span id="local-6989586621681036158"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681036158"><span class="hs-identifier hs-var">ineg</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; TCMT IO Term
forall (m :: * -&gt; *).
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
ArgName -&gt; m Term
</span><a href="Agda.TypeChecking.Monad.Builtin.html#getPrimitiveTerm"><span class="hs-identifier hs-var">getPrimitiveTerm</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;primINeg&quot;</span></span><span>
</span><span id="line-740"></span><span>      </span><span id="local-6989586621681036157"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681036157"><span class="hs-identifier hs-var">transp</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; TCMT IO Term
forall (m :: * -&gt; *).
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
ArgName -&gt; m Term
</span><a href="Agda.TypeChecking.Monad.Builtin.html#getPrimitiveTerm"><span class="hs-identifier hs-var">getPrimitiveTerm</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><a href="Agda.Syntax.Builtin.html#builtinTrans"><span class="hs-identifier hs-var">builtinTrans</span></a></span><span>
</span><span id="line-741"></span><span>      </span><span id="local-6989586621681036156"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681036156"><span class="hs-identifier hs-var">por</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; TCMT IO Term
forall (m :: * -&gt; *).
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
ArgName -&gt; m Term
</span><a href="Agda.TypeChecking.Monad.Builtin.html#getPrimitiveTerm"><span class="hs-identifier hs-var">getPrimitiveTerm</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;primPOr&quot;</span></span><span>
</span><span id="line-742"></span><span>      </span><span id="local-6989586621681036155"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681036155"><span class="hs-identifier hs-var">one</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TCMT IO Term
forall (m :: * -&gt; *).
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
m Term
</span><a href="Agda.TypeChecking.Monad.Builtin.html#primItIsOne"><span class="hs-identifier hs-var">primItIsOne</span></a></span><span>
</span><span id="line-743"></span><span>      </span><span class="hs-comment">-- reportSDoc &quot;trans.rec&quot; 20 $ text $ show params</span><span>
</span><span id="line-744"></span><span>      </span><span class="hs-comment">-- reportSDoc &quot;trans.rec&quot; 20 $ text $ show deltaI</span><span>
</span><span id="line-745"></span><span>      </span><span class="hs-comment">-- reportSDoc &quot;trans.rec&quot; 10 $ text $ show fsT</span><span>
</span><span id="line-746"></span><span>
</span><span id="line-747"></span><span>      </span><span class="hs-comment">-- let thePrefix = &quot;transp-&quot;</span><span>
</span><span id="line-748"></span><span>      </span><span class="hs-comment">-- theName &lt;- freshAbstractQName'_ $ thePrefix ++ P.prettyShow (A.qnameName name)</span><span>
</span><span id="line-749"></span><span>
</span><span id="line-750"></span><span>      </span><span class="hs-comment">-- reportSLn &quot;trans.rec&quot; 5 $ (&quot;Generated name: &quot; ++ show theName ++ &quot; &quot; ++ showQNameId theName)</span><span>
</span><span id="line-751"></span><span>
</span><span id="line-752"></span><span>      </span><span class="hs-comment">-- record type in 'exponentiated' context</span><span>
</span><span id="line-753"></span><span>      </span><span class="hs-comment">-- (params : &#915;)(ixs : &#916;^I), i : I |- T[params, ixs i]</span><span>
</span><span id="line-754"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681036153"><span class="annot"><span class="annottext">rect' :: Type
</span><a href="#local-6989586621681036153"><span class="hs-identifier hs-var hs-var">rect'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Substitution
forall {a}. Sized a =&gt; a -&gt; Substitution
</span><a href="#local-6989586621681036152"><span class="hs-identifier hs-var">sub</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036170"><span class="hs-identifier hs-var">ixs</span></a></span><span> </span><span class="annot"><span class="annottext">Substitution' (SubstArg Type) -&gt; Type -&gt; Type
forall a. Subst a =&gt; Substitution' (SubstArg a) -&gt; a -&gt; a
</span><a href="Agda.TypeChecking.Substitute.Class.html#applySubst"><span class="hs-operator hs-var">`applySubst`</span></a></span><span> </span><span class="annot"><span class="annottext">Sort' Term -&gt; Term -&gt; Type
forall t a. Sort' t -&gt; a -&gt; Type'' t a
</span><a href="Agda.Syntax.Internal.html#El"><span class="hs-identifier hs-var">El</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Nat -&gt; Sort' Term -&gt; Sort' Term
forall a. Subst a =&gt; Nat -&gt; a -&gt; a
</span><a href="Agda.TypeChecking.Substitute.Class.html#raise"><span class="hs-identifier hs-var">raise</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Nat
forall a. Sized a =&gt; a -&gt; Nat
</span><a href="Agda.Utils.Size.html#size"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036170"><span class="hs-identifier hs-var">ixs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Sort' Term
</span><a href="#local-6989586621681036176"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">QName -&gt; [Elim' Term] -&gt; Term
</span><a href="Agda.Syntax.Internal.html#Def"><span class="hs-identifier hs-var">Def</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036180"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Boundary -&gt; [Elim' Term]
forall a.
DeBruijn a =&gt;
Tele (Dom Type) -&gt; Boundary' (a, a) -&gt; [Elim' a]
</span><a href="Agda.TypeChecking.Telescope.html#teleElims"><span class="hs-identifier hs-var">teleElims</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Tele (Dom Type) -&gt; Tele (Dom Type)
forall t. Abstract t =&gt; Tele (Dom Type) -&gt; t -&gt; t
</span><a href="Agda.TypeChecking.Substitute.Class.html#abstract"><span class="hs-identifier hs-var">abstract</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036173"><span class="hs-identifier hs-var">params</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036170"><span class="hs-identifier hs-var">ixs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-755"></span><span>      </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; TCM () -&gt; TCM ()
forall b (m :: * -&gt; *) a.
(AddContext b, MonadAddContext m) =&gt;
b -&gt; m a -&gt; m a
</span><a href="Agda.TypeChecking.Monad.Context.html#addContext"><span class="hs-identifier hs-var">addContext</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036173"><span class="hs-identifier hs-var">params</span></a></span><span> </span><span class="annot"><span class="annottext">(TCM () -&gt; TCM ()) -&gt; TCM () -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; TCM ()
forall (m :: * -&gt; *).
MonadDebug m =&gt;
ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; m ()
</span><a href="Agda.TypeChecking.Monad.Debug.html#reportSDoc"><span class="hs-identifier hs-var">reportSDoc</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;tc.data.ixs&quot;</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">20</span></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Doc -&gt; TCM ()) -&gt; TCMT IO Doc -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc
</span><span class="hs-string">&quot;deltaI:&quot;</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; m Doc -&gt; m Doc -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; TCMT IO Doc
forall a (m :: * -&gt; *). (PrettyTCM a, MonadPretty m) =&gt; a -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#prettyTCM"><span class="hs-identifier hs-var">prettyTCM</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036166"><span class="hs-identifier hs-var">deltaI</span></a></span><span>
</span><span id="line-756"></span><span>      </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; TCM () -&gt; TCM ()
forall b (m :: * -&gt; *) a.
(AddContext b, MonadAddContext m) =&gt;
b -&gt; m a -&gt; m a
</span><a href="Agda.TypeChecking.Monad.Context.html#addContext"><span class="hs-identifier hs-var">addContext</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036173"><span class="hs-identifier hs-var">params</span></a></span><span> </span><span class="annot"><span class="annottext">(TCM () -&gt; TCM ()) -&gt; TCM () -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; TCM () -&gt; TCM ()
forall b (m :: * -&gt; *) a.
(AddContext b, MonadAddContext m) =&gt;
b -&gt; m a -&gt; m a
</span><a href="Agda.TypeChecking.Monad.Context.html#addContext"><span class="hs-identifier hs-var">addContext</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036166"><span class="hs-identifier hs-var">deltaI</span></a></span><span> </span><span class="annot"><span class="annottext">(TCM () -&gt; TCM ()) -&gt; TCM () -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(ArgName, Dom Type) -&gt; TCM () -&gt; TCM ()
forall b (m :: * -&gt; *) a.
(AddContext b, MonadAddContext m) =&gt;
b -&gt; m a -&gt; m a
</span><a href="Agda.TypeChecking.Monad.Context.html#addContext"><span class="hs-identifier hs-var">addContext</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;i&quot;</span></span><span class="hs-glyph">::</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Type -&gt; Dom Type
forall a. a -&gt; Dom a
</span><a href="Agda.Syntax.Internal.html#defaultDom"><span class="hs-identifier hs-var">defaultDom</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036168"><span class="hs-identifier hs-var">interval</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(TCM () -&gt; TCM ()) -&gt; TCM () -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-757"></span><span>        </span><span class="annot"><span class="annottext">ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; TCM ()
forall (m :: * -&gt; *).
MonadDebug m =&gt;
ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; m ()
</span><a href="Agda.TypeChecking.Monad.Debug.html#reportSDoc"><span class="hs-identifier hs-var">reportSDoc</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;tc.data.ixs&quot;</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">20</span></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Doc -&gt; TCM ()) -&gt; TCMT IO Doc -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc
</span><span class="hs-string">&quot;rect':&quot;</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; m Doc -&gt; m Doc -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Substitution -&gt; TCMT IO Doc
forall (m :: * -&gt; *) a. (Applicative m, Pretty a) =&gt; a -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Substitution
forall {a}. Sized a =&gt; a -&gt; Substitution
</span><a href="#local-6989586621681036152"><span class="hs-identifier hs-var">sub</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036170"><span class="hs-identifier hs-var">ixs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-758"></span><span>        </span><span class="annot"><span class="annottext">ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; TCM ()
forall (m :: * -&gt; *).
MonadDebug m =&gt;
ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; m ()
</span><a href="Agda.TypeChecking.Monad.Debug.html#reportSDoc"><span class="hs-identifier hs-var">reportSDoc</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;tc.data.ixs&quot;</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">20</span></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Doc -&gt; TCM ()) -&gt; TCMT IO Doc -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc
</span><span class="hs-string">&quot;rect':&quot;</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; m Doc -&gt; m Doc -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Type -&gt; TCMT IO Doc
forall (m :: * -&gt; *) a. (Applicative m, Pretty a) =&gt; a -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036153"><span class="hs-identifier hs-var">rect'</span></a></span><span>
</span><span id="line-759"></span><span>
</span><span id="line-760"></span><span>      </span><span id="local-6989586621681036151"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036151"><span class="hs-identifier hs-var">theType</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Type -&gt; Type
forall t. Abstract t =&gt; Tele (Dom Type) -&gt; t -&gt; t
</span><a href="Agda.TypeChecking.Substitute.Class.html#abstract"><span class="hs-identifier hs-var">abstract</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Hiding -&gt; Dom Type -&gt; Dom Type
forall a. LensHiding a =&gt; Hiding -&gt; a -&gt; a
</span><a href="Agda.Syntax.Common.html#setHiding"><span class="hs-identifier hs-var">setHiding</span></a></span><span> </span><span class="annot"><span class="annottext">Hiding
</span><a href="Agda.Syntax.Common.html#Hidden"><span class="hs-identifier hs-var">Hidden</span></a></span><span> </span><span class="annot"><span class="annottext">(Dom Type -&gt; Dom Type) -&gt; Tele (Dom Type) -&gt; Tele (Dom Type)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036173"><span class="hs-identifier hs-var">params</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Type -&gt; Type) -&gt; TCMT IO Type -&gt; TCMT IO Type
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(TCMT IO Type -&gt; TCMT IO Type)
-&gt; (TCMT IO Type -&gt; TCMT IO Type) -&gt; TCMT IO Type -&gt; TCMT IO Type
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Type -&gt; Type
forall t. Abstract t =&gt; Tele (Dom Type) -&gt; t -&gt; t
</span><a href="Agda.TypeChecking.Substitute.Class.html#abstract"><span class="hs-identifier hs-var">abstract</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036166"><span class="hs-identifier hs-var">deltaI</span></a></span><span> </span><span class="annot"><span class="annottext">(Type -&gt; Type) -&gt; TCMT IO Type -&gt; TCMT IO Type
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(TCMT IO Type -&gt; TCMT IO Type) -&gt; TCMT IO Type -&gt; TCMT IO Type
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[ArgName] -&gt; NamesT (TCMT IO) Type -&gt; TCMT IO Type
forall (m :: * -&gt; *) a. [ArgName] -&gt; NamesT m a -&gt; m a
</span><a href="Agda.TypeChecking.Names.html#runNamesT"><span class="hs-identifier hs-var">runNamesT</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">(NamesT (TCMT IO) Type -&gt; TCMT IO Type)
-&gt; NamesT (TCMT IO) Type -&gt; TCMT IO Type
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-761"></span><span>                  </span><span id="local-6989586621681036148"><span class="annot"><span class="annottext">NamesT (TCMT IO) (Abs Type)
</span><a href="#local-6989586621681036148"><span class="hs-identifier hs-var">rect'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Abs Type -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) (Abs Type))
forall (m :: * -&gt; *) a.
(MonadFail m, Subst a) =&gt;
a -&gt; NamesT m (NamesT m a)
</span><a href="Agda.TypeChecking.Names.html#open"><span class="hs-identifier hs-var">open</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[ArgName] -&gt; NamesT Fail (Abs Type) -&gt; Abs Type
forall a. [ArgName] -&gt; NamesT Fail a -&gt; a
</span><a href="Agda.TypeChecking.Names.html#runNames"><span class="hs-identifier hs-var">runNames</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">(NamesT Fail (Abs Type) -&gt; Abs Type)
-&gt; NamesT Fail (Abs Type) -&gt; Abs Type
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ArgName
-&gt; ((forall b. (Subst b, DeBruijn b) =&gt; NamesT Fail b)
    -&gt; NamesT Fail Type)
-&gt; NamesT Fail (Abs Type)
forall (m :: * -&gt; *) a.
MonadFail m =&gt;
ArgName
-&gt; ((forall b. (Subst b, DeBruijn b) =&gt; NamesT m b) -&gt; NamesT m a)
-&gt; NamesT m (Abs a)
</span><a href="Agda.TypeChecking.Names.html#bind"><span class="hs-identifier hs-var">bind</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;i&quot;</span></span><span> </span><span class="annot"><span class="annottext">(((forall b. (Subst b, DeBruijn b) =&gt; NamesT Fail b)
  -&gt; NamesT Fail Type)
 -&gt; NamesT Fail (Abs Type))
-&gt; ((forall b. (Subst b, DeBruijn b) =&gt; NamesT Fail b)
    -&gt; NamesT Fail Type)
-&gt; NamesT Fail (Abs Type)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681036146"><span class="annot"><span class="annottext">forall b. (Subst b, DeBruijn b) =&gt; NamesT Fail b
</span><a href="#local-6989586621681036146"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="annot"><span class="annottext">NamesT Fail Term
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NamesT Fail Term
forall b. (Subst b, DeBruijn b) =&gt; NamesT Fail b
</span><a href="#local-6989586621681036146"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT Fail Term -&gt; NamesT Fail Term -&gt; NamesT Fail Term
forall a. a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`asTypeOf`</span></span><span> </span><span class="annot"><span class="annottext">Term -&gt; NamesT Fail Term
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
forall a. HasCallStack =&gt; a
</span><span class="hs-identifier hs-var">undefined</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">in</span><span>
</span><span id="line-762"></span><span>                                                                 </span><span class="annot"><span class="annottext">Type -&gt; NamesT Fail Type
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036153"><span class="hs-identifier hs-var">rect'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-763"></span><span>                  </span><span class="annot"><span class="annottext">ArgName
-&gt; NamesT (TCMT IO) Type
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Type)
-&gt; NamesT (TCMT IO) Type
forall (m :: * -&gt; *).
(MonadFail m, MonadAddContext m, MonadDebug m) =&gt;
ArgName
-&gt; NamesT m Type
-&gt; (NamesT m Term -&gt; NamesT m Type)
-&gt; NamesT m Type
</span><a href="Agda.TypeChecking.Primitive.Base.html#nPi%27"><span class="hs-identifier hs-var">nPi'</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;phi&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NamesT (TCMT IO) Type
forall (m :: * -&gt; *).
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
m Type
</span><a href="Agda.TypeChecking.Primitive.Cubical.html#primIntervalType"><span class="hs-identifier hs-var">primIntervalType</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Type)
 -&gt; NamesT (TCMT IO) Type)
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Type)
-&gt; NamesT (TCMT IO) Type
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681036136"><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036136"><span class="hs-identifier hs-var">phi</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-764"></span><span>                   </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Abs Type -&gt; Term -&gt; Type
forall a. Subst a =&gt; Abs a -&gt; SubstArg a -&gt; a
</span><a href="Agda.TypeChecking.Substitute.Class.html#absApp"><span class="hs-identifier hs-var">absApp</span></a></span><span> </span><span class="annot"><span class="annottext">(Abs Type -&gt; Term -&gt; Type)
-&gt; NamesT (TCMT IO) (Abs Type) -&gt; NamesT (TCMT IO) (Term -&gt; Type)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (Abs Type)
</span><a href="#local-6989586621681036148"><span class="hs-identifier hs-var">rect'</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (Term -&gt; Type)
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Type
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Term -&gt; NamesT (TCMT IO) Term
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681036164"><span class="hs-identifier hs-var">iz</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Type
-&gt; NamesT (TCMT IO) Type -&gt; NamesT (TCMT IO) Type
forall (m :: * -&gt; *). Applicative m =&gt; m Type -&gt; m Type -&gt; m Type
</span><a href="Agda.TypeChecking.Primitive.Base.html#--%3E"><span class="hs-operator hs-var">--&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Abs Type -&gt; Term -&gt; Type
forall a. Subst a =&gt; Abs a -&gt; SubstArg a -&gt; a
</span><a href="Agda.TypeChecking.Substitute.Class.html#absApp"><span class="hs-identifier hs-var">absApp</span></a></span><span> </span><span class="annot"><span class="annottext">(Abs Type -&gt; Term -&gt; Type)
-&gt; NamesT (TCMT IO) (Abs Type) -&gt; NamesT (TCMT IO) (Term -&gt; Type)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (Abs Type)
</span><a href="#local-6989586621681036148"><span class="hs-identifier hs-var">rect'</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (Term -&gt; Type)
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Type
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Term -&gt; NamesT (TCMT IO) Term
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681036163"><span class="hs-identifier hs-var">io</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-765"></span><span>
</span><span id="line-766"></span><span>      </span><span class="annot"><span class="annottext">ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; TCM ()
forall (m :: * -&gt; *).
MonadDebug m =&gt;
ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; m ()
</span><a href="Agda.TypeChecking.Monad.Debug.html#reportSDoc"><span class="hs-identifier hs-var">reportSDoc</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;tc.data.ixs&quot;</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">20</span></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Doc -&gt; TCM ()) -&gt; TCMT IO Doc -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc
</span><span class="hs-string">&quot;transpIx:&quot;</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; m Doc -&gt; m Doc -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Type -&gt; TCMT IO Doc
forall a (m :: * -&gt; *). (PrettyTCM a, MonadPretty m) =&gt; a -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#prettyTCM"><span class="hs-identifier hs-var">prettyTCM</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036151"><span class="hs-identifier hs-var">theType</span></a></span><span>
</span><span id="line-767"></span><span>      </span><span class="hs-keyword">let</span><span>
</span><span id="line-768"></span><span>        </span><span id="local-6989586621681036134"><span class="annot"><span class="annottext">ctel :: Tele (Dom Type)
</span><a href="#local-6989586621681036134"><span class="hs-identifier hs-var hs-var">ctel</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Tele (Dom Type) -&gt; Tele (Dom Type)
forall t. Abstract t =&gt; Tele (Dom Type) -&gt; t -&gt; t
</span><a href="Agda.TypeChecking.Substitute.Class.html#abstract"><span class="hs-identifier hs-var">abstract</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036173"><span class="hs-identifier hs-var">params</span></a></span><span> </span><span class="annot"><span class="annottext">(Tele (Dom Type) -&gt; Tele (Dom Type))
-&gt; Tele (Dom Type) -&gt; Tele (Dom Type)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Tele (Dom Type) -&gt; Tele (Dom Type)
forall t. Abstract t =&gt; Tele (Dom Type) -&gt; t -&gt; t
</span><a href="Agda.TypeChecking.Substitute.Class.html#abstract"><span class="hs-identifier hs-var">abstract</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036166"><span class="hs-identifier hs-var">deltaI</span></a></span><span> </span><span class="annot"><span class="annottext">(Tele (Dom Type) -&gt; Tele (Dom Type))
-&gt; Tele (Dom Type) -&gt; Tele (Dom Type)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Dom Type -&gt; Abs (Tele (Dom Type)) -&gt; Tele (Dom Type)
forall a. a -&gt; Abs (Tele a) -&gt; Tele a
</span><a href="Agda.Syntax.Internal.html#ExtendTel"><span class="hs-identifier hs-var">ExtendTel</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type -&gt; Dom Type
forall a. a -&gt; Dom a
</span><a href="Agda.Syntax.Internal.html#defaultDom"><span class="hs-identifier hs-var">defaultDom</span></a></span><span> </span><span class="annot"><span class="annottext">(Type -&gt; Dom Type) -&gt; Type -&gt; Dom Type
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; SubstArg Type -&gt; Type -&gt; Type
forall a. Subst a =&gt; Nat -&gt; SubstArg a -&gt; a -&gt; a
</span><a href="Agda.TypeChecking.Substitute.Class.html#subst"><span class="hs-identifier hs-var">subst</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Term
SubstArg Type
</span><a href="#local-6989586621681036164"><span class="hs-identifier hs-var">iz</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036153"><span class="hs-identifier hs-var">rect'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ArgName -&gt; Tele (Dom Type) -&gt; Abs (Tele (Dom Type))
forall a. ArgName -&gt; a -&gt; Abs a
</span><a href="Agda.Syntax.Internal.html#Abs"><span class="hs-identifier hs-var">Abs</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;t&quot;</span></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
forall a. Tele a
</span><a href="Agda.Syntax.Internal.html#EmptyTel"><span class="hs-identifier hs-var">EmptyTel</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-769"></span><span>        </span><span id="local-6989586621681036132"><span class="annot"><span class="annottext">ps :: [Arg (Named_ (Pattern' DBPatVar))]
</span><a href="#local-6989586621681036132"><span class="hs-identifier hs-var hs-var">ps</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Boundary -&gt; [Arg (Named_ (Pattern' DBPatVar))]
forall a.
DeBruijn a =&gt;
Tele (Dom Type) -&gt; Boundary -&gt; [NamedArg (Pattern' a)]
</span><a href="Agda.TypeChecking.Telescope.html#telePatterns"><span class="hs-identifier hs-var">telePatterns</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036134"><span class="hs-identifier hs-var">ctel</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-770"></span><span>        </span><span id="local-6989586621681036131"><span class="annot"><span class="annottext">cpi :: ConPatternInfo
</span><a href="#local-6989586621681036131"><span class="hs-identifier hs-var hs-var">cpi</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ConPatternInfo
</span><a href="Agda.Syntax.Internal.html#noConPatternInfo"><span class="hs-identifier hs-var">noConPatternInfo</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">conPType :: Maybe (Arg Type)
</span><a href="Agda.Syntax.Internal.html#conPType"><span class="hs-identifier hs-var">conPType</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Arg Type -&gt; Maybe (Arg Type)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type -&gt; Arg Type
forall e. e -&gt; Arg e
</span><a href="Agda.Syntax.Common.html#defaultArg"><span class="hs-identifier hs-var">defaultArg</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036168"><span class="hs-identifier hs-var">interval</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-771"></span><span>        </span><span class="annot"><a href="#local-6989586621681036127"><span class="hs-identifier hs-type">pat</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Common.html#NamedArg"><span class="hs-identifier hs-type">NamedArg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Internal.html#Pattern%27"><span class="hs-identifier hs-type">Pattern'</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#DBPatVar"><span class="hs-identifier hs-type">DBPatVar</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-772"></span><span>        </span><span id="local-6989586621681036127"><span class="annot"><span class="annottext">pat :: Arg (Named_ (Pattern' DBPatVar))
</span><a href="#local-6989586621681036127"><span class="hs-identifier hs-var hs-var">pat</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Pattern' DBPatVar -&gt; Arg (Named_ (Pattern' DBPatVar))
forall a. a -&gt; NamedArg a
</span><a href="Agda.Syntax.Common.html#defaultNamedArg"><span class="hs-identifier hs-var">defaultNamedArg</span></a></span><span> </span><span class="annot"><span class="annottext">(Pattern' DBPatVar -&gt; Arg (Named_ (Pattern' DBPatVar)))
-&gt; Pattern' DBPatVar -&gt; Arg (Named_ (Pattern' DBPatVar))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ConHead
-&gt; ConPatternInfo
-&gt; [Arg (Named_ (Pattern' DBPatVar))]
-&gt; Pattern' DBPatVar
forall x.
ConHead -&gt; ConPatternInfo -&gt; [NamedArg (Pattern' x)] -&gt; Pattern' x
</span><a href="Agda.Syntax.Internal.html#ConP"><span class="hs-identifier hs-var">ConP</span></a></span><span> </span><span class="annot"><span class="annottext">ConHead
</span><a href="#local-6989586621681036162"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">ConPatternInfo
</span><a href="#local-6989586621681036131"><span class="hs-identifier hs-var">cpi</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-773"></span><span>        </span><span id="local-6989586621681036126"><span class="annot"><span class="annottext">clause :: Clause
</span><a href="#local-6989586621681036126"><span class="hs-identifier hs-var hs-var">clause</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Clause
forall a. Null a =&gt; a
</span><a href="Agda.Utils.Null.html#empty"><span class="hs-identifier hs-var">empty</span></a></span><span>
</span><span id="line-774"></span><span>          </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">clauseTel :: Tele (Dom Type)
</span><a href="Agda.Syntax.Internal.html#clauseTel"><span class="hs-identifier hs-var">clauseTel</span></a></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036134"><span class="hs-identifier hs-var">ctel</span></a></span><span>
</span><span id="line-775"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">namedClausePats :: [Arg (Named_ (Pattern' DBPatVar))]
</span><a href="Agda.Syntax.Internal.html#namedClausePats"><span class="hs-identifier hs-var">namedClausePats</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Arg (Named_ (Pattern' DBPatVar))]
-&gt; [Arg (Named_ (Pattern' DBPatVar))]
forall a. [a] -&gt; [a]
</span><span class="hs-identifier hs-var">init</span></span><span> </span><span class="annot"><span class="annottext">[Arg (Named_ (Pattern' DBPatVar))]
</span><a href="#local-6989586621681036132"><span class="hs-identifier hs-var">ps</span></a></span><span> </span><span class="annot"><span class="annottext">[Arg (Named_ (Pattern' DBPatVar))]
-&gt; [Arg (Named_ (Pattern' DBPatVar))]
-&gt; [Arg (Named_ (Pattern' DBPatVar))]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Arg (Named_ (Pattern' DBPatVar))
</span><a href="#local-6989586621681036127"><span class="hs-identifier hs-var">pat</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Arg (Named_ (Pattern' DBPatVar))]
-&gt; Arg (Named_ (Pattern' DBPatVar))
forall a. [a] -&gt; a
</span><span class="hs-identifier hs-var">last</span></span><span> </span><span class="annot"><span class="annottext">[Arg (Named_ (Pattern' DBPatVar))]
</span><a href="#local-6989586621681036132"><span class="hs-identifier hs-var">ps</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-776"></span><span>
</span><span id="line-777"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">clauseBody :: Maybe Term
</span><a href="Agda.Syntax.Internal.html#clauseBody"><span class="hs-identifier hs-var">clauseBody</span></a></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term -&gt; Maybe Term
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(Term -&gt; Maybe Term) -&gt; Term -&gt; Maybe Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Term
</span><a href="Agda.Syntax.Internal.html#var"><span class="hs-identifier hs-var">var</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">0</span></span><span>
</span><span id="line-778"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">clauseType :: Maybe (Arg Type)
</span><a href="Agda.Syntax.Internal.html#clauseType"><span class="hs-identifier hs-var">clauseType</span></a></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Arg Type -&gt; Maybe (Arg Type)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(Arg Type -&gt; Maybe (Arg Type)) -&gt; Arg Type -&gt; Maybe (Arg Type)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Type -&gt; Arg Type
forall e. e -&gt; Arg e
</span><a href="Agda.Syntax.Common.html#defaultArg"><span class="hs-identifier hs-var">defaultArg</span></a></span><span> </span><span class="annot"><span class="annottext">(Type -&gt; Arg Type) -&gt; Type -&gt; Arg Type
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Type -&gt; Type
forall a. Subst a =&gt; Nat -&gt; a -&gt; a
</span><a href="Agda.TypeChecking.Substitute.Class.html#raise"><span class="hs-identifier hs-var">raise</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">(Type -&gt; Type) -&gt; Type -&gt; Type
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; SubstArg Type -&gt; Type -&gt; Type
forall a. Subst a =&gt; Nat -&gt; SubstArg a -&gt; a -&gt; a
</span><a href="Agda.TypeChecking.Substitute.Class.html#subst"><span class="hs-identifier hs-var">subst</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Term
SubstArg Type
</span><a href="#local-6989586621681036163"><span class="hs-identifier hs-var">io</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036153"><span class="hs-identifier hs-var">rect'</span></a></span><span>
</span><span id="line-779"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">clauseRecursive :: Maybe Bool
</span><a href="Agda.Syntax.Internal.html#clauseRecursive"><span class="hs-identifier hs-var">clauseRecursive</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Maybe Bool
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>  </span><span class="hs-comment">-- non-recursive</span><span>
</span><span id="line-780"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">clauseUnreachable :: Maybe Bool
</span><a href="Agda.Syntax.Internal.html#clauseUnreachable"><span class="hs-identifier hs-var">clauseUnreachable</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Maybe Bool
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-781"></span><span>          </span><span class="hs-special">}</span><span>
</span><span id="line-782"></span><span>
</span><span id="line-783"></span><span>      </span><span class="annot"><span class="annottext">TCM () -&gt; TCM ()
forall a. TCM a -&gt; TCM a
</span><a href="Agda.TypeChecking.Monad.Mutual.html#noMutualBlock"><span class="hs-identifier hs-var">noMutualBlock</span></a></span><span> </span><span class="annot"><span class="annottext">(TCM () -&gt; TCM ()) -&gt; TCM () -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-784"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681036123"><span class="annot"><span class="annottext">cs :: [Clause]
</span><a href="#local-6989586621681036123"><span class="hs-identifier hs-var hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Clause
</span><a href="#local-6989586621681036126"><span class="hs-identifier hs-var">clause</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-785"></span><span class="hs-comment">--        we do not compile clauses as that leads to throwing missing clauses errors.</span><span>
</span><span id="line-786"></span><span class="hs-comment">--        (mst, _, cc) &lt;- compileClauses Nothing cs</span><span>
</span><span id="line-787"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681036122"><span class="annot"><span class="annottext">fun :: Defn
</span><a href="#local-6989586621681036122"><span class="hs-identifier hs-var hs-var">fun</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Defn
</span><a href="Agda.TypeChecking.Monad.Base.html#emptyFunction"><span class="hs-identifier hs-var">emptyFunction</span></a></span><span>
</span><span id="line-788"></span><span>                  </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">funClauses :: [Clause]
</span><a href="Agda.TypeChecking.Monad.Base.html#funClauses"><span class="hs-identifier hs-var">funClauses</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Clause]
</span><a href="#local-6989586621681036123"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-789"></span><span>               </span><span class="hs-comment">--   , funCompiled   = Just cc</span><span>
</span><span id="line-790"></span><span>               </span><span class="hs-comment">--   , funSplitTree  = mst</span><span>
</span><span id="line-791"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">funProjection :: Maybe Projection
</span><a href="Agda.TypeChecking.Monad.Base.html#funProjection"><span class="hs-identifier hs-var">funProjection</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Projection
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-792"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">funMutual :: Maybe [QName]
</span><a href="Agda.TypeChecking.Monad.Base.html#funMutual"><span class="hs-identifier hs-var">funMutual</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[QName] -&gt; Maybe [QName]
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-793"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">funTerminates :: Maybe Bool
</span><a href="Agda.TypeChecking.Monad.Base.html#funTerminates"><span class="hs-identifier hs-var">funTerminates</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Maybe Bool
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-794"></span><span>                  </span><span class="hs-special">}</span><span>
</span><span id="line-795"></span><span>        </span><span class="annot"><span class="annottext">TCM () -&gt; TCM ()
forall (tcm :: * -&gt; *) a.
(MonadTCEnv tcm, ReadTCState tcm) =&gt;
tcm a -&gt; tcm a
</span><a href="Agda.TypeChecking.Monad.Context.html#inTopContext"><span class="hs-identifier hs-var">inTopContext</span></a></span><span> </span><span class="annot"><span class="annottext">(TCM () -&gt; TCM ()) -&gt; TCM () -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-796"></span><span>         </span><span class="annot"><span class="annottext">ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; TCM ()
forall (m :: * -&gt; *).
MonadDebug m =&gt;
ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; m ()
</span><a href="Agda.TypeChecking.Monad.Debug.html#reportSDoc"><span class="hs-identifier hs-var">reportSDoc</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;tc.transpx.type&quot;</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">15</span></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Doc -&gt; TCM ()) -&gt; TCMT IO Doc -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[TCMT IO Doc] -&gt; TCMT IO Doc
forall (m :: * -&gt; *) (t :: * -&gt; *).
(Applicative m, Foldable t) =&gt;
t (m Doc) -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#vcat"><span class="hs-identifier hs-var">vcat</span></a></span><span>
</span><span id="line-797"></span><span>           </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc
</span><span class="hs-string">&quot;type of&quot;</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; m Doc -&gt; m Doc -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">QName -&gt; TCMT IO Doc
forall a (m :: * -&gt; *). (PrettyTCM a, MonadPretty m) =&gt; a -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#prettyTCM"><span class="hs-identifier hs-var">prettyTCM</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036174"><span class="hs-identifier hs-var">trIx</span></a></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; m Doc -&gt; m Doc -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc
</span><span class="hs-string">&quot;:&quot;</span></span><span>
</span><span id="line-798"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Nat -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Functor m =&gt; Nat -&gt; m Doc -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#nest"><span class="hs-identifier hs-var">nest</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Doc -&gt; TCMT IO Doc) -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Type -&gt; TCMT IO Doc
forall a (m :: * -&gt; *). (PrettyTCM a, MonadPretty m) =&gt; a -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#prettyTCM"><span class="hs-identifier hs-var">prettyTCM</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036151"><span class="hs-identifier hs-var">theType</span></a></span><span>
</span><span id="line-799"></span><span>           </span><span class="hs-special">]</span><span>
</span><span id="line-800"></span><span>
</span><span id="line-801"></span><span>         </span><span class="annot"><span class="annottext">QName -&gt; Definition -&gt; TCM ()
</span><a href="Agda.TypeChecking.Monad.Signature.html#addConstant"><span class="hs-identifier hs-var">addConstant</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036174"><span class="hs-identifier hs-var">trIx</span></a></span><span> </span><span class="annot"><span class="annottext">(Definition -&gt; TCM ()) -&gt; Definition -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-802"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ArgInfo -&gt; QName -&gt; Type -&gt; Language -&gt; Defn -&gt; Definition
</span><a href="Agda.TypeChecking.Monad.Base.html#defaultDefn"><span class="hs-identifier hs-var">defaultDefn</span></a></span><span> </span><span class="annot"><span class="annottext">ArgInfo
</span><a href="Agda.Syntax.Common.html#defaultArgInfo"><span class="hs-identifier hs-var">defaultArgInfo</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036174"><span class="hs-identifier hs-var">trIx</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036151"><span class="hs-identifier hs-var">theType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Cubical -&gt; Language
</span><a href="Agda.Syntax.Common.html#Cubical"><span class="hs-identifier hs-var">Cubical</span></a></span><span> </span><span class="annot"><span class="annottext">Cubical
</span><a href="Agda.Syntax.Common.html#CErased"><span class="hs-identifier hs-var">CErased</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Defn
</span><a href="#local-6989586621681036122"><span class="hs-identifier hs-var">fun</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-803"></span><span>            </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">defNoCompilation :: Bool
</span><a href="Agda.TypeChecking.Monad.Base.html#defNoCompilation"><span class="hs-identifier hs-var">defNoCompilation</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-804"></span><span>            </span><span class="hs-special">}</span><span>
</span><span id="line-805"></span><span>
</span><span id="line-806"></span><span>        </span><span class="hs-comment">-- reportSDoc &quot;tc.data.proj.fun&quot; 60 $ inTopContext $ vcat</span><span>
</span><span id="line-807"></span><span>        </span><span class="hs-comment">--   [ &quot;proj&quot; &lt;+&gt; prettyTCM i</span><span>
</span><span id="line-808"></span><span>        </span><span class="hs-comment">--   , nest 2 $ pretty fun</span><span>
</span><span id="line-809"></span><span>        </span><span class="hs-comment">--   ]</span><span>
</span><span id="line-810"></span><span>      </span><span class="hs-comment">-- addContext ctel $ do</span><span>
</span><span id="line-811"></span><span>      </span><span class="hs-comment">--   let es = teleElims ctel []</span><span>
</span><span id="line-812"></span><span>      </span><span class="hs-comment">--   r &lt;- reduce $ Def trIx es</span><span>
</span><span id="line-813"></span><span>      </span><span class="hs-comment">--   reportSDoc &quot;tc.data.ixs&quot; 20 $ &quot;reducedx:&quot; &lt;+&gt; prettyTCM r</span><span>
</span><span id="line-814"></span><span>      </span><span class="hs-comment">--   r &lt;- reduce $ Def trIx (init es ++ [Apply $ argN io, last es])</span><span>
</span><span id="line-815"></span><span>      </span><span class="hs-comment">--   reportSDoc &quot;tc.data.ixs&quot; 20 $ &quot;reduced1:&quot; &lt;+&gt; prettyTCM r</span><span>
</span><span id="line-816"></span><span>      </span><span class="annot"><span class="annottext">Maybe QName -&gt; TCMT IO (Maybe QName)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Maybe QName -&gt; TCMT IO (Maybe QName))
-&gt; Maybe QName -&gt; TCMT IO (Maybe QName)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">QName -&gt; Maybe QName
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036174"><span class="hs-identifier hs-var">trIx</span></a></span><span>
</span><span id="line-817"></span><span>    </span><span class="annot"><span class="annottext">Defn
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TCMT IO (Maybe QName)
forall a. HasCallStack =&gt; a
</span><a href="Agda.Utils.Impossible.html#__IMPOSSIBLE__"><span class="hs-identifier hs-var">__IMPOSSIBLE__</span></a></span><span>
</span><span id="line-818"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-819"></span><span>
</span><span id="line-820"></span><span>    </span><span class="hs-comment">-- &#915;, &#916;^I, i : I |- sub (&#915; &#8866; &#916;) : &#915;, &#916;</span><span>
</span><span id="line-821"></span><span>    </span><span id="local-6989586621681036152"><span class="annot"><span class="annottext">sub :: a -&gt; Substitution
</span><a href="#local-6989586621681036152"><span class="hs-identifier hs-var hs-var">sub</span></a></span></span><span> </span><span id="local-6989586621681036117"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681036117"><span class="hs-identifier hs-var">tel</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Substitution
</span><a href="Agda.TypeChecking.Primitive.Cubical.html#expS"><span class="hs-identifier hs-var">expS</span></a></span><span> </span><span class="annot"><span class="annottext">(Nat -&gt; Substitution) -&gt; Nat -&gt; Substitution
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; Nat
forall a. Sized a =&gt; a -&gt; Nat
</span><a href="Agda.Utils.Size.html#size"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681036117"><span class="hs-identifier hs-var">tel</span></a></span><span>
</span><span id="line-822"></span><span>
</span><span id="line-823"></span><span>
</span><span id="line-824"></span><span class="annot"><a href="Agda.TypeChecking.Rules.Data.html#defineTranspFun"><span class="hs-identifier hs-type">defineTranspFun</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Abstract.Name.html#QName"><span class="hs-identifier hs-type">QName</span></a></span><span> </span><span class="hs-comment">-- ^ datatype</span><span>
</span><span id="line-825"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Agda.Syntax.Abstract.Name.html#QName"><span class="hs-identifier hs-type">QName</span></a></span><span> </span><span class="hs-comment">-- ^ transpX &quot;constructor&quot;</span><span>
</span><span id="line-826"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Agda.Syntax.Abstract.Name.html#QName"><span class="hs-identifier hs-type">QName</span></a></span><span class="hs-special">]</span><span>     </span><span class="hs-comment">-- ^ constructor names</span><span>
</span><span id="line-827"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Agda.Syntax.Abstract.Name.html#QName"><span class="hs-identifier hs-type">QName</span></a></span><span class="hs-special">]</span><span>     </span><span class="hs-comment">-- ^ path cons</span><span>
</span><span id="line-828"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#TCM"><span class="hs-identifier hs-type">TCM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Agda.Syntax.Abstract.Name.html#QName"><span class="hs-identifier hs-type">QName</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- transp function for the datatype.</span><span>
</span><span id="line-829"></span><span id="defineTranspFun"><span class="annot"><span class="annottext">defineTranspFun :: QName -&gt; Maybe QName -&gt; [QName] -&gt; [QName] -&gt; TCMT IO (Maybe QName)
</span><a href="Agda.TypeChecking.Rules.Data.html#defineTranspFun"><span class="hs-identifier hs-var hs-var">defineTranspFun</span></a></span></span><span> </span><span id="local-6989586621681036115"><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036115"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span id="local-6989586621681036114"><span class="annot"><span class="annottext">Maybe QName
</span><a href="#local-6989586621681036114"><span class="hs-identifier hs-var">mtrX</span></a></span></span><span> </span><span id="local-6989586621681036113"><span class="annot"><span class="annottext">[QName]
</span><a href="#local-6989586621681036113"><span class="hs-identifier hs-var">cons</span></a></span></span><span> </span><span id="local-6989586621681036112"><span class="annot"><span class="annottext">[QName]
</span><a href="#local-6989586621681036112"><span class="hs-identifier hs-var">pathCons</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-830"></span><span>  </span><span id="local-6989586621681036111"><span class="annot"><span class="annottext">Definition
</span><a href="#local-6989586621681036111"><span class="hs-identifier hs-var">def</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">QName -&gt; TCMT IO Definition
forall (m :: * -&gt; *). HasConstInfo m =&gt; QName -&gt; m Definition
</span><a href="Agda.TypeChecking.Monad.Signature.html#getConstInfo"><span class="hs-identifier hs-var">getConstInfo</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036115"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-831"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Definition -&gt; Defn
</span><a href="Agda.TypeChecking.Monad.Base.html#theDef"><span class="hs-identifier hs-var">theDef</span></a></span><span> </span><span class="annot"><span class="annottext">Definition
</span><a href="#local-6989586621681036111"><span class="hs-identifier hs-var">def</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-832"></span><span>    </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#Datatype"><span class="hs-identifier hs-type">Datatype</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">dataPars :: Defn -&gt; Nat
</span><a href="Agda.TypeChecking.Monad.Base.html#dataPars"><span class="hs-identifier hs-var">dataPars</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681036110"><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681036110"><span class="hs-identifier hs-var">npars</span></a></span></span><span>
</span><span id="line-833"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dataIxs :: Defn -&gt; Nat
</span><a href="Agda.TypeChecking.Monad.Base.html#dataIxs"><span class="hs-identifier hs-var">dataIxs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681036109"><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681036109"><span class="hs-identifier hs-var">nixs</span></a></span></span><span>
</span><span id="line-834"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dataSort :: Defn -&gt; Sort' Term
</span><a href="Agda.TypeChecking.Monad.Base.html#dataSort"><span class="hs-identifier hs-var">dataSort</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681036108"><span class="annot"><span class="annottext">s :: Sort' Term
</span><a href="#local-6989586621681036108"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Internal.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="annot"><span class="annottext">Level
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>
</span><span id="line-835"></span><span class="hs-comment">--             , dataCons = cons -- not there yet</span><span>
</span><span id="line-836"></span><span>             </span><span class="hs-special">}</span><span>
</span><span id="line-837"></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-838"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681036107"><span class="annot"><span class="annottext">t :: Type
</span><a href="#local-6989586621681036107"><span class="hs-identifier hs-var hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Definition -&gt; Type
</span><a href="Agda.TypeChecking.Monad.Base.html#defType"><span class="hs-identifier hs-var">defType</span></a></span><span> </span><span class="annot"><span class="annottext">Definition
</span><a href="#local-6989586621681036111"><span class="hs-identifier hs-var">def</span></a></span><span>
</span><span id="line-839"></span><span>      </span><span class="annot"><span class="annottext">ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; TCM ()
forall (m :: * -&gt; *).
MonadDebug m =&gt;
ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; m ()
</span><a href="Agda.TypeChecking.Monad.Debug.html#reportSDoc"><span class="hs-identifier hs-var">reportSDoc</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;tc.data.transp&quot;</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">20</span></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Doc -&gt; TCM ()) -&gt; TCMT IO Doc -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[TCMT IO Doc] -&gt; TCMT IO Doc
forall (m :: * -&gt; *) (t :: * -&gt; *).
(Applicative m, Foldable t) =&gt;
t (m Doc) -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#vcat"><span class="hs-identifier hs-var">vcat</span></a></span><span>
</span><span id="line-840"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc
</span><span class="hs-string">&quot;name :&quot;</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; m Doc -&gt; m Doc -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">QName -&gt; TCMT IO Doc
forall a (m :: * -&gt; *). (PrettyTCM a, MonadPretty m) =&gt; a -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#prettyTCM"><span class="hs-identifier hs-var">prettyTCM</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036115"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-841"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc
</span><span class="hs-string">&quot;type :&quot;</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; m Doc -&gt; m Doc -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Type -&gt; TCMT IO Doc
forall a (m :: * -&gt; *). (PrettyTCM a, MonadPretty m) =&gt; a -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#prettyTCM"><span class="hs-identifier hs-var">prettyTCM</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036107"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-842"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc
</span><span class="hs-string">&quot;npars:&quot;</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; m Doc -&gt; m Doc -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; TCMT IO Doc
forall (m :: * -&gt; *) a. (Applicative m, Pretty a) =&gt; a -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681036110"><span class="hs-identifier hs-var">npars</span></a></span><span>
</span><span id="line-843"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc
</span><span class="hs-string">&quot;nixs :&quot;</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; m Doc -&gt; m Doc -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; TCMT IO Doc
forall (m :: * -&gt; *) a. (Applicative m, Pretty a) =&gt; a -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681036109"><span class="hs-identifier hs-var">nixs</span></a></span><span>
</span><span id="line-844"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-845"></span><span>      </span><span id="local-6989586621681036106"><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036106"><span class="hs-identifier hs-var">trD</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; TCMT IO QName
</span><a href="Agda.TypeChecking.Rules.Data.html#freshAbstractQName%27_"><span class="hs-identifier hs-var">freshAbstractQName'_</span></a></span><span> </span><span class="annot"><span class="annottext">(ArgName -&gt; TCMT IO QName) -&gt; ArgName -&gt; TCMT IO QName
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;transp&quot;</span></span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; ArgName -&gt; ArgName
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; ArgName
forall a. Pretty a =&gt; a -&gt; ArgName
</span><a href="Agda.Utils.Pretty.html#prettyShow"><span class="hs-identifier hs-var">P.prettyShow</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">QName -&gt; Name
</span><a href="Agda.Syntax.Abstract.Name.html#qnameName"><span class="hs-identifier hs-var">A.qnameName</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036115"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-846"></span><span>      </span><span class="annot"><a href="Agda.TypeChecking.Substitute.html#TelV"><span class="hs-identifier hs-type">TelV</span></a></span><span> </span><span id="local-6989586621681036105"><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036105"><span class="hs-identifier hs-var">params</span></a></span></span><span> </span><span id="local-6989586621681036104"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036104"><span class="hs-identifier hs-var">t'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Type -&gt; TCMT IO (TelV Type)
forall (m :: * -&gt; *).
(MonadReduce m, MonadAddContext m) =&gt;
Nat -&gt; Type -&gt; m (TelV Type)
</span><a href="Agda.TypeChecking.Telescope.html#telViewUpTo"><span class="hs-identifier hs-var">telViewUpTo</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681036110"><span class="hs-identifier hs-var">npars</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036107"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-847"></span><span>      </span><span class="annot"><a href="Agda.TypeChecking.Substitute.html#TelV"><span class="hs-identifier hs-type">TelV</span></a></span><span> </span><span id="local-6989586621681036103"><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036103"><span class="hs-identifier hs-var">ixs</span></a></span></span><span>    </span><span id="local-6989586621681036102"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036102"><span class="hs-identifier hs-var">dT</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Type -&gt; TCMT IO (TelV Type)
forall (m :: * -&gt; *).
(MonadReduce m, MonadAddContext m) =&gt;
Nat -&gt; Type -&gt; m (TelV Type)
</span><a href="Agda.TypeChecking.Telescope.html#telViewUpTo"><span class="hs-identifier hs-var">telViewUpTo</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681036109"><span class="hs-identifier hs-var">nixs</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036104"><span class="hs-identifier hs-var">t'</span></a></span><span>
</span><span id="line-848"></span><span>
</span><span id="line-849"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681036101"><span class="annot"><span class="annottext">tel :: Tele (Dom Type)
</span><a href="#local-6989586621681036101"><span class="hs-identifier hs-var hs-var">tel</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Tele (Dom Type) -&gt; Tele (Dom Type)
forall t. Abstract t =&gt; Tele (Dom Type) -&gt; t -&gt; t
</span><a href="Agda.TypeChecking.Substitute.Class.html#abstract"><span class="hs-identifier hs-var">abstract</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036105"><span class="hs-identifier hs-var">params</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036103"><span class="hs-identifier hs-var">ixs</span></a></span><span>
</span><span id="line-850"></span><span>      </span><span id="local-6989586621681036100"><span class="annot"><span class="annottext">Maybe (Tele (Dom LType))
</span><a href="#local-6989586621681036100"><span class="hs-identifier hs-var">mixs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">MaybeT (TCMT IO) (Tele (Dom LType))
-&gt; TCMT IO (Maybe (Tele (Dom LType)))
forall (m :: * -&gt; *) a. MaybeT m a -&gt; m (Maybe a)
</span><span class="hs-identifier hs-var">runMaybeT</span></span><span> </span><span class="annot"><span class="annottext">(MaybeT (TCMT IO) (Tele (Dom LType))
 -&gt; TCMT IO (Maybe (Tele (Dom LType))))
-&gt; MaybeT (TCMT IO) (Tele (Dom LType))
-&gt; TCMT IO (Maybe (Tele (Dom LType)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Dom Type -&gt; MaybeT (TCMT IO) (Dom LType))
-&gt; Tele (Dom Type) -&gt; MaybeT (TCMT IO) (Tele (Dom LType))
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><span class="hs-identifier hs-var">traverse</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Type -&gt; MaybeT (TCMT IO) LType)
-&gt; Dom Type -&gt; MaybeT (TCMT IO) (Dom LType)
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><span class="hs-identifier hs-var">traverse</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TCMT IO (Maybe LType) -&gt; MaybeT (TCMT IO) LType
forall (m :: * -&gt; *) a. m (Maybe a) -&gt; MaybeT m a
</span><span class="hs-identifier hs-var">MaybeT</span></span><span> </span><span class="annot"><span class="annottext">(TCMT IO (Maybe LType) -&gt; MaybeT (TCMT IO) LType)
-&gt; (Type -&gt; TCMT IO (Maybe LType))
-&gt; Type
-&gt; MaybeT (TCMT IO) LType
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Type -&gt; TCMT IO (Maybe LType)
forall (m :: * -&gt; *). MonadReduce m =&gt; Type -&gt; m (Maybe LType)
</span><a href="Agda.TypeChecking.Primitive.Cubical.html#toLType"><span class="hs-identifier hs-var">toLType</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036103"><span class="hs-identifier hs-var">ixs</span></a></span><span>
</span><span id="line-851"></span><span>      </span><span class="annot"><span class="annottext">Maybe (Tele (Dom LType))
-&gt; TCMT IO (Maybe QName)
-&gt; (Tele (Dom LType) -&gt; TCMT IO (Maybe QName))
-&gt; TCMT IO (Maybe QName)
forall a b. Maybe a -&gt; b -&gt; (a -&gt; b) -&gt; b
</span><a href="Agda.Utils.Maybe.html#caseMaybe"><span class="hs-identifier hs-var">caseMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Tele (Dom LType))
</span><a href="#local-6989586621681036100"><span class="hs-identifier hs-var">mixs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe QName -&gt; TCMT IO (Maybe QName)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">Maybe QName
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((Tele (Dom LType) -&gt; TCMT IO (Maybe QName))
 -&gt; TCMT IO (Maybe QName))
-&gt; (Tele (Dom LType) -&gt; TCMT IO (Maybe QName))
-&gt; TCMT IO (Maybe QName)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">Tele (Dom LType)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-852"></span><span>
</span><span id="line-853"></span><span>      </span><span id="local-6989586621681036095"><span class="annot"><span class="annottext">io :: Term
</span><a href="#local-6989586621681036095"><span class="hs-identifier hs-var">io</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Internal.html#Con"><span class="hs-identifier hs-type">Con</span></a></span><span> </span><span id="local-6989586621681036094"><span class="annot"><span class="annottext">ConHead
</span><a href="#local-6989586621681036094"><span class="hs-identifier hs-var">io_c</span></a></span></span><span> </span><span class="annot"><span class="annottext">ConInfo
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TCMT IO Term
forall (m :: * -&gt; *).
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
m Term
</span><a href="Agda.TypeChecking.Monad.Builtin.html#primIOne"><span class="hs-identifier hs-var">primIOne</span></a></span><span>
</span><span id="line-854"></span><span>      </span><span id="local-6989586621681036093"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681036093"><span class="hs-identifier hs-var">iz</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TCMT IO Term
forall (m :: * -&gt; *).
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
m Term
</span><a href="Agda.TypeChecking.Monad.Builtin.html#primIZero"><span class="hs-identifier hs-var">primIZero</span></a></span><span>
</span><span id="line-855"></span><span>
</span><span id="line-856"></span><span>      </span><span id="local-6989586621681036092"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036092"><span class="hs-identifier hs-var">interval</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TCMT IO Type
forall (m :: * -&gt; *).
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
m Type
</span><a href="Agda.TypeChecking.Primitive.Cubical.html#primIntervalType"><span class="hs-identifier hs-var">primIntervalType</span></a></span><span>
</span><span id="line-857"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681036091"><span class="annot"><span class="annottext">telI :: Tele (Dom Type)
</span><a href="#local-6989586621681036091"><span class="hs-identifier hs-var hs-var">telI</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type -&gt; Tele (Dom Type) -&gt; Tele (Dom Type)
</span><a href="Agda.TypeChecking.Primitive.Cubical.html#expTelescope"><span class="hs-identifier hs-var">expTelescope</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036092"><span class="hs-identifier hs-var">interval</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036101"><span class="hs-identifier hs-var">tel</span></a></span><span>
</span><span id="line-858"></span><span>          </span><span id="local-6989586621681036090"><span class="annot"><span class="annottext">sigma :: Substitution
</span><a href="#local-6989586621681036090"><span class="hs-identifier hs-var hs-var">sigma</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Substitution
forall {a}. Sized a =&gt; a -&gt; Substitution
</span><a href="#local-6989586621681036089"><span class="hs-identifier hs-var">sub</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036101"><span class="hs-identifier hs-var">tel</span></a></span><span>
</span><span id="line-859"></span><span>          </span><span id="local-6989586621681036088"><span class="annot"><span class="annottext">dTs :: Type
</span><a href="#local-6989586621681036088"><span class="hs-identifier hs-var hs-var">dTs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Substitution
Substitution' (SubstArg Type)
</span><a href="#local-6989586621681036090"><span class="hs-identifier hs-var">sigma</span></a></span><span> </span><span class="annot"><span class="annottext">Substitution' (SubstArg Type) -&gt; Type -&gt; Type
forall a. Subst a =&gt; Substitution' (SubstArg a) -&gt; a -&gt; a
</span><a href="Agda.TypeChecking.Substitute.Class.html#applySubst"><span class="hs-operator hs-var">`applySubst`</span></a></span><span> </span><span class="annot"><span class="annottext">Sort' Term -&gt; Term -&gt; Type
forall t a. Sort' t -&gt; a -&gt; Type'' t a
</span><a href="Agda.Syntax.Internal.html#El"><span class="hs-identifier hs-var">El</span></a></span><span> </span><span class="annot"><span class="annottext">Sort' Term
</span><a href="#local-6989586621681036108"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">QName -&gt; [Elim' Term] -&gt; Term
</span><a href="Agda.Syntax.Internal.html#Def"><span class="hs-identifier hs-var">Def</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036115"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="annot"><span class="annottext">([Elim' Term] -&gt; Term) -&gt; [Elim' Term] -&gt; Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Arg Term -&gt; Elim' Term) -&gt; [Arg Term] -&gt; [Elim' Term]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Arg Term -&gt; Elim' Term
forall a. Arg a -&gt; Elim' a
</span><a href="Agda.Syntax.Internal.Elim.html#Apply"><span class="hs-identifier hs-var">Apply</span></a></span><span> </span><span class="annot"><span class="annottext">([Arg Term] -&gt; [Elim' Term]) -&gt; [Arg Term] -&gt; [Elim' Term]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; [Arg Term]
forall a t. DeBruijn a =&gt; Tele (Dom t) -&gt; [Arg a]
</span><a href="Agda.TypeChecking.Telescope.html#teleArgs"><span class="hs-identifier hs-var">teleArgs</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036101"><span class="hs-identifier hs-var">tel</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-860"></span><span>
</span><span id="line-861"></span><span>      </span><span id="local-6989586621681036087"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036087"><span class="hs-identifier hs-var">theType</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Type -&gt; Type
forall t. Abstract t =&gt; Tele (Dom Type) -&gt; t -&gt; t
</span><a href="Agda.TypeChecking.Substitute.Class.html#abstract"><span class="hs-identifier hs-var">abstract</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036091"><span class="hs-identifier hs-var">telI</span></a></span><span> </span><span class="annot"><span class="annottext">(Type -&gt; Type) -&gt; TCMT IO Type -&gt; TCMT IO Type
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(TCMT IO Type -&gt; TCMT IO Type) -&gt; TCMT IO Type -&gt; TCMT IO Type
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[ArgName] -&gt; NamesT (TCMT IO) Type -&gt; TCMT IO Type
forall (m :: * -&gt; *) a. [ArgName] -&gt; NamesT m a -&gt; m a
</span><a href="Agda.TypeChecking.Names.html#runNamesT"><span class="hs-identifier hs-var">runNamesT</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">(NamesT (TCMT IO) Type -&gt; TCMT IO Type)
-&gt; NamesT (TCMT IO) Type -&gt; TCMT IO Type
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-862"></span><span>                  </span><span id="local-6989586621681036086"><span class="annot"><span class="annottext">NamesT (TCMT IO) (Abs Type)
</span><a href="#local-6989586621681036086"><span class="hs-identifier hs-var">dT</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Abs Type -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) (Abs Type))
forall (m :: * -&gt; *) a.
(MonadFail m, Subst a) =&gt;
a -&gt; NamesT m (NamesT m a)
</span><a href="Agda.TypeChecking.Names.html#open"><span class="hs-identifier hs-var">open</span></a></span><span> </span><span class="annot"><span class="annottext">(Abs Type -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) (Abs Type)))
-&gt; Abs Type -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) (Abs Type))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; Type -&gt; Abs Type
forall a. ArgName -&gt; a -&gt; Abs a
</span><a href="Agda.Syntax.Internal.html#Abs"><span class="hs-identifier hs-var">Abs</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;i&quot;</span></span><span> </span><span class="annot"><span class="annottext">(Type -&gt; Abs Type) -&gt; Type -&gt; Abs Type
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036088"><span class="hs-identifier hs-var">dTs</span></a></span><span>
</span><span id="line-863"></span><span>                  </span><span class="annot"><span class="annottext">ArgName
-&gt; NamesT (TCMT IO) Type
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Type)
-&gt; NamesT (TCMT IO) Type
forall (m :: * -&gt; *).
(MonadFail m, MonadAddContext m, MonadDebug m) =&gt;
ArgName
-&gt; NamesT m Type
-&gt; (NamesT m Term -&gt; NamesT m Type)
-&gt; NamesT m Type
</span><a href="Agda.TypeChecking.Primitive.Base.html#nPi%27"><span class="hs-identifier hs-var">nPi'</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;phi&quot;</span></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Type
forall (m :: * -&gt; *).
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
m Type
</span><a href="Agda.TypeChecking.Primitive.Cubical.html#primIntervalType"><span class="hs-identifier hs-var">primIntervalType</span></a></span><span> </span><span class="annot"><span class="annottext">((NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Type)
 -&gt; NamesT (TCMT IO) Type)
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Type)
-&gt; NamesT (TCMT IO) Type
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681036085"><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681036085"><span class="hs-identifier hs-var">phi</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-864"></span><span>                   </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Abs Type -&gt; Term -&gt; Type
forall a. Subst a =&gt; Abs a -&gt; SubstArg a -&gt; a
</span><a href="Agda.TypeChecking.Substitute.Class.html#absApp"><span class="hs-identifier hs-var">absApp</span></a></span><span> </span><span class="annot"><span class="annottext">(Abs Type -&gt; Term -&gt; Type)
-&gt; NamesT (TCMT IO) (Abs Type) -&gt; NamesT (TCMT IO) (Term -&gt; Type)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (Abs Type)
</span><a href="#local-6989586621681036086"><span class="hs-identifier hs-var">dT</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (Term -&gt; Type)
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Type
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Term -&gt; NamesT (TCMT IO) Term
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681036093"><span class="hs-identifier hs-var">iz</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Type
-&gt; NamesT (TCMT IO) Type -&gt; NamesT (TCMT IO) Type
forall (m :: * -&gt; *). Applicative m =&gt; m Type -&gt; m Type -&gt; m Type
</span><a href="Agda.TypeChecking.Primitive.Base.html#--%3E"><span class="hs-operator hs-var">--&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Abs Type -&gt; Term -&gt; Type
forall a. Subst a =&gt; Abs a -&gt; SubstArg a -&gt; a
</span><a href="Agda.TypeChecking.Substitute.Class.html#absApp"><span class="hs-identifier hs-var">absApp</span></a></span><span> </span><span class="annot"><span class="annottext">(Abs Type -&gt; Term -&gt; Type)
-&gt; NamesT (TCMT IO) (Abs Type) -&gt; NamesT (TCMT IO) (Term -&gt; Type)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (Abs Type)
</span><a href="#local-6989586621681036086"><span class="hs-identifier hs-var">dT</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (Term -&gt; Type)
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Type
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Term -&gt; NamesT (TCMT IO) Term
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681036095"><span class="hs-identifier hs-var">io</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-865"></span><span>
</span><span id="line-866"></span><span>
</span><span id="line-867"></span><span>      </span><span class="annot"><span class="annottext">ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; TCM ()
forall (m :: * -&gt; *).
MonadDebug m =&gt;
ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; m ()
</span><a href="Agda.TypeChecking.Monad.Debug.html#reportSDoc"><span class="hs-identifier hs-var">reportSDoc</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;tc.data.transp&quot;</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">20</span></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Doc -&gt; TCM ()) -&gt; TCMT IO Doc -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc
</span><span class="hs-string">&quot;transpD:&quot;</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; m Doc -&gt; m Doc -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Type -&gt; TCMT IO Doc
forall a (m :: * -&gt; *). (PrettyTCM a, MonadPretty m) =&gt; a -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#prettyTCM"><span class="hs-identifier hs-var">prettyTCM</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036087"><span class="hs-identifier hs-var">theType</span></a></span><span>
</span><span id="line-868"></span><span>
</span><span id="line-869"></span><span>
</span><span id="line-870"></span><span>      </span><span class="annot"><span class="annottext">TCMT IO (Maybe QName) -&gt; TCMT IO (Maybe QName)
forall a. TCM a -&gt; TCM a
</span><a href="Agda.TypeChecking.Monad.Mutual.html#noMutualBlock"><span class="hs-identifier hs-var">noMutualBlock</span></a></span><span> </span><span class="annot"><span class="annottext">(TCMT IO (Maybe QName) -&gt; TCMT IO (Maybe QName))
-&gt; TCMT IO (Maybe QName) -&gt; TCMT IO (Maybe QName)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-871"></span><span>        </span><span class="annot"><span class="annottext">TCM () -&gt; TCM ()
forall (tcm :: * -&gt; *) a.
(MonadTCEnv tcm, ReadTCState tcm) =&gt;
tcm a -&gt; tcm a
</span><a href="Agda.TypeChecking.Monad.Context.html#inTopContext"><span class="hs-identifier hs-var">inTopContext</span></a></span><span> </span><span class="annot"><span class="annottext">(TCM () -&gt; TCM ()) -&gt; TCM () -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">QName -&gt; Definition -&gt; TCM ()
</span><a href="Agda.TypeChecking.Monad.Signature.html#addConstant"><span class="hs-identifier hs-var">addConstant</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036106"><span class="hs-identifier hs-var">trD</span></a></span><span> </span><span class="annot"><span class="annottext">(Definition -&gt; TCM ()) -&gt; Definition -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-872"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ArgInfo -&gt; QName -&gt; Type -&gt; Language -&gt; Defn -&gt; Definition
</span><a href="Agda.TypeChecking.Monad.Base.html#defaultDefn"><span class="hs-identifier hs-var">defaultDefn</span></a></span><span> </span><span class="annot"><span class="annottext">ArgInfo
</span><a href="Agda.Syntax.Common.html#defaultArgInfo"><span class="hs-identifier hs-var">defaultArgInfo</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036106"><span class="hs-identifier hs-var">trD</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036087"><span class="hs-identifier hs-var">theType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Cubical -&gt; Language
</span><a href="Agda.Syntax.Common.html#Cubical"><span class="hs-identifier hs-var">Cubical</span></a></span><span> </span><span class="annot"><span class="annottext">Cubical
</span><a href="Agda.Syntax.Common.html#CErased"><span class="hs-identifier hs-var">CErased</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Defn
</span><a href="Agda.TypeChecking.Monad.Base.html#emptyFunction"><span class="hs-identifier hs-var">emptyFunction</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-873"></span><span>        </span><span class="hs-keyword">let</span><span>
</span><span id="line-874"></span><span>          </span><span id="local-6989586621681036084"><span class="annot"><span class="annottext">ctel :: Tele (Dom Type)
</span><a href="#local-6989586621681036084"><span class="hs-identifier hs-var hs-var">ctel</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Tele (Dom Type) -&gt; Tele (Dom Type)
forall t. Abstract t =&gt; Tele (Dom Type) -&gt; t -&gt; t
</span><a href="Agda.TypeChecking.Substitute.Class.html#abstract"><span class="hs-identifier hs-var">abstract</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036091"><span class="hs-identifier hs-var">telI</span></a></span><span> </span><span class="annot"><span class="annottext">(Tele (Dom Type) -&gt; Tele (Dom Type))
-&gt; Tele (Dom Type) -&gt; Tele (Dom Type)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Dom Type -&gt; Abs (Tele (Dom Type)) -&gt; Tele (Dom Type)
forall a. a -&gt; Abs (Tele a) -&gt; Tele a
</span><a href="Agda.Syntax.Internal.html#ExtendTel"><span class="hs-identifier hs-var">ExtendTel</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type -&gt; Dom Type
forall a. a -&gt; Dom a
</span><a href="Agda.Syntax.Internal.html#defaultDom"><span class="hs-identifier hs-var">defaultDom</span></a></span><span> </span><span class="annot"><span class="annottext">(Type -&gt; Dom Type) -&gt; Type -&gt; Dom Type
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; SubstArg Type -&gt; Type -&gt; Type
forall a. Subst a =&gt; Nat -&gt; SubstArg a -&gt; a -&gt; a
</span><a href="Agda.TypeChecking.Substitute.Class.html#subst"><span class="hs-identifier hs-var">subst</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Term
SubstArg Type
</span><a href="#local-6989586621681036093"><span class="hs-identifier hs-var">iz</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036088"><span class="hs-identifier hs-var">dTs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ArgName -&gt; Tele (Dom Type) -&gt; Abs (Tele (Dom Type))
forall a. ArgName -&gt; a -&gt; Abs a
</span><a href="Agda.Syntax.Internal.html#Abs"><span class="hs-identifier hs-var">Abs</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;t&quot;</span></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
forall a. Tele a
</span><a href="Agda.Syntax.Internal.html#EmptyTel"><span class="hs-identifier hs-var">EmptyTel</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-875"></span><span>          </span><span id="local-6989586621681036083"><span class="annot"><span class="annottext">ps :: [Arg (Named_ (Pattern' DBPatVar))]
</span><a href="#local-6989586621681036083"><span class="hs-identifier hs-var hs-var">ps</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Boundary -&gt; [Arg (Named_ (Pattern' DBPatVar))]
forall a.
DeBruijn a =&gt;
Tele (Dom Type) -&gt; Boundary -&gt; [NamedArg (Pattern' a)]
</span><a href="Agda.TypeChecking.Telescope.html#telePatterns"><span class="hs-identifier hs-var">telePatterns</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036084"><span class="hs-identifier hs-var">ctel</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-876"></span><span>          </span><span id="local-6989586621681036082"><span class="annot"><span class="annottext">cpi :: ConPatternInfo
</span><a href="#local-6989586621681036082"><span class="hs-identifier hs-var hs-var">cpi</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ConPatternInfo
</span><a href="Agda.Syntax.Internal.html#noConPatternInfo"><span class="hs-identifier hs-var">noConPatternInfo</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">conPType :: Maybe (Arg Type)
</span><a href="Agda.Syntax.Internal.html#conPType"><span class="hs-identifier hs-var">conPType</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Arg Type -&gt; Maybe (Arg Type)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type -&gt; Arg Type
forall e. e -&gt; Arg e
</span><a href="Agda.Syntax.Common.html#defaultArg"><span class="hs-identifier hs-var">defaultArg</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036092"><span class="hs-identifier hs-var">interval</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-877"></span><span>                                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">conPFallThrough :: Bool
</span><a href="Agda.Syntax.Internal.html#conPFallThrough"><span class="hs-identifier hs-var">conPFallThrough</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-878"></span><span>                                 </span><span class="hs-special">}</span><span>
</span><span id="line-879"></span><span>          </span><span class="annot"><a href="#local-6989586621681036080"><span class="hs-identifier hs-type">pat</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Common.html#NamedArg"><span class="hs-identifier hs-type">NamedArg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Internal.html#Pattern%27"><span class="hs-identifier hs-type">Pattern'</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#DBPatVar"><span class="hs-identifier hs-type">DBPatVar</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-880"></span><span>          </span><span id="local-6989586621681036080"><span class="annot"><span class="annottext">pat :: Arg (Named_ (Pattern' DBPatVar))
</span><a href="#local-6989586621681036080"><span class="hs-identifier hs-var hs-var">pat</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Pattern' DBPatVar -&gt; Arg (Named_ (Pattern' DBPatVar))
forall a. a -&gt; NamedArg a
</span><a href="Agda.Syntax.Common.html#defaultNamedArg"><span class="hs-identifier hs-var">defaultNamedArg</span></a></span><span> </span><span class="annot"><span class="annottext">(Pattern' DBPatVar -&gt; Arg (Named_ (Pattern' DBPatVar)))
-&gt; Pattern' DBPatVar -&gt; Arg (Named_ (Pattern' DBPatVar))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ConHead
-&gt; ConPatternInfo
-&gt; [Arg (Named_ (Pattern' DBPatVar))]
-&gt; Pattern' DBPatVar
forall x.
ConHead -&gt; ConPatternInfo -&gt; [NamedArg (Pattern' x)] -&gt; Pattern' x
</span><a href="Agda.Syntax.Internal.html#ConP"><span class="hs-identifier hs-var">ConP</span></a></span><span> </span><span class="annot"><span class="annottext">ConHead
</span><a href="#local-6989586621681036094"><span class="hs-identifier hs-var">io_c</span></a></span><span> </span><span class="annot"><span class="annottext">ConPatternInfo
</span><a href="#local-6989586621681036082"><span class="hs-identifier hs-var">cpi</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-881"></span><span>          </span><span id="local-6989586621681036079"><span class="annot"><span class="annottext">clause :: Clause
</span><a href="#local-6989586621681036079"><span class="hs-identifier hs-var hs-var">clause</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Clause
forall a. Null a =&gt; a
</span><a href="Agda.Utils.Null.html#empty"><span class="hs-identifier hs-var">empty</span></a></span><span>
</span><span id="line-882"></span><span>            </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">clauseTel :: Tele (Dom Type)
</span><a href="Agda.Syntax.Internal.html#clauseTel"><span class="hs-identifier hs-var">clauseTel</span></a></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036084"><span class="hs-identifier hs-var">ctel</span></a></span><span>
</span><span id="line-883"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">namedClausePats :: [Arg (Named_ (Pattern' DBPatVar))]
</span><a href="Agda.Syntax.Internal.html#namedClausePats"><span class="hs-identifier hs-var">namedClausePats</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Arg (Named_ (Pattern' DBPatVar))]
-&gt; [Arg (Named_ (Pattern' DBPatVar))]
forall a. [a] -&gt; [a]
</span><span class="hs-identifier hs-var">init</span></span><span> </span><span class="annot"><span class="annottext">[Arg (Named_ (Pattern' DBPatVar))]
</span><a href="#local-6989586621681036083"><span class="hs-identifier hs-var">ps</span></a></span><span> </span><span class="annot"><span class="annottext">[Arg (Named_ (Pattern' DBPatVar))]
-&gt; [Arg (Named_ (Pattern' DBPatVar))]
-&gt; [Arg (Named_ (Pattern' DBPatVar))]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Arg (Named_ (Pattern' DBPatVar))
</span><a href="#local-6989586621681036080"><span class="hs-identifier hs-var">pat</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Arg (Named_ (Pattern' DBPatVar))]
-&gt; Arg (Named_ (Pattern' DBPatVar))
forall a. [a] -&gt; a
</span><span class="hs-identifier hs-var">last</span></span><span> </span><span class="annot"><span class="annottext">[Arg (Named_ (Pattern' DBPatVar))]
</span><a href="#local-6989586621681036083"><span class="hs-identifier hs-var">ps</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-884"></span><span>
</span><span id="line-885"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">clauseBody :: Maybe Term
</span><a href="Agda.Syntax.Internal.html#clauseBody"><span class="hs-identifier hs-var">clauseBody</span></a></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term -&gt; Maybe Term
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(Term -&gt; Maybe Term) -&gt; Term -&gt; Maybe Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Term
</span><a href="Agda.Syntax.Internal.html#var"><span class="hs-identifier hs-var">var</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">0</span></span><span>
</span><span id="line-886"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">clauseType :: Maybe (Arg Type)
</span><a href="Agda.Syntax.Internal.html#clauseType"><span class="hs-identifier hs-var">clauseType</span></a></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Arg Type -&gt; Maybe (Arg Type)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(Arg Type -&gt; Maybe (Arg Type)) -&gt; Arg Type -&gt; Maybe (Arg Type)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Type -&gt; Arg Type
forall e. e -&gt; Arg e
</span><a href="Agda.Syntax.Common.html#defaultArg"><span class="hs-identifier hs-var">defaultArg</span></a></span><span> </span><span class="annot"><span class="annottext">(Type -&gt; Arg Type) -&gt; Type -&gt; Arg Type
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Type -&gt; Type
forall a. Subst a =&gt; Nat -&gt; a -&gt; a
</span><a href="Agda.TypeChecking.Substitute.Class.html#raise"><span class="hs-identifier hs-var">raise</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">(Type -&gt; Type) -&gt; Type -&gt; Type
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; SubstArg Type -&gt; Type -&gt; Type
forall a. Subst a =&gt; Nat -&gt; SubstArg a -&gt; a -&gt; a
</span><a href="Agda.TypeChecking.Substitute.Class.html#subst"><span class="hs-identifier hs-var">subst</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Term
SubstArg Type
</span><a href="#local-6989586621681036095"><span class="hs-identifier hs-var">io</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036088"><span class="hs-identifier hs-var">dTs</span></a></span><span>
</span><span id="line-887"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">clauseRecursive :: Maybe Bool
</span><a href="Agda.Syntax.Internal.html#clauseRecursive"><span class="hs-identifier hs-var">clauseRecursive</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Maybe Bool
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>  </span><span class="hs-comment">-- non-recursive</span><span>
</span><span id="line-888"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">clauseUnreachable :: Maybe Bool
</span><a href="Agda.Syntax.Internal.html#clauseUnreachable"><span class="hs-identifier hs-var">clauseUnreachable</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Maybe Bool
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-889"></span><span>            </span><span class="hs-special">}</span><span>
</span><span id="line-890"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681036048"><span class="annot"><span class="annottext">debugNoTransp :: c -&gt; m ()
</span><a href="#local-6989586621681036048"><span class="hs-identifier hs-var hs-var">debugNoTransp</span></a></span></span><span> </span><span id="local-6989586621681036047"><span class="annot"><span class="annottext">c
</span><a href="#local-6989586621681036047"><span class="hs-identifier hs-var">cl</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">c -&gt; (Abs a -&gt; m ()) -&gt; m ()
forall (m :: * -&gt; *) a c b.
(MonadTCEnv m, ReadTCState m, LensClosure a c) =&gt;
c -&gt; (a -&gt; m b) -&gt; m b
</span><a href="Agda.TypeChecking.Monad.Closure.html#enterClosure"><span class="hs-identifier hs-var">enterClosure</span></a></span><span> </span><span class="annot"><span class="annottext">c
</span><a href="#local-6989586621681036047"><span class="hs-identifier hs-var">cl</span></a></span><span> </span><span class="annot"><span class="annottext">((Abs a -&gt; m ()) -&gt; m ()) -&gt; (Abs a -&gt; m ()) -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681036045"><span class="annot"><span class="annottext">Abs a
</span><a href="#local-6989586621681036045"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-891"></span><span>              </span><span class="annot"><span class="annottext">ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; m ()
forall (m :: * -&gt; *).
MonadDebug m =&gt;
ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; m ()
</span><a href="Agda.TypeChecking.Monad.Debug.html#reportSDoc"><span class="hs-identifier hs-var">reportSDoc</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;tc.data.transp&quot;</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">20</span></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Doc -&gt; m ()) -&gt; TCMT IO Doc -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(ArgName, Dom Type) -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall b (m :: * -&gt; *) a.
(AddContext b, MonadAddContext m) =&gt;
b -&gt; m a -&gt; m a
</span><a href="Agda.TypeChecking.Monad.Context.html#addContext"><span class="hs-identifier hs-var">addContext</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;i&quot;</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Dom Type
HasCallStack =&gt; Dom Type
</span><a href="Agda.Syntax.Internal.html#__DUMMY_DOM__"><span class="hs-identifier hs-var">__DUMMY_DOM__</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(TCMT IO Doc -&gt; TCMT IO Doc) -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-892"></span><span>                </span><span class="annot"><span class="annottext">TCMT IO Doc
</span><span class="hs-string">&quot;could not transp&quot;</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; m Doc -&gt; m Doc -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; TCMT IO Doc
forall a (m :: * -&gt; *). (PrettyTCM a, MonadPretty m) =&gt; a -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#prettyTCM"><span class="hs-identifier hs-var">prettyTCM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Abs a -&gt; a
forall a. Subst a =&gt; Abs a -&gt; a
</span><a href="Agda.TypeChecking.Substitute.Class.html#absBody"><span class="hs-identifier hs-var">absBody</span></a></span><span> </span><span class="annot"><span class="annottext">Abs a
</span><a href="#local-6989586621681036045"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-893"></span><span>        </span><span class="hs-comment">-- TODO: if no params nor indexes trD phi u0 = u0.</span><span>
</span><span id="line-894"></span><span>        </span><span id="local-6989586621681036042"><span class="annot"><span class="annottext">Either (Closure (Abs Type)) [Clause]
</span><a href="#local-6989586621681036042"><span class="hs-identifier hs-var">ecs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TCM [Clause] -&gt; TCM (Either (Closure (Abs Type)) [Clause])
forall a. TCM a -&gt; TCM (Either (Closure (Abs Type)) a)
</span><a href="Agda.TypeChecking.Primitive.Cubical.html#tryTranspError"><span class="hs-identifier hs-var">tryTranspError</span></a></span><span> </span><span class="annot"><span class="annottext">(TCM [Clause] -&gt; TCM (Either (Closure (Abs Type)) [Clause]))
-&gt; TCM [Clause] -&gt; TCM (Either (Closure (Abs Type)) [Clause])
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Clause
</span><a href="#local-6989586621681036079"><span class="hs-identifier hs-var">clause</span></a></span><span class="annot"><span class="annottext">Clause -&gt; [Clause] -&gt; [Clause]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([Clause] -&gt; [Clause]) -&gt; TCM [Clause] -&gt; TCM [Clause]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">QName
-&gt; Bool
-&gt; Maybe QName
-&gt; Nat
-&gt; Nat
-&gt; Tele (Dom Type)
-&gt; Tele (Dom Type)
-&gt; Substitution
-&gt; Type
-&gt; [QName]
-&gt; TCM [Clause]
</span><a href="Agda.TypeChecking.Rules.Data.html#defineConClause"><span class="hs-identifier hs-var">defineConClause</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036106"><span class="hs-identifier hs-var">trD</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool) -&gt; Bool -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[QName] -&gt; Bool
forall a. Null a =&gt; a -&gt; Bool
</span><a href="Agda.Utils.Null.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">[QName]
</span><a href="#local-6989586621681036112"><span class="hs-identifier hs-var">pathCons</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe QName
</span><a href="#local-6989586621681036114"><span class="hs-identifier hs-var">mtrX</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681036110"><span class="hs-identifier hs-var">npars</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681036109"><span class="hs-identifier hs-var">nixs</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036103"><span class="hs-identifier hs-var">ixs</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036091"><span class="hs-identifier hs-var">telI</span></a></span><span> </span><span class="annot"><span class="annottext">Substitution
</span><a href="#local-6989586621681036090"><span class="hs-identifier hs-var">sigma</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036088"><span class="hs-identifier hs-var">dTs</span></a></span><span> </span><span class="annot"><span class="annottext">[QName]
</span><a href="#local-6989586621681036113"><span class="hs-identifier hs-var">cons</span></a></span><span>
</span><span id="line-895"></span><span>        </span><span class="annot"><span class="annottext">TCM (Either (Closure (Abs Type)) [Clause])
-&gt; (Closure (Abs Type) -&gt; TCMT IO (Maybe QName))
-&gt; ([Clause] -&gt; TCMT IO (Maybe QName))
-&gt; TCMT IO (Maybe QName)
forall (m :: * -&gt; *) a b c.
Monad m =&gt;
m (Either a b) -&gt; (a -&gt; m c) -&gt; (b -&gt; m c) -&gt; m c
</span><a href="Agda.Utils.Either.html#caseEitherM"><span class="hs-identifier hs-var">caseEitherM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Either (Closure (Abs Type)) [Clause]
-&gt; TCM (Either (Closure (Abs Type)) [Clause])
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Either (Closure (Abs Type)) [Clause]
</span><a href="#local-6989586621681036042"><span class="hs-identifier hs-var">ecs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681036038"><span class="annot"><span class="annottext">Closure (Abs Type)
</span><a href="#local-6989586621681036038"><span class="hs-identifier hs-var">cl</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Closure (Abs Type) -&gt; TCM ()
forall {m :: * -&gt; *} {a} {c}.
(MonadTCEnv m, ReadTCState m, LensClosure (Abs a) c, MonadDebug m,
 PrettyTCM a, Subst a) =&gt;
c -&gt; m ()
</span><a href="#local-6989586621681036048"><span class="hs-identifier hs-var">debugNoTransp</span></a></span><span> </span><span class="annot"><span class="annottext">Closure (Abs Type)
</span><a href="#local-6989586621681036038"><span class="hs-identifier hs-var">cl</span></a></span><span> </span><span class="annot"><span class="annottext">TCM () -&gt; TCMT IO (Maybe QName) -&gt; TCMT IO (Maybe QName)
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Maybe QName -&gt; TCMT IO (Maybe QName)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">Maybe QName
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(([Clause] -&gt; TCMT IO (Maybe QName)) -&gt; TCMT IO (Maybe QName))
-&gt; ([Clause] -&gt; TCMT IO (Maybe QName)) -&gt; TCMT IO (Maybe QName)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681036037"><span class="annot"><span class="annottext">[Clause]
</span><a href="#local-6989586621681036037"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-896"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621681036036"><span class="annot"><span class="annottext">Maybe SplitTree
</span><a href="#local-6989586621681036036"><span class="hs-identifier hs-var">mst</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681036035"><span class="annot"><span class="annottext">CompiledClauses
</span><a href="#local-6989586621681036035"><span class="hs-identifier hs-var">cc</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe (QName, Type)
-&gt; [Clause] -&gt; TCMT IO (Maybe SplitTree, Bool, CompiledClauses)
</span><a href="Agda.TypeChecking.CompiledClause.Compile.html#compileClauses"><span class="hs-identifier hs-var">compileClauses</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (QName, Type)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">[Clause]
</span><a href="#local-6989586621681036037"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-897"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681036034"><span class="annot"><span class="annottext">fun :: Defn
</span><a href="#local-6989586621681036034"><span class="hs-identifier hs-var hs-var">fun</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Defn
</span><a href="Agda.TypeChecking.Monad.Base.html#emptyFunction"><span class="hs-identifier hs-var">emptyFunction</span></a></span><span>
</span><span id="line-898"></span><span>                  </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">funClauses :: [Clause]
</span><a href="Agda.TypeChecking.Monad.Base.html#funClauses"><span class="hs-identifier hs-var">funClauses</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Clause]
</span><a href="#local-6989586621681036037"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-899"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">funCompiled :: Maybe CompiledClauses
</span><a href="Agda.TypeChecking.Monad.Base.html#funCompiled"><span class="hs-identifier hs-var">funCompiled</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CompiledClauses -&gt; Maybe CompiledClauses
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">CompiledClauses
</span><a href="#local-6989586621681036035"><span class="hs-identifier hs-var">cc</span></a></span><span>
</span><span id="line-900"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">funSplitTree :: Maybe SplitTree
</span><a href="Agda.TypeChecking.Monad.Base.html#funSplitTree"><span class="hs-identifier hs-var">funSplitTree</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe SplitTree
</span><a href="#local-6989586621681036036"><span class="hs-identifier hs-var">mst</span></a></span><span>
</span><span id="line-901"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">funProjection :: Maybe Projection
</span><a href="Agda.TypeChecking.Monad.Base.html#funProjection"><span class="hs-identifier hs-var">funProjection</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Projection
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-902"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">funMutual :: Maybe [QName]
</span><a href="Agda.TypeChecking.Monad.Base.html#funMutual"><span class="hs-identifier hs-var">funMutual</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[QName] -&gt; Maybe [QName]
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-903"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">funTerminates :: Maybe Bool
</span><a href="Agda.TypeChecking.Monad.Base.html#funTerminates"><span class="hs-identifier hs-var">funTerminates</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Maybe Bool
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-904"></span><span>                  </span><span class="hs-special">}</span><span>
</span><span id="line-905"></span><span>        </span><span class="annot"><span class="annottext">TCM () -&gt; TCM ()
forall (tcm :: * -&gt; *) a.
(MonadTCEnv tcm, ReadTCState tcm) =&gt;
tcm a -&gt; tcm a
</span><a href="Agda.TypeChecking.Monad.Context.html#inTopContext"><span class="hs-identifier hs-var">inTopContext</span></a></span><span> </span><span class="annot"><span class="annottext">(TCM () -&gt; TCM ()) -&gt; TCM () -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">QName -&gt; Definition -&gt; TCM ()
</span><a href="Agda.TypeChecking.Monad.Signature.html#addConstant"><span class="hs-identifier hs-var">addConstant</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036106"><span class="hs-identifier hs-var">trD</span></a></span><span> </span><span class="annot"><span class="annottext">(Definition -&gt; TCM ()) -&gt; Definition -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-906"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ArgInfo -&gt; QName -&gt; Type -&gt; Language -&gt; Defn -&gt; Definition
</span><a href="Agda.TypeChecking.Monad.Base.html#defaultDefn"><span class="hs-identifier hs-var">defaultDefn</span></a></span><span> </span><span class="annot"><span class="annottext">ArgInfo
</span><a href="Agda.Syntax.Common.html#defaultArgInfo"><span class="hs-identifier hs-var">defaultArgInfo</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036106"><span class="hs-identifier hs-var">trD</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036087"><span class="hs-identifier hs-var">theType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Cubical -&gt; Language
</span><a href="Agda.Syntax.Common.html#Cubical"><span class="hs-identifier hs-var">Cubical</span></a></span><span> </span><span class="annot"><span class="annottext">Cubical
</span><a href="Agda.Syntax.Common.html#CErased"><span class="hs-identifier hs-var">CErased</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Defn
</span><a href="#local-6989586621681036034"><span class="hs-identifier hs-var">fun</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-907"></span><span>            </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">defNoCompilation :: Bool
</span><a href="Agda.TypeChecking.Monad.Base.html#defNoCompilation"><span class="hs-identifier hs-var">defNoCompilation</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-908"></span><span>            </span><span class="hs-special">}</span><span>
</span><span id="line-909"></span><span>        </span><span class="annot"><span class="annottext">ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; TCM ()
forall (m :: * -&gt; *).
MonadDebug m =&gt;
ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; m ()
</span><a href="Agda.TypeChecking.Monad.Debug.html#reportSDoc"><span class="hs-identifier hs-var">reportSDoc</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;tc.data.transp&quot;</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">20</span></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Doc -&gt; TCM ()) -&gt; TCMT IO Doc -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[TCMT IO Doc] -&gt; TCMT IO Doc
forall (m :: * -&gt; *) (t :: * -&gt; *).
(Applicative m, Foldable t) =&gt;
t (m Doc) -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#sep"><span class="hs-identifier hs-var">sep</span></a></span><span>
</span><span id="line-910"></span><span>          </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc
</span><span class="hs-string">&quot;transp: compiled clauses of &quot;</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; m Doc -&gt; m Doc -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">QName -&gt; TCMT IO Doc
forall a (m :: * -&gt; *). (PrettyTCM a, MonadPretty m) =&gt; a -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#prettyTCM"><span class="hs-identifier hs-var">prettyTCM</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036106"><span class="hs-identifier hs-var">trD</span></a></span><span>
</span><span id="line-911"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Nat -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Functor m =&gt; Nat -&gt; m Doc -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#nest"><span class="hs-identifier hs-var">nest</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Doc -&gt; TCMT IO Doc) -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; TCMT IO Doc
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Doc -&gt; TCMT IO Doc) -&gt; Doc -&gt; TCMT IO Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">CompiledClauses -&gt; Doc
forall a. Pretty a =&gt; a -&gt; Doc
</span><a href="Agda.Utils.Pretty.html#pretty"><span class="hs-identifier hs-var">P.pretty</span></a></span><span> </span><span class="annot"><span class="annottext">CompiledClauses
</span><a href="#local-6989586621681036035"><span class="hs-identifier hs-var">cc</span></a></span><span>
</span><span id="line-912"></span><span>          </span><span class="hs-special">]</span><span>
</span><span id="line-913"></span><span>
</span><span id="line-914"></span><span>        </span><span class="annot"><span class="annottext">Maybe QName -&gt; TCMT IO (Maybe QName)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Maybe QName -&gt; TCMT IO (Maybe QName))
-&gt; Maybe QName -&gt; TCMT IO (Maybe QName)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">QName -&gt; Maybe QName
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036106"><span class="hs-identifier hs-var">trD</span></a></span><span>
</span><span id="line-915"></span><span>
</span><span id="line-916"></span><span>
</span><span id="line-917"></span><span>    </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#Datatype"><span class="hs-identifier hs-type">Datatype</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe QName -&gt; TCMT IO (Maybe QName)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">Maybe QName
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-918"></span><span>    </span><span class="annot"><span class="annottext">Defn
</span><span class="hs-identifier">_</span></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TCMT IO (Maybe QName)
forall a. HasCallStack =&gt; a
</span><a href="Agda.Utils.Impossible.html#__IMPOSSIBLE__"><span class="hs-identifier hs-var">__IMPOSSIBLE__</span></a></span><span>
</span><span id="line-919"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-920"></span><span>    </span><span class="hs-comment">-- &#915;, &#916;^I, i : I |- sub (&#915; &#8866; &#916;) : &#915;, &#916;</span><span>
</span><span id="line-921"></span><span>    </span><span id="local-6989586621681036089"><span class="annot"><span class="annottext">sub :: a -&gt; Substitution
</span><a href="#local-6989586621681036089"><span class="hs-identifier hs-var hs-var">sub</span></a></span></span><span> </span><span id="local-6989586621681036030"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681036030"><span class="hs-identifier hs-var">tel</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Substitution
</span><a href="Agda.TypeChecking.Primitive.Cubical.html#expS"><span class="hs-identifier hs-var">expS</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; Nat
forall a. Sized a =&gt; a -&gt; Nat
</span><a href="Agda.Utils.Size.html#size"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681036030"><span class="hs-identifier hs-var">tel</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-922"></span><span>
</span><span id="line-923"></span><span class="annot"><a href="Agda.TypeChecking.Rules.Data.html#defineConClause"><span class="hs-identifier hs-type">defineConClause</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Abstract.Name.html#QName"><span class="hs-identifier hs-type">QName</span></a></span><span> </span><span class="hs-comment">-- ^ trD</span><span>
</span><span id="line-924"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>  </span><span class="hs-comment">-- ^ HIT</span><span>
</span><span id="line-925"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Agda.Syntax.Abstract.Name.html#QName"><span class="hs-identifier hs-type">QName</span></a></span><span> </span><span class="hs-comment">-- ^ trX</span><span>
</span><span id="line-926"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Common.html#Nat"><span class="hs-identifier hs-type">Nat</span></a></span><span>  </span><span class="hs-comment">-- ^ npars = size &#916;</span><span>
</span><span id="line-927"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Common.html#Nat"><span class="hs-identifier hs-type">Nat</span></a></span><span>  </span><span class="hs-comment">-- ^ nixs = size X</span><span>
</span><span id="line-928"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Telescope"><span class="hs-identifier hs-type">Telescope</span></a></span><span> </span><span class="hs-comment">-- ^ &#916; &#8866; X</span><span>
</span><span id="line-929"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Telescope"><span class="hs-identifier hs-type">Telescope</span></a></span><span> </span><span class="hs-comment">-- ^ (&#916;.X)^I</span><span>
</span><span id="line-930"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Substitution"><span class="hs-identifier hs-type">Substitution</span></a></span><span> </span><span class="hs-comment">-- ^ (&#916;.X)^I, i : I &#8866; &#963; : &#916;.X</span><span>
</span><span id="line-931"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span>       </span><span class="hs-comment">-- ^ (&#916;.X)^I, i : I &#8866; D[&#948; i,x i] -- datatype</span><span>
</span><span id="line-932"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Agda.Syntax.Abstract.Name.html#QName"><span class="hs-identifier hs-type">QName</span></a></span><span class="hs-special">]</span><span>      </span><span class="hs-comment">-- ^ Constructors</span><span>
</span><span id="line-933"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#TCM"><span class="hs-identifier hs-type">TCM</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Agda.Syntax.Internal.html#Clause"><span class="hs-identifier hs-type">Clause</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-934"></span><span id="defineConClause"><span class="annot"><span class="annottext">defineConClause :: QName
-&gt; Bool
-&gt; Maybe QName
-&gt; Nat
-&gt; Nat
-&gt; Tele (Dom Type)
-&gt; Tele (Dom Type)
-&gt; Substitution
-&gt; Type
-&gt; [QName]
-&gt; TCM [Clause]
</span><a href="Agda.TypeChecking.Rules.Data.html#defineConClause"><span class="hs-identifier hs-var hs-var">defineConClause</span></a></span></span><span> </span><span id="local-6989586621681036029"><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036029"><span class="hs-identifier hs-var">trD'</span></a></span></span><span> </span><span id="local-6989586621681036028"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681036028"><span class="hs-identifier hs-var">isHIT</span></a></span></span><span> </span><span id="local-6989586621681036027"><span class="annot"><span class="annottext">Maybe QName
</span><a href="#local-6989586621681036027"><span class="hs-identifier hs-var">mtrX</span></a></span></span><span> </span><span id="local-6989586621681036026"><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681036026"><span class="hs-identifier hs-var">npars</span></a></span></span><span> </span><span id="local-6989586621681036025"><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681036025"><span class="hs-identifier hs-var">nixs</span></a></span></span><span> </span><span id="local-6989586621681036024"><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036024"><span class="hs-identifier hs-var">xTel'</span></a></span></span><span> </span><span id="local-6989586621681036023"><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036023"><span class="hs-identifier hs-var">telI</span></a></span></span><span> </span><span id="local-6989586621681036022"><span class="annot"><span class="annottext">Substitution
</span><a href="#local-6989586621681036022"><span class="hs-identifier hs-var">sigma</span></a></span></span><span> </span><span id="local-6989586621681036021"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036021"><span class="hs-identifier hs-var">dT'</span></a></span></span><span> </span><span id="local-6989586621681036020"><span class="annot"><span class="annottext">[QName]
</span><a href="#local-6989586621681036020"><span class="hs-identifier hs-var">cnames</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-935"></span><span>
</span><span id="line-936"></span><span>  </span><span class="annot"><span class="annottext">Bool -&gt; TCM () -&gt; TCM ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">unless</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe QName -&gt; Bool
forall a. Maybe a -&gt; Bool
</span><span class="hs-identifier hs-var">isNothing</span></span><span> </span><span class="annot"><span class="annottext">Maybe QName
</span><a href="#local-6989586621681036027"><span class="hs-identifier hs-var">mtrX</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681036025"><span class="hs-identifier hs-var">nixs</span></a></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Nat -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(TCM () -&gt; TCM ()) -&gt; TCM () -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TCM ()
forall a. HasCallStack =&gt; a
</span><a href="Agda.Utils.Impossible.html#__IMPOSSIBLE__"><span class="hs-identifier hs-var">__IMPOSSIBLE__</span></a></span><span>
</span><span id="line-937"></span><span>
</span><span id="line-938"></span><span>  </span><span id="local-6989586621681036018"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681036018"><span class="hs-identifier hs-var">io</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TCMT IO Term
forall (m :: * -&gt; *).
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
m Term
</span><a href="Agda.TypeChecking.Monad.Builtin.html#primIOne"><span class="hs-identifier hs-var">primIOne</span></a></span><span>
</span><span id="line-939"></span><span>  </span><span id="local-6989586621681036017"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681036017"><span class="hs-identifier hs-var">iz</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TCMT IO Term
forall (m :: * -&gt; *).
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
m Term
</span><a href="Agda.TypeChecking.Monad.Builtin.html#primIZero"><span class="hs-identifier hs-var">primIZero</span></a></span><span>
</span><span id="line-940"></span><span>  </span><span id="local-6989586621681036016"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681036016"><span class="hs-identifier hs-var">tHComp</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TCMT IO Term
forall (m :: * -&gt; *).
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
m Term
</span><a href="Agda.TypeChecking.Monad.Builtin.html#primHComp"><span class="hs-identifier hs-var">primHComp</span></a></span><span>
</span><span id="line-941"></span><span>  </span><span id="local-6989586621681036015"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681036015"><span class="hs-identifier hs-var">tINeg</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TCMT IO Term
forall (m :: * -&gt; *).
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
m Term
</span><a href="Agda.TypeChecking.Monad.Builtin.html#primINeg"><span class="hs-identifier hs-var">primINeg</span></a></span><span>
</span><span id="line-942"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681035998"><span class="annot"><span class="annottext">max :: NamesT m Term -&gt; NamesT m Term -&gt; NamesT m Term
</span><a href="#local-6989586621681035998"><span class="hs-identifier hs-var hs-var">max</span></a></span></span><span> </span><span id="local-6989586621681035997"><span class="annot"><span class="annottext">NamesT m Term
</span><a href="#local-6989586621681035997"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621681035996"><span class="annot"><span class="annottext">NamesT m Term
</span><a href="#local-6989586621681035996"><span class="hs-identifier hs-var">j</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m Term -&gt; NamesT m Term
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; NamesT m a
</span><a href="Agda.TypeChecking.Names.html#cl"><span class="hs-identifier hs-var">cl</span></a></span><span> </span><span class="annot"><span class="annottext">m Term
forall (m :: * -&gt; *).
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
m Term
</span><a href="Agda.TypeChecking.Monad.Builtin.html#primIMax"><span class="hs-identifier hs-var">primIMax</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT m Term -&gt; NamesT m Term -&gt; NamesT m Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT m Term
</span><a href="#local-6989586621681035997"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT m Term -&gt; NamesT m Term -&gt; NamesT m Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT m Term
</span><a href="#local-6989586621681035996"><span class="hs-identifier hs-var">j</span></a></span><span>
</span><span id="line-943"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681035980"><span class="annot"><span class="annottext">min :: NamesT m Term -&gt; NamesT m Term -&gt; NamesT m Term
</span><a href="#local-6989586621681035980"><span class="hs-identifier hs-var hs-var">min</span></a></span></span><span> </span><span id="local-6989586621681035979"><span class="annot"><span class="annottext">NamesT m Term
</span><a href="#local-6989586621681035979"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621681035978"><span class="annot"><span class="annottext">NamesT m Term
</span><a href="#local-6989586621681035978"><span class="hs-identifier hs-var">j</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m Term -&gt; NamesT m Term
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; NamesT m a
</span><a href="Agda.TypeChecking.Names.html#cl"><span class="hs-identifier hs-var">cl</span></a></span><span> </span><span class="annot"><span class="annottext">m Term
forall (m :: * -&gt; *).
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
m Term
</span><a href="Agda.TypeChecking.Monad.Builtin.html#primIMin"><span class="hs-identifier hs-var">primIMin</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT m Term -&gt; NamesT m Term -&gt; NamesT m Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT m Term
</span><a href="#local-6989586621681035979"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT m Term -&gt; NamesT m Term -&gt; NamesT m Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT m Term
</span><a href="#local-6989586621681035978"><span class="hs-identifier hs-var">j</span></a></span><span>
</span><span id="line-944"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681035963"><span class="annot"><span class="annottext">neg :: NamesT m Term -&gt; NamesT m Term
</span><a href="#local-6989586621681035963"><span class="hs-identifier hs-var hs-var">neg</span></a></span></span><span> </span><span id="local-6989586621681035962"><span class="annot"><span class="annottext">NamesT m Term
</span><a href="#local-6989586621681035962"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m Term -&gt; NamesT m Term
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; NamesT m a
</span><a href="Agda.TypeChecking.Names.html#cl"><span class="hs-identifier hs-var">cl</span></a></span><span> </span><span class="annot"><span class="annottext">m Term
forall (m :: * -&gt; *).
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
m Term
</span><a href="Agda.TypeChecking.Monad.Builtin.html#primINeg"><span class="hs-identifier hs-var">primINeg</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT m Term -&gt; NamesT m Term -&gt; NamesT m Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT m Term
</span><a href="#local-6989586621681035962"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-945"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681035961"><span class="annot"><span class="annottext">hcomp :: NamesT (TCMT IO) Type
-&gt; [(NamesT (TCMT IO) Term, NamesT (TCMT IO) Term)]
-&gt; NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035961"><span class="hs-identifier hs-var hs-var">hcomp</span></a></span></span><span> </span><span id="local-6989586621681035960"><span class="annot"><span class="annottext">NamesT (TCMT IO) Type
</span><a href="#local-6989586621681035960"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621681035959"><span class="annot"><span class="annottext">[(NamesT (TCMT IO) Term, NamesT (TCMT IO) Term)]
</span><a href="#local-6989586621681035959"><span class="hs-identifier hs-var">sys</span></a></span></span><span> </span><span id="local-6989586621681035958"><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035958"><span class="hs-identifier hs-var">u0</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-946"></span><span>          </span><span id="local-6989586621681035957"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035957"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Type
</span><a href="#local-6989586621681035960"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-947"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.TypeChecking.Primitive.Cubical.html#LEl"><span class="hs-identifier hs-type">LEl</span></a></span><span> </span><span id="local-6989586621681035955"><span class="annot"><span class="annottext">Level
</span><a href="#local-6989586621681035955"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681035954"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035954"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Type -&gt; NamesT (TCMT IO) (Maybe LType)
forall (m :: * -&gt; *). MonadReduce m =&gt; Type -&gt; m (Maybe LType)
</span><a href="Agda.TypeChecking.Primitive.Cubical.html#toLType"><span class="hs-identifier hs-var">toLType</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035957"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-948"></span><span>          </span><span id="local-6989586621681035953"><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035953"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Term -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) Term)
forall (m :: * -&gt; *) a.
(MonadFail m, Subst a) =&gt;
a -&gt; NamesT m (NamesT m a)
</span><a href="Agda.TypeChecking.Names.html#open"><span class="hs-identifier hs-var">open</span></a></span><span> </span><span class="annot"><span class="annottext">(Term -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) Term))
-&gt; Term -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) Term)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Level -&gt; Term
</span><a href="Agda.Syntax.Internal.html#Level"><span class="hs-identifier hs-var">Level</span></a></span><span> </span><span class="annot"><span class="annottext">Level
</span><a href="#local-6989586621681035955"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-949"></span><span>          </span><span id="local-6989586621681035952"><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035952"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Term -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) Term)
forall (m :: * -&gt; *) a.
(MonadFail m, Subst a) =&gt;
a -&gt; NamesT m (NamesT m a)
</span><a href="Agda.TypeChecking.Names.html#open"><span class="hs-identifier hs-var">open</span></a></span><span> </span><span class="annot"><span class="annottext">(Term -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) Term))
-&gt; Term -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) Term)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035954"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-950"></span><span>          </span><span id="local-6989586621681035951"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035951"><span class="hs-identifier hs-var">face</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(NamesT (TCMT IO) Term
 -&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; NamesT (TCMT IO) Term
-&gt; [NamesT (TCMT IO) Term]
-&gt; NamesT (TCMT IO) Term
forall (t :: * -&gt; *) a b.
Foldable t =&gt;
(a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldr</span></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall {m :: * -&gt; *}.
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
NamesT m Term -&gt; NamesT m Term -&gt; NamesT m Term
</span><a href="#local-6989586621681035998"><span class="hs-identifier hs-var">max</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term -&gt; NamesT (TCMT IO) Term
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681036017"><span class="hs-identifier hs-var">iz</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([NamesT (TCMT IO) Term] -&gt; NamesT (TCMT IO) Term)
-&gt; [NamesT (TCMT IO) Term] -&gt; NamesT (TCMT IO) Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">((NamesT (TCMT IO) Term, NamesT (TCMT IO) Term)
 -&gt; NamesT (TCMT IO) Term)
-&gt; [(NamesT (TCMT IO) Term, NamesT (TCMT IO) Term)]
-&gt; [NamesT (TCMT IO) Term]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">(NamesT (TCMT IO) Term, NamesT (TCMT IO) Term)
-&gt; NamesT (TCMT IO) Term
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span> </span><span class="annot"><span class="annottext">([(NamesT (TCMT IO) Term, NamesT (TCMT IO) Term)]
 -&gt; [NamesT (TCMT IO) Term])
-&gt; [(NamesT (TCMT IO) Term, NamesT (TCMT IO) Term)]
-&gt; [NamesT (TCMT IO) Term]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[(NamesT (TCMT IO) Term, NamesT (TCMT IO) Term)]
</span><a href="#local-6989586621681035959"><span class="hs-identifier hs-var">sys</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-951"></span><span>          </span><span id="local-6989586621681035949"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035949"><span class="hs-identifier hs-var">sys</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ArgName
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *).
MonadFail m =&gt;
ArgName -&gt; (NamesT m Term -&gt; NamesT m Term) -&gt; NamesT m Term
</span><a href="Agda.TypeChecking.Names.html#lam"><span class="hs-identifier hs-var">lam</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;i'&quot;</span></span><span> </span><span class="annot"><span class="annottext">((NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
 -&gt; NamesT (TCMT IO) Term)
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; NamesT (TCMT IO) Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035948"><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035948"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term
-&gt; [(NamesT (TCMT IO) Term, NamesT (TCMT IO) Term)]
-&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *).
HasBuiltins m =&gt;
NamesT m Term
-&gt; NamesT m Term
-&gt; [(NamesT m Term, NamesT m Term)]
-&gt; NamesT m Term
</span><a href="Agda.TypeChecking.Primitive.Cubical.html#combineSys"><span class="hs-identifier hs-var">combineSys</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035953"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035952"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035946"><span class="hs-identifier hs-var">phi</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035945"><span class="hs-identifier hs-var">u</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035948"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681035946"><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035946"><span class="hs-identifier hs-var">phi</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681035945"><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035945"><span class="hs-identifier hs-var">u</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(NamesT (TCMT IO) Term, NamesT (TCMT IO) Term)]
</span><a href="#local-6989586621681035959"><span class="hs-identifier hs-var">sys</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-952"></span><span>          </span><span class="annot"><span class="annottext">Term -&gt; NamesT (TCMT IO) Term
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681036016"><span class="hs-identifier hs-var">tHComp</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%23%3E"><span class="hs-operator hs-var">&lt;#&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035953"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%23%3E"><span class="hs-operator hs-var">&lt;#&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035952"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%23%3E"><span class="hs-operator hs-var">&lt;#&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; NamesT (TCMT IO) Term
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035951"><span class="hs-identifier hs-var">face</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; NamesT (TCMT IO) Term
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035949"><span class="hs-identifier hs-var">sys</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035958"><span class="hs-identifier hs-var">u0</span></a></span><span>
</span><span id="line-953"></span><span>  </span><span id="local-6989586621681035944"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035944"><span class="hs-identifier hs-var">interval</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TCMT IO Type
forall (m :: * -&gt; *).
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
m Type
</span><a href="Agda.TypeChecking.Primitive.Cubical.html#primIntervalType"><span class="hs-identifier hs-var">primIntervalType</span></a></span><span>
</span><span id="line-954"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681035943"><span class="annot"><span class="annottext">intervalTel :: ArgName -&gt; Tele (Dom Type)
</span><a href="#local-6989586621681035943"><span class="hs-identifier hs-var hs-var">intervalTel</span></a></span></span><span> </span><span id="local-6989586621681035942"><span class="annot"><span class="annottext">ArgName
</span><a href="#local-6989586621681035942"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Dom Type -&gt; Abs (Tele (Dom Type)) -&gt; Tele (Dom Type)
forall a. a -&gt; Abs (Tele a) -&gt; Tele a
</span><a href="Agda.Syntax.Internal.html#ExtendTel"><span class="hs-identifier hs-var">ExtendTel</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type -&gt; Dom Type
forall a. a -&gt; Dom a
</span><a href="Agda.Syntax.Internal.html#defaultDom"><span class="hs-identifier hs-var">defaultDom</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035944"><span class="hs-identifier hs-var">interval</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ArgName -&gt; Tele (Dom Type) -&gt; Abs (Tele (Dom Type))
forall a. ArgName -&gt; a -&gt; Abs a
</span><a href="Agda.Syntax.Internal.html#Abs"><span class="hs-identifier hs-var">Abs</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><a href="#local-6989586621681035942"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
forall a. Tele a
</span><a href="Agda.Syntax.Internal.html#EmptyTel"><span class="hs-identifier hs-var">EmptyTel</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-955"></span><span>
</span><span id="line-956"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681035941"><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035941"><span class="hs-identifier hs-var">parI</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681035940"><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035940"><span class="hs-identifier hs-var">ixsI</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Tele (Dom Type) -&gt; (Tele (Dom Type), Tele (Dom Type))
</span><a href="Agda.TypeChecking.Telescope.html#splitTelescopeAt"><span class="hs-identifier hs-var">splitTelescopeAt</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681036026"><span class="hs-identifier hs-var">npars</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036023"><span class="hs-identifier hs-var">telI</span></a></span><span>
</span><span id="line-957"></span><span>  </span><span class="hs-keyword">let</span><span>
</span><span id="line-958"></span><span>    </span><span id="local-6989586621681039710"><span class="annot"><a href="#local-6989586621681035938"><span class="hs-identifier hs-type">abstract_trD</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadFail</span></span><span> </span><span class="annot"><a href="#local-6989586621681039710"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.TypeChecking.Names.html#Vars"><span class="hs-identifier hs-type">Vars</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681039710"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Names.html#Vars"><span class="hs-identifier hs-type">Vars</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681039710"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Names.html#Vars"><span class="hs-identifier hs-type">Vars</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681039710"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Names.html#NamesT"><span class="hs-identifier hs-type">NamesT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681039710"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Telescope"><span class="hs-identifier hs-type">Telescope</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Names.html#NamesT"><span class="hs-identifier hs-type">NamesT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681039710"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Telescope"><span class="hs-identifier hs-type">Telescope</span></a></span></span><span>
</span><span id="line-959"></span><span>    </span><span id="local-6989586621681035938"><span class="annot"><span class="annottext">abstract_trD :: forall (m :: * -&gt; *).
MonadFail m =&gt;
(Vars m -&gt; Vars m -&gt; Vars m -&gt; NamesT m (Tele (Dom Type)))
-&gt; NamesT m (Tele (Dom Type))
</span><a href="#local-6989586621681035938"><span class="hs-identifier hs-var hs-var">abstract_trD</span></a></span></span><span> </span><span id="local-6989586621681035916"><span class="annot"><span class="annottext">Vars m -&gt; Vars m -&gt; Vars m -&gt; NamesT m (Tele (Dom Type))
</span><a href="#local-6989586621681035916"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-960"></span><span>               </span><span id="local-6989586621681035915"><span class="annot"><span class="annottext">NamesT m (AbsN (Tele (Dom Type)))
</span><a href="#local-6989586621681035915"><span class="hs-identifier hs-var">ixsI</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">AbsN (Tele (Dom Type))
-&gt; NamesT m (NamesT m (AbsN (Tele (Dom Type))))
forall (m :: * -&gt; *) a.
(MonadFail m, Subst a) =&gt;
a -&gt; NamesT m (NamesT m a)
</span><a href="Agda.TypeChecking.Names.html#open"><span class="hs-identifier hs-var">open</span></a></span><span> </span><span class="annot"><span class="annottext">(AbsN (Tele (Dom Type))
 -&gt; NamesT m (NamesT m (AbsN (Tele (Dom Type)))))
-&gt; AbsN (Tele (Dom Type))
-&gt; NamesT m (NamesT m (AbsN (Tele (Dom Type))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[ArgName] -&gt; Tele (Dom Type) -&gt; AbsN (Tele (Dom Type))
forall a. [ArgName] -&gt; a -&gt; AbsN a
</span><a href="Agda.TypeChecking.Names.html#AbsN"><span class="hs-identifier hs-var">AbsN</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; [ArgName]
</span><a href="Agda.TypeChecking.Telescope.html#teleNames"><span class="hs-identifier hs-var">teleNames</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035941"><span class="hs-identifier hs-var">parI</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035940"><span class="hs-identifier hs-var">ixsI</span></a></span><span>
</span><span id="line-961"></span><span>               </span><span id="local-6989586621681035912"><span class="annot"><span class="annottext">NamesT m (Tele (Dom Type))
</span><a href="#local-6989586621681035912"><span class="hs-identifier hs-var">parI</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; NamesT m (NamesT m (Tele (Dom Type)))
forall (m :: * -&gt; *) a.
(MonadFail m, Subst a) =&gt;
a -&gt; NamesT m (NamesT m a)
</span><a href="Agda.TypeChecking.Names.html#open"><span class="hs-identifier hs-var">open</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035941"><span class="hs-identifier hs-var">parI</span></a></span><span>
</span><span id="line-962"></span><span>               </span><span class="annot"><span class="annottext">NamesT m (Tele (Dom Type))
-&gt; (Vars m -&gt; NamesT m (Tele (Dom Type)))
-&gt; NamesT m (Tele (Dom Type))
forall (m :: * -&gt; *) a.
(MonadFail m, Abstract a) =&gt;
NamesT m (Tele (Dom Type)) -&gt; (Vars m -&gt; NamesT m a) -&gt; NamesT m a
</span><a href="Agda.TypeChecking.Names.html#abstractN"><span class="hs-identifier hs-var">abstractN</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT m (Tele (Dom Type))
</span><a href="#local-6989586621681035912"><span class="hs-identifier hs-var">parI</span></a></span><span> </span><span class="annot"><span class="annottext">((Vars m -&gt; NamesT m (Tele (Dom Type)))
 -&gt; NamesT m (Tele (Dom Type)))
-&gt; (Vars m -&gt; NamesT m (Tele (Dom Type)))
-&gt; NamesT m (Tele (Dom Type))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035910"><span class="annot"><span class="annottext">Vars m
</span><a href="#local-6989586621681035910"><span class="hs-identifier hs-var">delta</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-963"></span><span>               </span><span class="annot"><span class="annottext">NamesT m (Tele (Dom Type))
-&gt; (Vars m -&gt; NamesT m (Tele (Dom Type)))
-&gt; NamesT m (Tele (Dom Type))
forall (m :: * -&gt; *) a.
(MonadFail m, Abstract a) =&gt;
NamesT m (Tele (Dom Type)) -&gt; (Vars m -&gt; NamesT m a) -&gt; NamesT m a
</span><a href="Agda.TypeChecking.Names.html#abstractN"><span class="hs-identifier hs-var">abstractN</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NamesT m (AbsN (Tele (Dom Type)))
</span><a href="#local-6989586621681035915"><span class="hs-identifier hs-var">ixsI</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT m (AbsN (Tele (Dom Type)))
-&gt; [NamesT m (SubstArg (Tele (Dom Type)))]
-&gt; NamesT m (Tele (Dom Type))
forall (m :: * -&gt; *) a.
(Monad m, Subst a) =&gt;
NamesT m (AbsN a) -&gt; [NamesT m (SubstArg a)] -&gt; NamesT m a
</span><a href="Agda.TypeChecking.Names.html#applyN"><span class="hs-operator hs-var">`applyN`</span></a></span><span> </span><span class="annot"><span class="annottext">[NamesT m (SubstArg (Tele (Dom Type)))]
Vars m
</span><a href="#local-6989586621681035910"><span class="hs-identifier hs-var">delta</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((Vars m -&gt; NamesT m (Tele (Dom Type)))
 -&gt; NamesT m (Tele (Dom Type)))
-&gt; (Vars m -&gt; NamesT m (Tele (Dom Type)))
-&gt; NamesT m (Tele (Dom Type))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035908"><span class="annot"><span class="annottext">Vars m
</span><a href="#local-6989586621681035908"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-964"></span><span>               </span><span class="annot"><span class="annottext">NamesT m (Tele (Dom Type))
-&gt; (Vars m -&gt; NamesT m (Tele (Dom Type)))
-&gt; NamesT m (Tele (Dom Type))
forall (m :: * -&gt; *) a.
(MonadFail m, Abstract a) =&gt;
NamesT m (Tele (Dom Type)) -&gt; (Vars m -&gt; NamesT m a) -&gt; NamesT m a
</span><a href="Agda.TypeChecking.Names.html#abstractN"><span class="hs-identifier hs-var">abstractN</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; NamesT m (Tele (Dom Type))
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(Tele (Dom Type) -&gt; NamesT m (Tele (Dom Type)))
-&gt; Tele (Dom Type) -&gt; NamesT m (Tele (Dom Type))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; Tele (Dom Type)
</span><a href="#local-6989586621681035943"><span class="hs-identifier hs-var">intervalTel</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;phi&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((Vars m -&gt; NamesT m (Tele (Dom Type)))
 -&gt; NamesT m (Tele (Dom Type)))
-&gt; (Vars m -&gt; NamesT m (Tele (Dom Type)))
-&gt; NamesT m (Tele (Dom Type))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035907"><span class="annot"><span class="annottext">Vars m
</span><a href="#local-6989586621681035907"><span class="hs-identifier hs-var">phi</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-965"></span><span>               </span><span class="annot"><span class="annottext">Vars m -&gt; Vars m -&gt; Vars m -&gt; NamesT m (Tele (Dom Type))
</span><a href="#local-6989586621681035916"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Vars m
</span><a href="#local-6989586621681035910"><span class="hs-identifier hs-var">delta</span></a></span><span> </span><span class="annot"><span class="annottext">Vars m
</span><a href="#local-6989586621681035908"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Vars m
</span><a href="#local-6989586621681035907"><span class="hs-identifier hs-var">phi</span></a></span><span>
</span><span id="line-966"></span><span>    </span><span id="local-6989586621681039697"><span id="local-6989586621681039699"><span class="annot"><a href="#local-6989586621681035894"><span class="hs-identifier hs-type">bind_trD</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadFail</span></span><span> </span><span class="annot"><a href="#local-6989586621681039699"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.TypeChecking.Names.html#ArgVars"><span class="hs-identifier hs-type">ArgVars</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681039699"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Names.html#ArgVars"><span class="hs-identifier hs-type">ArgVars</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681039699"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Names.html#ArgVars"><span class="hs-identifier hs-type">ArgVars</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681039699"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Names.html#NamesT"><span class="hs-identifier hs-type">NamesT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681039699"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681039697"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-967"></span><span>                </span><span class="annot"><a href="Agda.TypeChecking.Names.html#NamesT"><span class="hs-identifier hs-type">NamesT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681039699"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.TypeChecking.Names.html#AbsN"><span class="hs-identifier hs-type">AbsN</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.TypeChecking.Names.html#AbsN"><span class="hs-identifier hs-type">AbsN</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.TypeChecking.Names.html#AbsN"><span class="hs-identifier hs-type">AbsN</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681039697"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-968"></span><span>    </span><span id="local-6989586621681035894"><span class="annot"><span class="annottext">bind_trD :: forall (m :: * -&gt; *) b.
MonadFail m =&gt;
(ArgVars m -&gt; ArgVars m -&gt; ArgVars m -&gt; NamesT m b)
-&gt; NamesT m (AbsN (AbsN (AbsN b)))
</span><a href="#local-6989586621681035894"><span class="hs-identifier hs-var hs-var">bind_trD</span></a></span></span><span> </span><span id="local-6989586621681035889"><span class="annot"><span class="annottext">ArgVars m -&gt; ArgVars m -&gt; ArgVars m -&gt; NamesT m b
</span><a href="#local-6989586621681035889"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-969"></span><span>      </span><span class="annot"><span class="annottext">[Arg ArgName]
-&gt; (ArgVars m -&gt; NamesT m (AbsN (AbsN b)))
-&gt; NamesT m (AbsN (AbsN (AbsN b)))
forall (m :: * -&gt; *) a.
MonadFail m =&gt;
[Arg ArgName] -&gt; (ArgVars m -&gt; NamesT m a) -&gt; NamesT m (AbsN a)
</span><a href="Agda.TypeChecking.Names.html#bindNArg"><span class="hs-identifier hs-var">bindNArg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; [Arg ArgName]
</span><a href="Agda.TypeChecking.Telescope.html#teleArgNames"><span class="hs-identifier hs-var">teleArgNames</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035941"><span class="hs-identifier hs-var">parI</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((ArgVars m -&gt; NamesT m (AbsN (AbsN b)))
 -&gt; NamesT m (AbsN (AbsN (AbsN b))))
-&gt; (ArgVars m -&gt; NamesT m (AbsN (AbsN b)))
-&gt; NamesT m (AbsN (AbsN (AbsN b)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035886"><span class="annot"><span class="annottext">ArgVars m
</span><a href="#local-6989586621681035886"><span class="hs-identifier hs-var">delta_ps</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-970"></span><span>      </span><span class="annot"><span class="annottext">[Arg ArgName]
-&gt; (ArgVars m -&gt; NamesT m (AbsN b)) -&gt; NamesT m (AbsN (AbsN b))
forall (m :: * -&gt; *) a.
MonadFail m =&gt;
[Arg ArgName] -&gt; (ArgVars m -&gt; NamesT m a) -&gt; NamesT m (AbsN a)
</span><a href="Agda.TypeChecking.Names.html#bindNArg"><span class="hs-identifier hs-var">bindNArg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; [Arg ArgName]
</span><a href="Agda.TypeChecking.Telescope.html#teleArgNames"><span class="hs-identifier hs-var">teleArgNames</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035940"><span class="hs-identifier hs-var">ixsI</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((ArgVars m -&gt; NamesT m (AbsN b)) -&gt; NamesT m (AbsN (AbsN b)))
-&gt; (ArgVars m -&gt; NamesT m (AbsN b)) -&gt; NamesT m (AbsN (AbsN b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035885"><span class="annot"><span class="annottext">ArgVars m
</span><a href="#local-6989586621681035885"><span class="hs-identifier hs-var">x_ps</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-971"></span><span>      </span><span class="annot"><span class="annottext">[Arg ArgName] -&gt; (ArgVars m -&gt; NamesT m b) -&gt; NamesT m (AbsN b)
forall (m :: * -&gt; *) a.
MonadFail m =&gt;
[Arg ArgName] -&gt; (ArgVars m -&gt; NamesT m a) -&gt; NamesT m (AbsN a)
</span><a href="Agda.TypeChecking.Names.html#bindNArg"><span class="hs-identifier hs-var">bindNArg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; [Arg ArgName]
</span><a href="Agda.TypeChecking.Telescope.html#teleArgNames"><span class="hs-identifier hs-var">teleArgNames</span></a></span><span> </span><span class="annot"><span class="annottext">(Tele (Dom Type) -&gt; [Arg ArgName])
-&gt; Tele (Dom Type) -&gt; [Arg ArgName]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; Tele (Dom Type)
</span><a href="#local-6989586621681035943"><span class="hs-identifier hs-var">intervalTel</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;phi&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((ArgVars m -&gt; NamesT m b) -&gt; NamesT m (AbsN b))
-&gt; (ArgVars m -&gt; NamesT m b) -&gt; NamesT m (AbsN b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035884"><span class="annot"><span class="annottext">ArgVars m
</span><a href="#local-6989586621681035884"><span class="hs-identifier hs-var">phi_ps</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-972"></span><span>      </span><span class="annot"><span class="annottext">ArgVars m -&gt; ArgVars m -&gt; ArgVars m -&gt; NamesT m b
</span><a href="#local-6989586621681035889"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">ArgVars m
</span><a href="#local-6989586621681035886"><span class="hs-identifier hs-var">delta_ps</span></a></span><span> </span><span class="annot"><span class="annottext">ArgVars m
</span><a href="#local-6989586621681035885"><span class="hs-identifier hs-var">x_ps</span></a></span><span> </span><span class="annot"><span class="annottext">ArgVars m
</span><a href="#local-6989586621681035884"><span class="hs-identifier hs-var">phi_ps</span></a></span><span>
</span><span id="line-973"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681035871"><span class="annot"><span class="annottext">trD :: NamesT (TCMT IO) (AbsN (AbsN (AbsN Term)))
</span><a href="#local-6989586621681035871"><span class="hs-identifier hs-var hs-var">trD</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Arg ArgName]
-&gt; (ArgVars (TCMT IO) -&gt; NamesT (TCMT IO) (AbsN (AbsN Term)))
-&gt; NamesT (TCMT IO) (AbsN (AbsN (AbsN Term)))
forall (m :: * -&gt; *) a.
MonadFail m =&gt;
[Arg ArgName] -&gt; (ArgVars m -&gt; NamesT m a) -&gt; NamesT m (AbsN a)
</span><a href="Agda.TypeChecking.Names.html#bindNArg"><span class="hs-identifier hs-var">bindNArg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; [Arg ArgName]
</span><a href="Agda.TypeChecking.Telescope.html#teleArgNames"><span class="hs-identifier hs-var">teleArgNames</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035941"><span class="hs-identifier hs-var">parI</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((ArgVars (TCMT IO) -&gt; NamesT (TCMT IO) (AbsN (AbsN Term)))
 -&gt; NamesT (TCMT IO) (AbsN (AbsN (AbsN Term))))
-&gt; (ArgVars (TCMT IO) -&gt; NamesT (TCMT IO) (AbsN (AbsN Term)))
-&gt; NamesT (TCMT IO) (AbsN (AbsN (AbsN Term)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035870"><span class="annot"><span class="annottext">ArgVars (TCMT IO)
</span><a href="#local-6989586621681035870"><span class="hs-identifier hs-var">delta</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-974"></span><span>            </span><span class="annot"><span class="annottext">[Arg ArgName]
-&gt; (ArgVars (TCMT IO) -&gt; NamesT (TCMT IO) (AbsN Term))
-&gt; NamesT (TCMT IO) (AbsN (AbsN Term))
forall (m :: * -&gt; *) a.
MonadFail m =&gt;
[Arg ArgName] -&gt; (ArgVars m -&gt; NamesT m a) -&gt; NamesT m (AbsN a)
</span><a href="Agda.TypeChecking.Names.html#bindNArg"><span class="hs-identifier hs-var">bindNArg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; [Arg ArgName]
</span><a href="Agda.TypeChecking.Telescope.html#teleArgNames"><span class="hs-identifier hs-var">teleArgNames</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035940"><span class="hs-identifier hs-var">ixsI</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((ArgVars (TCMT IO) -&gt; NamesT (TCMT IO) (AbsN Term))
 -&gt; NamesT (TCMT IO) (AbsN (AbsN Term)))
-&gt; (ArgVars (TCMT IO) -&gt; NamesT (TCMT IO) (AbsN Term))
-&gt; NamesT (TCMT IO) (AbsN (AbsN Term))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035869"><span class="annot"><span class="annottext">ArgVars (TCMT IO)
</span><a href="#local-6989586621681035869"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-975"></span><span>            </span><span class="annot"><span class="annottext">[ArgName]
-&gt; (Vars (TCMT IO) -&gt; NamesT (TCMT IO) Term)
-&gt; NamesT (TCMT IO) (AbsN Term)
forall (m :: * -&gt; *) a.
MonadFail m =&gt;
[ArgName] -&gt; (Vars m -&gt; NamesT m a) -&gt; NamesT m (AbsN a)
</span><a href="Agda.TypeChecking.Names.html#bindN"><span class="hs-identifier hs-var">bindN</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;phi&quot;</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;u0&quot;</span></span><span class="hs-special">]</span><span>           </span><span class="annot"><span class="annottext">((Vars (TCMT IO) -&gt; NamesT (TCMT IO) Term)
 -&gt; NamesT (TCMT IO) (AbsN Term))
-&gt; (Vars (TCMT IO) -&gt; NamesT (TCMT IO) Term)
-&gt; NamesT (TCMT IO) (AbsN Term)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="hs-special">[</span><span id="local-6989586621681035867"><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035867"><span class="hs-identifier hs-var">phi</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681035866"><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035866"><span class="hs-identifier hs-var">u0</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-976"></span><span>              </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">QName -&gt; [Elim' Term] -&gt; Term
</span><a href="Agda.Syntax.Internal.html#Def"><span class="hs-identifier hs-var">Def</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681036029"><span class="hs-identifier hs-var">trD'</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">Term -&gt; [Arg Term] -&gt; Term
forall t. Apply t =&gt; t -&gt; [Arg Term] -&gt; t
</span><a href="Agda.TypeChecking.Substitute.Class.html#apply"><span class="hs-operator hs-var">`apply`</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([Arg Term] -&gt; Term)
-&gt; NamesT (TCMT IO) [Arg Term] -&gt; NamesT (TCMT IO) Term
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) (Arg Term)] -&gt; NamesT (TCMT IO) [Arg Term]
forall (t :: * -&gt; *) (m :: * -&gt; *) a.
(Traversable t, Monad m) =&gt;
t (m a) -&gt; m (t a)
</span><span class="hs-identifier hs-var">sequence</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[NamesT (TCMT IO) (Arg Term)]
ArgVars (TCMT IO)
</span><a href="#local-6989586621681035870"><span class="hs-identifier hs-var">delta</span></a></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) (Arg Term)]
-&gt; [NamesT (TCMT IO) (Arg Term)] -&gt; [NamesT (TCMT IO) (Arg Term)]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) (Arg Term)]
ArgVars (TCMT IO)
</span><a href="#local-6989586621681035869"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035867"><span class="hs-identifier hs-var">phi</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035866"><span class="hs-identifier hs-var">u0</span></a></span><span>
</span><span id="line-977"></span><span>  </span><span class="hs-comment">-- [&#916;] &#8866; X</span><span>
</span><span id="line-978"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681035864"><span class="annot"><span class="annottext">xTel :: NamesT (TCMT IO) (AbsN (Tele (Dom Type)))
</span><a href="#local-6989586621681035864"><span class="hs-identifier hs-var hs-var">xTel</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AbsN (Tele (Dom Type)) -&gt; NamesT (TCMT IO) (AbsN (Tele (Dom Type)))
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(AbsN (Tele (Dom Type))
 -&gt; NamesT (TCMT IO) (AbsN (Tele (Dom Type))))
-&gt; AbsN (Tele (Dom Type))
-&gt; NamesT (TCMT IO) (AbsN (Tele (Dom Type)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[ArgName] -&gt; Tele (Dom Type) -&gt; AbsN (Tele (Dom Type))
forall a. [ArgName] -&gt; a -&gt; AbsN a
</span><a href="Agda.TypeChecking.Names.html#AbsN"><span class="hs-identifier hs-var">AbsN</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; [ArgName]
</span><a href="Agda.TypeChecking.Telescope.html#teleNames"><span class="hs-identifier hs-var">teleNames</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035941"><span class="hs-identifier hs-var">parI</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681036024"><span class="hs-identifier hs-var">xTel'</span></a></span><span>
</span><span id="line-979"></span><span>  </span><span class="hs-comment">-- [&#948; : &#916;^I, x : X^I, i : I] &#8866; D (&#948; i) (x i)</span><span>
</span><span id="line-980"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681035863"><span class="annot"><span class="annottext">dT :: NamesT (TCMT IO) (AbsN Type)
</span><a href="#local-6989586621681035863"><span class="hs-identifier hs-var hs-var">dT</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AbsN Type -&gt; NamesT (TCMT IO) (AbsN Type)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(AbsN Type -&gt; NamesT (TCMT IO) (AbsN Type))
-&gt; AbsN Type -&gt; NamesT (TCMT IO) (AbsN Type)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[ArgName] -&gt; Type -&gt; AbsN Type
forall a. [ArgName] -&gt; a -&gt; AbsN a
</span><a href="Agda.TypeChecking.Names.html#AbsN"><span class="hs-identifier hs-var">AbsN</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; [ArgName]
</span><a href="Agda.TypeChecking.Telescope.html#teleNames"><span class="hs-identifier hs-var">teleNames</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035941"><span class="hs-identifier hs-var">parI</span></a></span><span> </span><span class="annot"><span class="annottext">[ArgName] -&gt; [ArgName] -&gt; [ArgName]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; [ArgName]
</span><a href="Agda.TypeChecking.Telescope.html#teleNames"><span class="hs-identifier hs-var">teleNames</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035940"><span class="hs-identifier hs-var">ixsI</span></a></span><span> </span><span class="annot"><span class="annottext">[ArgName] -&gt; [ArgName] -&gt; [ArgName]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;i&quot;</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681036021"><span class="hs-identifier hs-var">dT'</span></a></span><span>
</span><span id="line-981"></span><span>
</span><span id="line-982"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681035862"><span class="annot"><span class="annottext">hcompComputes :: Bool
</span><a href="#local-6989586621681035862"><span class="hs-identifier hs-var hs-var">hcompComputes</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool) -&gt; Bool -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681036028"><span class="hs-identifier hs-var">isHIT</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681036025"><span class="hs-identifier hs-var">nixs</span></a></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Nat -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">0</span></span><span>
</span><span id="line-983"></span><span>  </span><span id="local-6989586621681035860"><span class="annot"><span class="annottext">[Clause]
</span><a href="#local-6989586621681035860"><span class="hs-identifier hs-var">c_HComp</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681035862"><span class="hs-identifier hs-var">hcompComputes</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">[Clause] -&gt; TCM [Clause]
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-keyword">else</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-984"></span><span>      </span><span class="annot"><span class="annottext">ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; TCM ()
forall (m :: * -&gt; *).
MonadDebug m =&gt;
ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; m ()
</span><a href="Agda.TypeChecking.Monad.Debug.html#reportSDoc"><span class="hs-identifier hs-var">reportSDoc</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;tc.data.transp.con&quot;</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">20</span></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Doc -&gt; TCM ()) -&gt; TCMT IO Doc -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc
</span><span class="hs-string">&quot;=======================&quot;</span></span><span>
</span><span id="line-985"></span><span>      </span><span class="annot"><span class="annottext">ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; TCM ()
forall (m :: * -&gt; *).
MonadDebug m =&gt;
ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; m ()
</span><a href="Agda.TypeChecking.Monad.Debug.html#reportSDoc"><span class="hs-identifier hs-var">reportSDoc</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;tc.data.transp.con&quot;</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">20</span></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Doc -&gt; TCM ()) -&gt; TCMT IO Doc -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc
</span><span class="hs-string">&quot;hcomp&quot;</span></span><span>
</span><span id="line-986"></span><span>      </span><span id="local-6989586621681035859"><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681035859"><span class="hs-identifier hs-var">qHComp</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">QName -&gt; Maybe QName -&gt; QName
forall a. a -&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromMaybe</span></span><span> </span><span class="annot"><span class="annottext">QName
forall a. HasCallStack =&gt; a
</span><a href="Agda.Utils.Impossible.html#__IMPOSSIBLE__"><span class="hs-identifier hs-var">__IMPOSSIBLE__</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe QName -&gt; QName) -&gt; TCMT IO (Maybe QName) -&gt; TCMT IO QName
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; TCMT IO (Maybe QName)
forall (m :: * -&gt; *). HasBuiltins m =&gt; ArgName -&gt; m (Maybe QName)
</span><a href="Agda.TypeChecking.Monad.Builtin.html#getPrimitiveName%27"><span class="hs-identifier hs-var">getPrimitiveName'</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><a href="Agda.Syntax.Builtin.html#builtinHComp"><span class="hs-identifier hs-var">builtinHComp</span></a></span><span>
</span><span id="line-987"></span><span>      </span><span id="local-6989586621681035857"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035857"><span class="hs-identifier hs-var">hcomp_ty</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Definition -&gt; Type
</span><a href="Agda.TypeChecking.Monad.Base.html#defType"><span class="hs-identifier hs-var">defType</span></a></span><span> </span><span class="annot"><span class="annottext">(Definition -&gt; Type) -&gt; TCMT IO Definition -&gt; TCMT IO Type
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">QName -&gt; TCMT IO Definition
forall (m :: * -&gt; *). HasConstInfo m =&gt; QName -&gt; m Definition
</span><a href="Agda.TypeChecking.Monad.Signature.html#getConstInfo"><span class="hs-identifier hs-var">getConstInfo</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681035859"><span class="hs-identifier hs-var">qHComp</span></a></span><span>
</span><span id="line-988"></span><span>      </span><span id="local-6989586621681035856"><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035856"><span class="hs-identifier hs-var">gamma</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[ArgName]
-&gt; NamesT (TCMT IO) (Tele (Dom Type)) -&gt; TCMT IO (Tele (Dom Type))
forall (m :: * -&gt; *) a. [ArgName] -&gt; NamesT m a -&gt; m a
</span><a href="Agda.TypeChecking.Names.html#runNamesT"><span class="hs-identifier hs-var">runNamesT</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">(NamesT (TCMT IO) (Tele (Dom Type)) -&gt; TCMT IO (Tele (Dom Type)))
-&gt; NamesT (TCMT IO) (Tele (Dom Type)) -&gt; TCMT IO (Tele (Dom Type))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-989"></span><span>               </span><span id="local-6989586621681035855"><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN (Tele (Dom Type)))
</span><a href="#local-6989586621681035855"><span class="hs-identifier hs-var">ixsI</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">AbsN (Tele (Dom Type))
-&gt; NamesT (TCMT IO) (NamesT (TCMT IO) (AbsN (Tele (Dom Type))))
forall (m :: * -&gt; *) a.
(MonadFail m, Subst a) =&gt;
a -&gt; NamesT m (NamesT m a)
</span><a href="Agda.TypeChecking.Names.html#open"><span class="hs-identifier hs-var">open</span></a></span><span> </span><span class="annot"><span class="annottext">(AbsN (Tele (Dom Type))
 -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) (AbsN (Tele (Dom Type)))))
-&gt; AbsN (Tele (Dom Type))
-&gt; NamesT (TCMT IO) (NamesT (TCMT IO) (AbsN (Tele (Dom Type))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[ArgName] -&gt; Tele (Dom Type) -&gt; AbsN (Tele (Dom Type))
forall a. [ArgName] -&gt; a -&gt; AbsN a
</span><a href="Agda.TypeChecking.Names.html#AbsN"><span class="hs-identifier hs-var">AbsN</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; [ArgName]
</span><a href="Agda.TypeChecking.Telescope.html#teleNames"><span class="hs-identifier hs-var">teleNames</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035941"><span class="hs-identifier hs-var">parI</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035940"><span class="hs-identifier hs-var">ixsI</span></a></span><span>
</span><span id="line-990"></span><span>               </span><span id="local-6989586621681035854"><span class="annot"><span class="annottext">NamesT (TCMT IO) (Tele (Dom Type))
</span><a href="#local-6989586621681035854"><span class="hs-identifier hs-var">parI</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
-&gt; NamesT (TCMT IO) (NamesT (TCMT IO) (Tele (Dom Type)))
forall (m :: * -&gt; *) a.
(MonadFail m, Subst a) =&gt;
a -&gt; NamesT m (NamesT m a)
</span><a href="Agda.TypeChecking.Names.html#open"><span class="hs-identifier hs-var">open</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035941"><span class="hs-identifier hs-var">parI</span></a></span><span>
</span><span id="line-991"></span><span>               </span><span class="annot"><span class="annottext">(Vars (TCMT IO)
 -&gt; Vars (TCMT IO)
 -&gt; Vars (TCMT IO)
 -&gt; NamesT (TCMT IO) (Tele (Dom Type)))
-&gt; NamesT (TCMT IO) (Tele (Dom Type))
forall (m :: * -&gt; *).
MonadFail m =&gt;
(Vars m -&gt; Vars m -&gt; Vars m -&gt; NamesT m (Tele (Dom Type)))
-&gt; NamesT m (Tele (Dom Type))
</span><a href="#local-6989586621681035938"><span class="hs-identifier hs-var">abstract_trD</span></a></span><span> </span><span class="annot"><span class="annottext">((Vars (TCMT IO)
  -&gt; Vars (TCMT IO)
  -&gt; Vars (TCMT IO)
  -&gt; NamesT (TCMT IO) (Tele (Dom Type)))
 -&gt; NamesT (TCMT IO) (Tele (Dom Type)))
-&gt; (Vars (TCMT IO)
    -&gt; Vars (TCMT IO)
    -&gt; Vars (TCMT IO)
    -&gt; NamesT (TCMT IO) (Tele (Dom Type)))
-&gt; NamesT (TCMT IO) (Tele (Dom Type))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035853"><span class="annot"><span class="annottext">Vars (TCMT IO)
</span><a href="#local-6989586621681035853"><span class="hs-identifier hs-var">delta</span></a></span></span><span> </span><span id="local-6989586621681035852"><span class="annot"><span class="annottext">Vars (TCMT IO)
</span><a href="#local-6989586621681035852"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="annottext">Vars (TCMT IO)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-992"></span><span>               </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.TypeChecking.Primitive.Cubical.html#LEl"><span class="hs-identifier hs-type">LEl</span></a></span><span> </span><span id="local-6989586621681035851"><span class="annot"><span class="annottext">Level
</span><a href="#local-6989586621681035851"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681035850"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035850"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Type -&gt; NamesT (TCMT IO) (Maybe LType)
forall (m :: * -&gt; *). MonadReduce m =&gt; Type -&gt; m (Maybe LType)
</span><a href="Agda.TypeChecking.Primitive.Cubical.html#toLType"><span class="hs-identifier hs-var">toLType</span></a></span><span> </span><span class="annot"><span class="annottext">(Type -&gt; NamesT (TCMT IO) (Maybe LType))
-&gt; NamesT (TCMT IO) Type -&gt; NamesT (TCMT IO) (Maybe LType)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN Type)
</span><a href="#local-6989586621681035863"><span class="hs-identifier hs-var">dT</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN Type)
-&gt; [NamesT (TCMT IO) (SubstArg Type)] -&gt; NamesT (TCMT IO) Type
forall (m :: * -&gt; *) a.
(Monad m, Subst a) =&gt;
NamesT m (AbsN a) -&gt; [NamesT m (SubstArg a)] -&gt; NamesT m a
</span><a href="Agda.TypeChecking.Names.html#applyN"><span class="hs-operator hs-var">`applyN`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
Vars (TCMT IO)
</span><a href="#local-6989586621681035853"><span class="hs-identifier hs-var">delta</span></a></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
-&gt; [NamesT (TCMT IO) Term] -&gt; [NamesT (TCMT IO) Term]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
Vars (TCMT IO)
</span><a href="#local-6989586621681035852"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
-&gt; [NamesT (TCMT IO) Term] -&gt; [NamesT (TCMT IO) Term]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Term -&gt; NamesT (TCMT IO) Term
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681036017"><span class="hs-identifier hs-var">iz</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-993"></span><span>               </span><span class="hs-comment">-- (&#966; : I), (I &#8594; Partial &#966; (D (&#948; i0) (x i0))), D (&#948; i0) (x i0)</span><span>
</span><span id="line-994"></span><span>               </span><span class="annot"><a href="Agda.TypeChecking.Substitute.html#TelV"><span class="hs-identifier hs-type">TelV</span></a></span><span> </span><span id="local-6989586621681035849"><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035849"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="annot"><span class="annottext">Type
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TCMT IO (TelV Type) -&gt; NamesT (TCMT IO) (TelV Type)
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><span class="hs-identifier hs-var">lift</span></span><span> </span><span class="annot"><span class="annottext">(TCMT IO (TelV Type) -&gt; NamesT (TCMT IO) (TelV Type))
-&gt; TCMT IO (TelV Type) -&gt; NamesT (TCMT IO) (TelV Type)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Type -&gt; TCMT IO (TelV Type)
forall (m :: * -&gt; *).
(MonadReduce m, MonadAddContext m) =&gt;
Type -&gt; m (TelV Type)
</span><a href="Agda.TypeChecking.Telescope.html#telView"><span class="hs-identifier hs-var">telView</span></a></span><span> </span><span class="annot"><span class="annottext">(Type -&gt; TCMT IO (TelV Type))
-&gt; TCMT IO Type -&gt; TCMT IO (TelV Type)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span> </span><span class="annot"><span class="annottext">Type -&gt; [Term] -&gt; TCMT IO Type
forall a (m :: * -&gt; *).
(PiApplyM a, MonadReduce m, HasBuiltins m) =&gt;
Type -&gt; a -&gt; m Type
</span><a href="Agda.TypeChecking.Telescope.html#piApplyM"><span class="hs-identifier hs-var">piApplyM</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035857"><span class="hs-identifier hs-var">hcomp_ty</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Level -&gt; Term
</span><a href="Agda.Syntax.Internal.html#Level"><span class="hs-identifier hs-var">Level</span></a></span><span> </span><span class="annot"><span class="annottext">Level
</span><a href="#local-6989586621681035851"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035850"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-995"></span><span>               </span><span class="annot"><span class="annottext">Bool -&gt; NamesT (TCMT IO) () -&gt; NamesT (TCMT IO) ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">unless</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Nat
forall a. Sized a =&gt; a -&gt; Nat
</span><a href="Agda.Utils.Size.html#size"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035849"><span class="hs-identifier hs-var">args</span></a></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Nat -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">3</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) ()
forall a. HasCallStack =&gt; a
</span><a href="Agda.Utils.Impossible.html#__IMPOSSIBLE__"><span class="hs-identifier hs-var">__IMPOSSIBLE__</span></a></span><span>
</span><span id="line-996"></span><span>               </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; NamesT (TCMT IO) (Tele (Dom Type))
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035849"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-997"></span><span>      </span><span id="local-6989586621681035846"><span class="annot"><span class="annottext">AbsN
  (AbsN
     (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))))
</span><a href="#local-6989586621681035846"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[ArgName]
-&gt; NamesT
     (TCMT IO)
     (AbsN
        (AbsN
           (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)))))
-&gt; TCMT
     IO
     (AbsN
        (AbsN
           (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)))))
forall (m :: * -&gt; *) a. [ArgName] -&gt; NamesT m a -&gt; m a
</span><a href="Agda.TypeChecking.Names.html#runNamesT"><span class="hs-identifier hs-var">runNamesT</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">(NamesT
   (TCMT IO)
   (AbsN
      (AbsN
         (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)))))
 -&gt; TCMT
      IO
      (AbsN
         (AbsN
            (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))))))
-&gt; NamesT
     (TCMT IO)
     (AbsN
        (AbsN
           (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)))))
-&gt; TCMT
     IO
     (AbsN
        (AbsN
           (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-998"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681035842"><span class="annot"><span class="annottext">hcompArgs :: [Arg ArgName]
</span><a href="#local-6989586621681035842"><span class="hs-identifier hs-var hs-var">hcompArgs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ArgName -&gt; Arg ArgName) -&gt; [ArgName] -&gt; [Arg ArgName]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; Arg ArgName
forall e. e -&gt; Arg e
</span><a href="Agda.TypeChecking.Primitive.Base.html#argN"><span class="hs-identifier hs-var">argN</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;phi&quot;</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;u&quot;</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;u0&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-999"></span><span>        </span><span class="annot"><span class="annottext">(ArgVars (TCMT IO)
 -&gt; ArgVars (TCMT IO)
 -&gt; ArgVars (TCMT IO)
 -&gt; NamesT
      (TCMT IO) (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)))
-&gt; NamesT
     (TCMT IO)
     (AbsN
        (AbsN
           (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)))))
forall (m :: * -&gt; *) b.
MonadFail m =&gt;
(ArgVars m -&gt; ArgVars m -&gt; ArgVars m -&gt; NamesT m b)
-&gt; NamesT m (AbsN (AbsN (AbsN b)))
</span><a href="#local-6989586621681035894"><span class="hs-identifier hs-var">bind_trD</span></a></span><span> </span><span class="annot"><span class="annottext">((ArgVars (TCMT IO)
  -&gt; ArgVars (TCMT IO)
  -&gt; ArgVars (TCMT IO)
  -&gt; NamesT
       (TCMT IO) (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)))
 -&gt; NamesT
      (TCMT IO)
      (AbsN
         (AbsN
            (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))))))
-&gt; (ArgVars (TCMT IO)
    -&gt; ArgVars (TCMT IO)
    -&gt; ArgVars (TCMT IO)
    -&gt; NamesT
         (TCMT IO) (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)))
-&gt; NamesT
     (TCMT IO)
     (AbsN
        (AbsN
           (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035841"><span class="annot"><span class="annottext">ArgVars (TCMT IO)
</span><a href="#local-6989586621681035841"><span class="hs-identifier hs-var">delta_ps</span></a></span></span><span> </span><span id="local-6989586621681035840"><span class="annot"><span class="annottext">ArgVars (TCMT IO)
</span><a href="#local-6989586621681035840"><span class="hs-identifier hs-var">x_ps</span></a></span></span><span> </span><span id="local-6989586621681035839"><span class="annot"><span class="annottext">ArgVars (TCMT IO)
</span><a href="#local-6989586621681035839"><span class="hs-identifier hs-var">phi_ps</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1000"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681035838"><span class="annot"><span class="annottext">x :: [NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035838"><span class="hs-identifier hs-var hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(NamesT (TCMT IO) (Arg Term) -&gt; NamesT (TCMT IO) Term)
-&gt; [NamesT (TCMT IO) (Arg Term)] -&gt; [NamesT (TCMT IO) Term]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Arg Term -&gt; Term)
-&gt; NamesT (TCMT IO) (Arg Term) -&gt; NamesT (TCMT IO) Term
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Arg Term -&gt; Term
forall e. Arg e -&gt; e
</span><a href="Agda.Syntax.Common.html#unArg"><span class="hs-identifier hs-var">unArg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) (Arg Term)]
ArgVars (TCMT IO)
</span><a href="#local-6989586621681035840"><span class="hs-identifier hs-var">x_ps</span></a></span><span>
</span><span id="line-1001"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681035836"><span class="annot"><span class="annottext">delta :: [NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035836"><span class="hs-identifier hs-var hs-var">delta</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(NamesT (TCMT IO) (Arg Term) -&gt; NamesT (TCMT IO) Term)
-&gt; [NamesT (TCMT IO) (Arg Term)] -&gt; [NamesT (TCMT IO) Term]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Arg Term -&gt; Term)
-&gt; NamesT (TCMT IO) (Arg Term) -&gt; NamesT (TCMT IO) Term
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Arg Term -&gt; Term
forall e. Arg e -&gt; e
</span><a href="Agda.Syntax.Common.html#unArg"><span class="hs-identifier hs-var">unArg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) (Arg Term)]
ArgVars (TCMT IO)
</span><a href="#local-6989586621681035841"><span class="hs-identifier hs-var">delta_ps</span></a></span><span>
</span><span id="line-1002"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">[</span><span id="local-6989586621681035835"><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035835"><span class="hs-identifier hs-var">phi</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(NamesT (TCMT IO) (Arg Term) -&gt; NamesT (TCMT IO) Term)
-&gt; [NamesT (TCMT IO) (Arg Term)] -&gt; [NamesT (TCMT IO) Term]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Arg Term -&gt; Term)
-&gt; NamesT (TCMT IO) (Arg Term) -&gt; NamesT (TCMT IO) Term
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Arg Term -&gt; Term
forall e. Arg e -&gt; e
</span><a href="Agda.Syntax.Common.html#unArg"><span class="hs-identifier hs-var">unArg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) (Arg Term)]
ArgVars (TCMT IO)
</span><a href="#local-6989586621681035839"><span class="hs-identifier hs-var">phi_ps</span></a></span><span>
</span><span id="line-1003"></span><span>        </span><span class="annot"><span class="annottext">[Arg ArgName]
-&gt; (ArgVars (TCMT IO)
    -&gt; NamesT
         (TCMT IO) ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))
-&gt; NamesT
     (TCMT IO) (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))
forall (m :: * -&gt; *) a.
MonadFail m =&gt;
[Arg ArgName] -&gt; (ArgVars m -&gt; NamesT m a) -&gt; NamesT m (AbsN a)
</span><a href="Agda.TypeChecking.Names.html#bindNArg"><span class="hs-identifier hs-var">bindNArg</span></a></span><span> </span><span class="annot"><span class="annottext">[Arg ArgName]
</span><a href="#local-6989586621681035842"><span class="hs-identifier hs-var">hcompArgs</span></a></span><span> </span><span class="annot"><span class="annottext">((ArgVars (TCMT IO)
  -&gt; NamesT
       (TCMT IO) ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))
 -&gt; NamesT
      (TCMT IO) (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)))
-&gt; (ArgVars (TCMT IO)
    -&gt; NamesT
         (TCMT IO) ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))
-&gt; NamesT
     (TCMT IO) (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035834"><span class="annot"><span class="annottext">ArgVars (TCMT IO)
</span><a href="#local-6989586621681035834"><span class="hs-identifier hs-var">as0</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-comment">-- as0 : aTel[delta 0]</span><span>
</span><span id="line-1004"></span><span>        </span><span class="hs-keyword">let</span><span>
</span><span id="line-1005"></span><span>          </span><span id="local-6989586621681035833"><span class="annot"><span class="annottext">origPHComp :: NamesT (TCMT IO) (Pattern' DBPatVar)
</span><a href="#local-6989586621681035833"><span class="hs-identifier hs-var hs-var">origPHComp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1006"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.TypeChecking.Primitive.Cubical.html#LEl"><span class="hs-identifier hs-type">LEl</span></a></span><span> </span><span id="local-6989586621681035832"><span class="annot"><span class="annottext">Level
</span><a href="#local-6989586621681035832"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681035831"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035831"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Type -&gt; NamesT (TCMT IO) (Maybe LType)
forall (m :: * -&gt; *). MonadReduce m =&gt; Type -&gt; m (Maybe LType)
</span><a href="Agda.TypeChecking.Primitive.Cubical.html#toLType"><span class="hs-identifier hs-var">toLType</span></a></span><span> </span><span class="annot"><span class="annottext">(Type -&gt; NamesT (TCMT IO) (Maybe LType))
-&gt; NamesT (TCMT IO) Type -&gt; NamesT (TCMT IO) (Maybe LType)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN Type)
</span><a href="#local-6989586621681035863"><span class="hs-identifier hs-var">dT</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN Type)
-&gt; [NamesT (TCMT IO) (SubstArg Type)] -&gt; NamesT (TCMT IO) Type
forall (m :: * -&gt; *) a.
(Monad m, Subst a) =&gt;
NamesT m (AbsN a) -&gt; [NamesT m (SubstArg a)] -&gt; NamesT m a
</span><a href="Agda.TypeChecking.Names.html#applyN"><span class="hs-operator hs-var">`applyN`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035836"><span class="hs-identifier hs-var">delta</span></a></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
-&gt; [NamesT (TCMT IO) Term] -&gt; [NamesT (TCMT IO) Term]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035838"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
-&gt; [NamesT (TCMT IO) Term] -&gt; [NamesT (TCMT IO) Term]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Term -&gt; NamesT (TCMT IO) Term
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681036017"><span class="hs-identifier hs-var">iz</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1007"></span><span>            </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681035830"><span class="annot"><span class="annottext">ds :: [Arg (Named_ (Pattern' DBPatVar))]
</span><a href="#local-6989586621681035830"><span class="hs-identifier hs-var hs-var">ds</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Term -&gt; Arg (Named_ (Pattern' DBPatVar)))
-&gt; [Term] -&gt; [Arg (Named_ (Pattern' DBPatVar))]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Named_ (Pattern' DBPatVar) -&gt; Arg (Named_ (Pattern' DBPatVar))
forall e. e -&gt; Arg e
</span><a href="Agda.TypeChecking.Primitive.Base.html#argH"><span class="hs-identifier hs-var">argH</span></a></span><span> </span><span class="annot"><span class="annottext">(Named_ (Pattern' DBPatVar) -&gt; Arg (Named_ (Pattern' DBPatVar)))
-&gt; (Term -&gt; Named_ (Pattern' DBPatVar))
-&gt; Term
-&gt; Arg (Named_ (Pattern' DBPatVar))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Pattern' DBPatVar -&gt; Named_ (Pattern' DBPatVar)
forall a name. a -&gt; Named name a
</span><a href="Agda.Syntax.Common.html#unnamed"><span class="hs-identifier hs-var">unnamed</span></a></span><span> </span><span class="annot"><span class="annottext">(Pattern' DBPatVar -&gt; Named_ (Pattern' DBPatVar))
-&gt; (Term -&gt; Pattern' DBPatVar)
-&gt; Term
-&gt; Named_ (Pattern' DBPatVar)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Term -&gt; Pattern' DBPatVar
forall a. Term -&gt; Pattern' a
</span><a href="Agda.Syntax.Internal.html#dotP"><span class="hs-identifier hs-var">dotP</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Level -&gt; Term
</span><a href="Agda.Syntax.Internal.html#Level"><span class="hs-identifier hs-var">Level</span></a></span><span> </span><span class="annot"><span class="annottext">Level
</span><a href="#local-6989586621681035832"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035831"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1008"></span><span>            </span><span id="local-6989586621681035827"><span class="annot"><span class="annottext">ps0 :: [Arg (Named_ (Pattern' DBPatVar))]
</span><a href="#local-6989586621681035827"><span class="hs-identifier hs-var">ps0</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">[</span><span id="local-6989586621681035826"><span class="annot"><span class="annottext">Arg (Named_ (Pattern' DBPatVar))
</span><a href="#local-6989586621681035826"><span class="hs-identifier hs-var">_hphi</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681035825"><span class="annot"><span class="annottext">Arg (Named_ (Pattern' DBPatVar))
</span><a href="#local-6989586621681035825"><span class="hs-identifier hs-var">_u</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681035824"><span class="annot"><span class="annottext">Arg (Named_ (Pattern' DBPatVar))
</span><a href="#local-6989586621681035824"><span class="hs-identifier hs-var">_u0</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) (Arg (Named_ (Pattern' DBPatVar)))]
-&gt; NamesT (TCMT IO) [Arg (Named_ (Pattern' DBPatVar))]
forall (t :: * -&gt; *) (m :: * -&gt; *) a.
(Traversable t, Monad m) =&gt;
t (m a) -&gt; m (t a)
</span><span class="hs-identifier hs-var">sequence</span></span><span> </span><span class="annot"><span class="annottext">([NamesT (TCMT IO) (Arg (Named_ (Pattern' DBPatVar)))]
 -&gt; NamesT (TCMT IO) [Arg (Named_ (Pattern' DBPatVar))])
-&gt; [NamesT (TCMT IO) (Arg (Named_ (Pattern' DBPatVar)))]
-&gt; NamesT (TCMT IO) [Arg (Named_ (Pattern' DBPatVar))]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) (Arg (Named_ (Pattern' DBPatVar)))]
ArgVars (TCMT IO)
</span><a href="#local-6989586621681035834"><span class="hs-identifier hs-var">as0</span></a></span><span>
</span><span id="line-1009"></span><span>            </span><span class="annot"><span class="annottext">Pattern' DBPatVar -&gt; NamesT (TCMT IO) (Pattern' DBPatVar)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(Pattern' DBPatVar -&gt; NamesT (TCMT IO) (Pattern' DBPatVar))
-&gt; Pattern' DBPatVar -&gt; NamesT (TCMT IO) (Pattern' DBPatVar)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">PatternInfo
-&gt; QName -&gt; [Arg (Named_ (Pattern' DBPatVar))] -&gt; Pattern' DBPatVar
forall x.
PatternInfo -&gt; QName -&gt; [NamedArg (Pattern' x)] -&gt; Pattern' x
</span><a href="Agda.Syntax.Internal.html#DefP"><span class="hs-identifier hs-var">DefP</span></a></span><span> </span><span class="annot"><span class="annottext">PatternInfo
</span><a href="Agda.Syntax.Internal.html#defaultPatternInfo"><span class="hs-identifier hs-var">defaultPatternInfo</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681035859"><span class="hs-identifier hs-var">qHComp</span></a></span><span> </span><span class="annot"><span class="annottext">([Arg (Named_ (Pattern' DBPatVar))] -&gt; Pattern' DBPatVar)
-&gt; [Arg (Named_ (Pattern' DBPatVar))] -&gt; Pattern' DBPatVar
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Arg (Named_ (Pattern' DBPatVar))]
</span><a href="#local-6989586621681035830"><span class="hs-identifier hs-var">ds</span></a></span><span> </span><span class="annot"><span class="annottext">[Arg (Named_ (Pattern' DBPatVar))]
-&gt; [Arg (Named_ (Pattern' DBPatVar))]
-&gt; [Arg (Named_ (Pattern' DBPatVar))]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[Arg (Named_ (Pattern' DBPatVar))]
</span><a href="#local-6989586621681035827"><span class="hs-identifier hs-var">ps0</span></a></span><span>
</span><span id="line-1010"></span><span>          </span><span id="local-6989586621681035822"><span class="annot"><span class="annottext">psHComp :: NamesT (TCMT IO) [Arg (Named_ (Pattern' DBPatVar))]
</span><a href="#local-6989586621681035822"><span class="hs-identifier hs-var hs-var">psHComp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) (Arg (Named_ (Pattern' DBPatVar)))]
-&gt; NamesT (TCMT IO) [Arg (Named_ (Pattern' DBPatVar))]
forall (t :: * -&gt; *) (m :: * -&gt; *) a.
(Traversable t, Monad m) =&gt;
t (m a) -&gt; m (t a)
</span><span class="hs-identifier hs-var">sequence</span></span><span> </span><span class="annot"><span class="annottext">([NamesT (TCMT IO) (Arg (Named_ (Pattern' DBPatVar)))]
 -&gt; NamesT (TCMT IO) [Arg (Named_ (Pattern' DBPatVar))])
-&gt; [NamesT (TCMT IO) (Arg (Named_ (Pattern' DBPatVar)))]
-&gt; NamesT (TCMT IO) [Arg (Named_ (Pattern' DBPatVar))]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) (Arg (Named_ (Pattern' DBPatVar)))]
ArgVars (TCMT IO)
</span><a href="#local-6989586621681035841"><span class="hs-identifier hs-var">delta_ps</span></a></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) (Arg (Named_ (Pattern' DBPatVar)))]
-&gt; [NamesT (TCMT IO) (Arg (Named_ (Pattern' DBPatVar)))]
-&gt; [NamesT (TCMT IO) (Arg (Named_ (Pattern' DBPatVar)))]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) (Arg (Named_ (Pattern' DBPatVar)))]
ArgVars (TCMT IO)
</span><a href="#local-6989586621681035840"><span class="hs-identifier hs-var">x_ps</span></a></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) (Arg (Named_ (Pattern' DBPatVar)))]
-&gt; [NamesT (TCMT IO) (Arg (Named_ (Pattern' DBPatVar)))]
-&gt; [NamesT (TCMT IO) (Arg (Named_ (Pattern' DBPatVar)))]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) (Arg (Named_ (Pattern' DBPatVar)))]
ArgVars (TCMT IO)
</span><a href="#local-6989586621681035839"><span class="hs-identifier hs-var">phi_ps</span></a></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) (Arg (Named_ (Pattern' DBPatVar)))]
-&gt; [NamesT (TCMT IO) (Arg (Named_ (Pattern' DBPatVar)))]
-&gt; [NamesT (TCMT IO) (Arg (Named_ (Pattern' DBPatVar)))]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Named_ (Pattern' DBPatVar) -&gt; Arg (Named_ (Pattern' DBPatVar))
forall e. e -&gt; Arg e
</span><a href="Agda.TypeChecking.Primitive.Base.html#argN"><span class="hs-identifier hs-var">argN</span></a></span><span> </span><span class="annot"><span class="annottext">(Named_ (Pattern' DBPatVar) -&gt; Arg (Named_ (Pattern' DBPatVar)))
-&gt; (Pattern' DBPatVar -&gt; Named_ (Pattern' DBPatVar))
-&gt; Pattern' DBPatVar
-&gt; Arg (Named_ (Pattern' DBPatVar))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Pattern' DBPatVar -&gt; Named_ (Pattern' DBPatVar)
forall a name. a -&gt; Named name a
</span><a href="Agda.Syntax.Common.html#unnamed"><span class="hs-identifier hs-var">unnamed</span></a></span><span> </span><span class="annot"><span class="annottext">(Pattern' DBPatVar -&gt; Arg (Named_ (Pattern' DBPatVar)))
-&gt; NamesT (TCMT IO) (Pattern' DBPatVar)
-&gt; NamesT (TCMT IO) (Arg (Named_ (Pattern' DBPatVar)))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (Pattern' DBPatVar)
</span><a href="#local-6989586621681035833"><span class="hs-identifier hs-var">origPHComp</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1011"></span><span>        </span><span class="hs-keyword">let</span><span>
</span><span id="line-1012"></span><span>          </span><span id="local-6989586621681035821"><span class="annot"><span class="annottext">rhsTy :: NamesT (TCMT IO) Type
</span><a href="#local-6989586621681035821"><span class="hs-identifier hs-var hs-var">rhsTy</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN Type)
</span><a href="#local-6989586621681035863"><span class="hs-identifier hs-var">dT</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN Type)
-&gt; [NamesT (TCMT IO) (SubstArg Type)] -&gt; NamesT (TCMT IO) Type
forall (m :: * -&gt; *) a.
(Monad m, Subst a) =&gt;
NamesT m (AbsN a) -&gt; [NamesT m (SubstArg a)] -&gt; NamesT m a
</span><a href="Agda.TypeChecking.Names.html#applyN"><span class="hs-operator hs-var">`applyN`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035836"><span class="hs-identifier hs-var">delta</span></a></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
-&gt; [NamesT (TCMT IO) Term] -&gt; [NamesT (TCMT IO) Term]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035838"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
-&gt; [NamesT (TCMT IO) Term] -&gt; [NamesT (TCMT IO) Term]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Term -&gt; NamesT (TCMT IO) Term
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681036018"><span class="hs-identifier hs-var">io</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-1013"></span><span>        </span><span class="hs-comment">-- trD &#948; x &#966; (hcomp [h&#966; &#8614; u] u0) &#8614; rhsHComp</span><span>
</span><span id="line-1014"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681035820"><span class="annot"><span class="annottext">rhsHComp :: NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035820"><span class="hs-identifier hs-var hs-var">rhsHComp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1015"></span><span>              </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">[</span><span id="local-6989586621681035819"><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035819"><span class="hs-identifier hs-var">hphi</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681035818"><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035818"><span class="hs-identifier hs-var">u</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681035817"><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035817"><span class="hs-identifier hs-var">u0</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(NamesT (TCMT IO) (Arg Term) -&gt; NamesT (TCMT IO) Term)
-&gt; [NamesT (TCMT IO) (Arg Term)] -&gt; [NamesT (TCMT IO) Term]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Arg Term -&gt; Term)
-&gt; NamesT (TCMT IO) (Arg Term) -&gt; NamesT (TCMT IO) Term
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Arg Term -&gt; Term
forall e. Arg e -&gt; e
</span><a href="Agda.Syntax.Common.html#unArg"><span class="hs-identifier hs-var">unArg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) (Arg Term)]
ArgVars (TCMT IO)
</span><a href="#local-6989586621681035834"><span class="hs-identifier hs-var">as0</span></a></span><span>
</span><span id="line-1016"></span><span>              </span><span class="hs-comment">-- TODO: should trD be transp for the datatype?</span><span>
</span><span id="line-1017"></span><span>              </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681035816"><span class="annot"><span class="annottext">baseHComp :: NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035816"><span class="hs-identifier hs-var hs-var">baseHComp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN (AbsN (AbsN Term)))
</span><a href="#local-6989586621681035871"><span class="hs-identifier hs-var">trD</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN (AbsN (AbsN Term)))
-&gt; [NamesT (TCMT IO) (SubstArg (AbsN (AbsN Term)))]
-&gt; NamesT (TCMT IO) (AbsN (AbsN Term))
forall (m :: * -&gt; *) a.
(Monad m, Subst a) =&gt;
NamesT m (AbsN a) -&gt; [NamesT m (SubstArg a)] -&gt; NamesT m a
</span><a href="Agda.TypeChecking.Names.html#applyN"><span class="hs-operator hs-var">`applyN`</span></a></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
[NamesT (TCMT IO) (SubstArg (AbsN (AbsN Term)))]
</span><a href="#local-6989586621681035836"><span class="hs-identifier hs-var">delta</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN (AbsN Term))
-&gt; [NamesT (TCMT IO) (SubstArg (AbsN Term))]
-&gt; NamesT (TCMT IO) (AbsN Term)
forall (m :: * -&gt; *) a.
(Monad m, Subst a) =&gt;
NamesT m (AbsN a) -&gt; [NamesT m (SubstArg a)] -&gt; NamesT m a
</span><a href="Agda.TypeChecking.Names.html#applyN"><span class="hs-operator hs-var">`applyN`</span></a></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
[NamesT (TCMT IO) (SubstArg (AbsN Term))]
</span><a href="#local-6989586621681035838"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN Term)
-&gt; [NamesT (TCMT IO) (SubstArg Term)] -&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *) a.
(Monad m, Subst a) =&gt;
NamesT m (AbsN a) -&gt; [NamesT m (SubstArg a)] -&gt; NamesT m a
</span><a href="Agda.TypeChecking.Names.html#applyN"><span class="hs-operator hs-var">`applyN`</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
NamesT (TCMT IO) (SubstArg Term)
</span><a href="#local-6989586621681035835"><span class="hs-identifier hs-var">phi</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
NamesT (TCMT IO) (SubstArg Term)
</span><a href="#local-6989586621681035817"><span class="hs-identifier hs-var">u0</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1018"></span><span>              </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681035815"><span class="annot"><span class="annottext">sideHComp :: NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035815"><span class="hs-identifier hs-var hs-var">sideHComp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ArgName
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *).
MonadFail m =&gt;
ArgName -&gt; (NamesT m Term -&gt; NamesT m Term) -&gt; NamesT m Term
</span><a href="Agda.TypeChecking.Names.html#lam"><span class="hs-identifier hs-var">lam</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;i&quot;</span></span><span> </span><span class="annot"><span class="annottext">((NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
 -&gt; NamesT (TCMT IO) Term)
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; NamesT (TCMT IO) Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035814"><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035814"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ArgName
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *).
MonadFail m =&gt;
ArgName -&gt; (NamesT m Term -&gt; NamesT m Term) -&gt; NamesT m Term
</span><a href="Agda.TypeChecking.Names.html#ilam"><span class="hs-identifier hs-var">ilam</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;o&quot;</span></span><span> </span><span class="annot"><span class="annottext">((NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
 -&gt; NamesT (TCMT IO) Term)
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; NamesT (TCMT IO) Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035813"><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035813"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1019"></span><span>                     </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN (AbsN (AbsN Term)))
</span><a href="#local-6989586621681035871"><span class="hs-identifier hs-var">trD</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN (AbsN (AbsN Term)))
-&gt; [NamesT (TCMT IO) (SubstArg (AbsN (AbsN Term)))]
-&gt; NamesT (TCMT IO) (AbsN (AbsN Term))
forall (m :: * -&gt; *) a.
(Monad m, Subst a) =&gt;
NamesT m (AbsN a) -&gt; [NamesT m (SubstArg a)] -&gt; NamesT m a
</span><a href="Agda.TypeChecking.Names.html#applyN"><span class="hs-operator hs-var">`applyN`</span></a></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
[NamesT (TCMT IO) (SubstArg (AbsN (AbsN Term)))]
</span><a href="#local-6989586621681035836"><span class="hs-identifier hs-var">delta</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN (AbsN Term))
-&gt; [NamesT (TCMT IO) (SubstArg (AbsN Term))]
-&gt; NamesT (TCMT IO) (AbsN Term)
forall (m :: * -&gt; *) a.
(Monad m, Subst a) =&gt;
NamesT m (AbsN a) -&gt; [NamesT m (SubstArg a)] -&gt; NamesT m a
</span><a href="Agda.TypeChecking.Names.html#applyN"><span class="hs-operator hs-var">`applyN`</span></a></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
[NamesT (TCMT IO) (SubstArg (AbsN Term))]
</span><a href="#local-6989586621681035838"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN Term)
-&gt; [NamesT (TCMT IO) (SubstArg Term)] -&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *) a.
(Monad m, Subst a) =&gt;
NamesT m (AbsN a) -&gt; [NamesT m (SubstArg a)] -&gt; NamesT m a
</span><a href="Agda.TypeChecking.Names.html#applyN"><span class="hs-operator hs-var">`applyN`</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
NamesT (TCMT IO) (SubstArg Term)
</span><a href="#local-6989586621681035835"><span class="hs-identifier hs-var">phi</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035818"><span class="hs-identifier hs-var">u</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035814"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C..%3E"><span class="hs-operator hs-var">&lt;..&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035813"><span class="hs-identifier hs-var">o</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1020"></span><span>              </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Type
-&gt; [(NamesT (TCMT IO) Term, NamesT (TCMT IO) Term)]
-&gt; NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035961"><span class="hs-identifier hs-var">hcomp</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Type
</span><a href="#local-6989586621681035821"><span class="hs-identifier hs-var">rhsTy</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035819"><span class="hs-identifier hs-var">hphi</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035815"><span class="hs-identifier hs-var">sideHComp</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035816"><span class="hs-identifier hs-var">baseHComp</span></a></span><span>
</span><span id="line-1021"></span><span>        </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([Arg (Named_ (Pattern' DBPatVar))]
 -&gt; Type
 -&gt; Term
 -&gt; ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))
-&gt; NamesT (TCMT IO) [Arg (Named_ (Pattern' DBPatVar))]
-&gt; NamesT
     (TCMT IO)
     (Type -&gt; Term -&gt; ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) [Arg (Named_ (Pattern' DBPatVar))]
</span><a href="#local-6989586621681035822"><span class="hs-identifier hs-var">psHComp</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT
  (TCMT IO)
  (Type -&gt; Term -&gt; ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))
-&gt; NamesT (TCMT IO) Type
-&gt; NamesT
     (TCMT IO)
     (Term -&gt; ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Type
</span><a href="#local-6989586621681035821"><span class="hs-identifier hs-var">rhsTy</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT
  (TCMT IO)
  (Term -&gt; ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))
-&gt; NamesT (TCMT IO) Term
-&gt; NamesT
     (TCMT IO) ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035820"><span class="hs-identifier hs-var">rhsHComp</span></a></span><span>
</span><span id="line-1022"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681035811"><span class="annot"><span class="annottext">[Arg (Named_ (Pattern' DBPatVar))]
</span><a href="#local-6989586621681035811"><span class="hs-identifier hs-var">ps</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681035810"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035810"><span class="hs-identifier hs-var">rhsTy</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681035809"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035809"><span class="hs-identifier hs-var">rhs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)
-&gt; ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)
forall a. AbsN a -&gt; a
</span><a href="Agda.TypeChecking.Names.html#unAbsN"><span class="hs-identifier hs-var">unAbsN</span></a></span><span> </span><span class="annot"><span class="annottext">(AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)
 -&gt; ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))
-&gt; AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)
-&gt; ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))
-&gt; AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)
forall a. AbsN a -&gt; a
</span><a href="Agda.TypeChecking.Names.html#unAbsN"><span class="hs-identifier hs-var">unAbsN</span></a></span><span> </span><span class="annot"><span class="annottext">(AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))
 -&gt; AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))
-&gt; AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))
-&gt; AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">AbsN (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)))
-&gt; AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))
forall a. AbsN a -&gt; a
</span><a href="Agda.TypeChecking.Names.html#unAbsN"><span class="hs-identifier hs-var">unAbsN</span></a></span><span> </span><span class="annot"><span class="annottext">(AbsN
   (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)))
 -&gt; AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)))
-&gt; AbsN
     (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)))
-&gt; AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">AbsN
  (AbsN
     (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))))
-&gt; AbsN
     (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)))
forall a. AbsN a -&gt; a
</span><a href="Agda.TypeChecking.Names.html#unAbsN"><span class="hs-identifier hs-var">unAbsN</span></a></span><span> </span><span class="annot"><span class="annottext">(AbsN
   (AbsN
      (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))))
 -&gt; AbsN
      (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))))
-&gt; AbsN
     (AbsN
        (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))))
-&gt; AbsN
     (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">AbsN
  (AbsN
     (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))))
</span><a href="#local-6989586621681035846"><span class="hs-identifier hs-var">res</span></a></span><span>
</span><span id="line-1023"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Clause -&gt; [Clause] -&gt; [Clause]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Clause -&gt; [Clause]) -&gt; TCMT IO Clause -&gt; TCM [Clause]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
-&gt; [Arg (Named_ (Pattern' DBPatVar))]
-&gt; Type
-&gt; Term
-&gt; TCMT IO Clause
forall {m :: * -&gt; *}.
MonadDebug m =&gt;
Tele (Dom Type)
-&gt; [Arg (Named_ (Pattern' DBPatVar))] -&gt; Type -&gt; Term -&gt; m Clause
</span><a href="#local-6989586621681035807"><span class="hs-identifier hs-var">mkClause</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035856"><span class="hs-identifier hs-var">gamma</span></a></span><span> </span><span class="annot"><span class="annottext">[Arg (Named_ (Pattern' DBPatVar))]
</span><a href="#local-6989586621681035811"><span class="hs-identifier hs-var">ps</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035810"><span class="hs-identifier hs-var">rhsTy</span></a></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035809"><span class="hs-identifier hs-var">rhs</span></a></span><span>
</span><span id="line-1024"></span><span>
</span><span id="line-1025"></span><span>
</span><span id="line-1026"></span><span>  </span><span id="local-6989586621681035806"><span class="annot"><span class="annottext">[Clause]
</span><a href="#local-6989586621681035806"><span class="hs-identifier hs-var">c_trX</span></a></span></span><span>   </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe QName
-&gt; TCM [Clause] -&gt; (QName -&gt; TCM [Clause]) -&gt; TCM [Clause]
forall a b. Maybe a -&gt; b -&gt; (a -&gt; b) -&gt; b
</span><a href="Agda.Utils.Maybe.html#caseMaybe"><span class="hs-identifier hs-var">caseMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe QName
</span><a href="#local-6989586621681036027"><span class="hs-identifier hs-var">mtrX</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Clause] -&gt; TCM [Clause]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((QName -&gt; TCM [Clause]) -&gt; TCM [Clause])
-&gt; (QName -&gt; TCM [Clause]) -&gt; TCM [Clause]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035805"><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681035805"><span class="hs-identifier hs-var">trX</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1027"></span><span>        </span><span class="annot"><span class="annottext">ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; TCM ()
forall (m :: * -&gt; *).
MonadDebug m =&gt;
ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; m ()
</span><a href="Agda.TypeChecking.Monad.Debug.html#reportSDoc"><span class="hs-identifier hs-var">reportSDoc</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;tc.data.transp.con&quot;</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">20</span></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Doc -&gt; TCM ()) -&gt; TCMT IO Doc -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc
</span><span class="hs-string">&quot;=======================&quot;</span></span><span>
</span><span id="line-1028"></span><span>        </span><span class="annot"><span class="annottext">ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; TCM ()
forall (m :: * -&gt; *).
MonadDebug m =&gt;
ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; m ()
</span><a href="Agda.TypeChecking.Monad.Debug.html#reportSDoc"><span class="hs-identifier hs-var">reportSDoc</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;tc.data.transp.con&quot;</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">20</span></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Doc -&gt; TCM ()) -&gt; TCMT IO Doc -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">QName -&gt; TCMT IO Doc
forall a (m :: * -&gt; *). (PrettyTCM a, MonadPretty m) =&gt; a -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#prettyTCM"><span class="hs-identifier hs-var">prettyTCM</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681035805"><span class="hs-identifier hs-var">trX</span></a></span><span>
</span><span id="line-1029"></span><span>        </span><span id="local-6989586621681035804"><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035804"><span class="hs-identifier hs-var">gamma</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[ArgName]
-&gt; NamesT (TCMT IO) (Tele (Dom Type)) -&gt; TCMT IO (Tele (Dom Type))
forall (m :: * -&gt; *) a. [ArgName] -&gt; NamesT m a -&gt; m a
</span><a href="Agda.TypeChecking.Names.html#runNamesT"><span class="hs-identifier hs-var">runNamesT</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">(NamesT (TCMT IO) (Tele (Dom Type)) -&gt; TCMT IO (Tele (Dom Type)))
-&gt; NamesT (TCMT IO) (Tele (Dom Type)) -&gt; TCMT IO (Tele (Dom Type))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1030"></span><span>                     </span><span id="local-6989586621681035803"><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN (Tele (Dom Type)))
</span><a href="#local-6989586621681035803"><span class="hs-identifier hs-var">ixsI</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">AbsN (Tele (Dom Type))
-&gt; NamesT (TCMT IO) (NamesT (TCMT IO) (AbsN (Tele (Dom Type))))
forall (m :: * -&gt; *) a.
(MonadFail m, Subst a) =&gt;
a -&gt; NamesT m (NamesT m a)
</span><a href="Agda.TypeChecking.Names.html#open"><span class="hs-identifier hs-var">open</span></a></span><span> </span><span class="annot"><span class="annottext">(AbsN (Tele (Dom Type))
 -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) (AbsN (Tele (Dom Type)))))
-&gt; AbsN (Tele (Dom Type))
-&gt; NamesT (TCMT IO) (NamesT (TCMT IO) (AbsN (Tele (Dom Type))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[ArgName] -&gt; Tele (Dom Type) -&gt; AbsN (Tele (Dom Type))
forall a. [ArgName] -&gt; a -&gt; AbsN a
</span><a href="Agda.TypeChecking.Names.html#AbsN"><span class="hs-identifier hs-var">AbsN</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; [ArgName]
</span><a href="Agda.TypeChecking.Telescope.html#teleNames"><span class="hs-identifier hs-var">teleNames</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035941"><span class="hs-identifier hs-var">parI</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035940"><span class="hs-identifier hs-var">ixsI</span></a></span><span>
</span><span id="line-1031"></span><span>                     </span><span id="local-6989586621681035802"><span class="annot"><span class="annottext">NamesT (TCMT IO) (Tele (Dom Type))
</span><a href="#local-6989586621681035802"><span class="hs-identifier hs-var">parI</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
-&gt; NamesT (TCMT IO) (NamesT (TCMT IO) (Tele (Dom Type)))
forall (m :: * -&gt; *) a.
(MonadFail m, Subst a) =&gt;
a -&gt; NamesT m (NamesT m a)
</span><a href="Agda.TypeChecking.Names.html#open"><span class="hs-identifier hs-var">open</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035941"><span class="hs-identifier hs-var">parI</span></a></span><span>
</span><span id="line-1032"></span><span>                     </span><span class="annot"><span class="annottext">(Vars (TCMT IO)
 -&gt; Vars (TCMT IO)
 -&gt; Vars (TCMT IO)
 -&gt; NamesT (TCMT IO) (Tele (Dom Type)))
-&gt; NamesT (TCMT IO) (Tele (Dom Type))
forall (m :: * -&gt; *).
MonadFail m =&gt;
(Vars m -&gt; Vars m -&gt; Vars m -&gt; NamesT m (Tele (Dom Type)))
-&gt; NamesT m (Tele (Dom Type))
</span><a href="#local-6989586621681035938"><span class="hs-identifier hs-var">abstract_trD</span></a></span><span> </span><span class="annot"><span class="annottext">((Vars (TCMT IO)
  -&gt; Vars (TCMT IO)
  -&gt; Vars (TCMT IO)
  -&gt; NamesT (TCMT IO) (Tele (Dom Type)))
 -&gt; NamesT (TCMT IO) (Tele (Dom Type)))
-&gt; (Vars (TCMT IO)
    -&gt; Vars (TCMT IO)
    -&gt; Vars (TCMT IO)
    -&gt; NamesT (TCMT IO) (Tele (Dom Type)))
-&gt; NamesT (TCMT IO) (Tele (Dom Type))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035801"><span class="annot"><span class="annottext">Vars (TCMT IO)
</span><a href="#local-6989586621681035801"><span class="hs-identifier hs-var">delta</span></a></span></span><span> </span><span class="annot"><span class="annottext">Vars (TCMT IO)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Vars (TCMT IO)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1033"></span><span>                     </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681035800"><span class="annot"><span class="annottext">delta0_refl :: [NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035800"><span class="hs-identifier hs-var hs-var">delta0_refl</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
 -&gt; [NamesT (TCMT IO) Term] -&gt; [NamesT (TCMT IO) Term])
-&gt; [NamesT (TCMT IO) Term]
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; [NamesT (TCMT IO) Term]
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">(NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; [NamesT (TCMT IO) Term] -&gt; [NamesT (TCMT IO) Term]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
Vars (TCMT IO)
</span><a href="#local-6989586621681035801"><span class="hs-identifier hs-var">delta</span></a></span><span> </span><span class="annot"><span class="annottext">((NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
 -&gt; [NamesT (TCMT IO) Term])
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; [NamesT (TCMT IO) Term]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035798"><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035798"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ArgName
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *).
MonadFail m =&gt;
ArgName -&gt; (NamesT m Term -&gt; NamesT m Term) -&gt; NamesT m Term
</span><a href="Agda.TypeChecking.Names.html#lam"><span class="hs-identifier hs-var">lam</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;i&quot;</span></span><span> </span><span class="annot"><span class="annottext">((NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
 -&gt; NamesT (TCMT IO) Term)
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; NamesT (TCMT IO) Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035798"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; NamesT (TCMT IO) Term
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681036017"><span class="hs-identifier hs-var">iz</span></a></span><span>
</span><span id="line-1034"></span><span>                     </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (Tele (Dom Type))
-&gt; (Vars (TCMT IO) -&gt; NamesT (TCMT IO) (Tele (Dom Type)))
-&gt; NamesT (TCMT IO) (Tele (Dom Type))
forall (m :: * -&gt; *) a.
(MonadFail m, Abstract a) =&gt;
NamesT m (Tele (Dom Type)) -&gt; (Vars m -&gt; NamesT m a) -&gt; NamesT m a
</span><a href="Agda.TypeChecking.Names.html#abstractN"><span class="hs-identifier hs-var">abstractN</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN (Tele (Dom Type)))
</span><a href="#local-6989586621681035803"><span class="hs-identifier hs-var">ixsI</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN (Tele (Dom Type)))
-&gt; [NamesT (TCMT IO) (SubstArg (Tele (Dom Type)))]
-&gt; NamesT (TCMT IO) (Tele (Dom Type))
forall (m :: * -&gt; *) a.
(Monad m, Subst a) =&gt;
NamesT m (AbsN a) -&gt; [NamesT m (SubstArg a)] -&gt; NamesT m a
</span><a href="Agda.TypeChecking.Names.html#applyN"><span class="hs-operator hs-var">`applyN`</span></a></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
[NamesT (TCMT IO) (SubstArg (Tele (Dom Type)))]
</span><a href="#local-6989586621681035800"><span class="hs-identifier hs-var">delta0_refl</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((Vars (TCMT IO) -&gt; NamesT (TCMT IO) (Tele (Dom Type)))
 -&gt; NamesT (TCMT IO) (Tele (Dom Type)))
-&gt; (Vars (TCMT IO) -&gt; NamesT (TCMT IO) (Tele (Dom Type)))
-&gt; NamesT (TCMT IO) (Tele (Dom Type))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035797"><span class="annot"><span class="annottext">Vars (TCMT IO)
</span><a href="#local-6989586621681035797"><span class="hs-identifier hs-var">x'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1035"></span><span>                     </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (Tele (Dom Type))
-&gt; (Vars (TCMT IO) -&gt; NamesT (TCMT IO) (Tele (Dom Type)))
-&gt; NamesT (TCMT IO) (Tele (Dom Type))
forall (m :: * -&gt; *) a.
(MonadFail m, Abstract a) =&gt;
NamesT m (Tele (Dom Type)) -&gt; (Vars m -&gt; NamesT m a) -&gt; NamesT m a
</span><a href="Agda.TypeChecking.Names.html#abstractN"><span class="hs-identifier hs-var">abstractN</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; NamesT (TCMT IO) (Tele (Dom Type))
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(Tele (Dom Type) -&gt; NamesT (TCMT IO) (Tele (Dom Type)))
-&gt; Tele (Dom Type) -&gt; NamesT (TCMT IO) (Tele (Dom Type))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; Tele (Dom Type)
</span><a href="#local-6989586621681035943"><span class="hs-identifier hs-var">intervalTel</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;phi'&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((Vars (TCMT IO) -&gt; NamesT (TCMT IO) (Tele (Dom Type)))
 -&gt; NamesT (TCMT IO) (Tele (Dom Type)))
-&gt; (Vars (TCMT IO) -&gt; NamesT (TCMT IO) (Tele (Dom Type)))
-&gt; NamesT (TCMT IO) (Tele (Dom Type))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">Vars (TCMT IO)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1036"></span><span>                     </span><span id="local-6989586621681035796"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035796"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN Type)
</span><a href="#local-6989586621681035863"><span class="hs-identifier hs-var">dT</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN Type)
-&gt; [NamesT (TCMT IO) (SubstArg Type)] -&gt; NamesT (TCMT IO) Type
forall (m :: * -&gt; *) a.
(Monad m, Subst a) =&gt;
NamesT m (AbsN a) -&gt; [NamesT m (SubstArg a)] -&gt; NamesT m a
</span><a href="Agda.TypeChecking.Names.html#applyN"><span class="hs-operator hs-var">`applyN`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035800"><span class="hs-identifier hs-var">delta0_refl</span></a></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
-&gt; [NamesT (TCMT IO) Term] -&gt; [NamesT (TCMT IO) Term]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
Vars (TCMT IO)
</span><a href="#local-6989586621681035797"><span class="hs-identifier hs-var">x'</span></a></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
-&gt; [NamesT (TCMT IO) Term] -&gt; [NamesT (TCMT IO) Term]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Term -&gt; NamesT (TCMT IO) Term
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681036017"><span class="hs-identifier hs-var">iz</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-1037"></span><span>                     </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; NamesT (TCMT IO) (Tele (Dom Type))
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(Tele (Dom Type) -&gt; NamesT (TCMT IO) (Tele (Dom Type)))
-&gt; Tele (Dom Type) -&gt; NamesT (TCMT IO) (Tele (Dom Type))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Dom Type -&gt; Abs (Tele (Dom Type)) -&gt; Tele (Dom Type)
forall a. a -&gt; Abs (Tele a) -&gt; Tele a
</span><a href="Agda.Syntax.Internal.html#ExtendTel"><span class="hs-identifier hs-var">ExtendTel</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type -&gt; Dom Type
forall a. a -&gt; Dom a
</span><a href="Agda.Syntax.Internal.html#defaultDom"><span class="hs-identifier hs-var">defaultDom</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035796"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Abs (Tele (Dom Type)) -&gt; Tele (Dom Type))
-&gt; Abs (Tele (Dom Type)) -&gt; Tele (Dom Type)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; Tele (Dom Type) -&gt; Abs (Tele (Dom Type))
forall a. ArgName -&gt; a -&gt; Abs a
</span><a href="Agda.Syntax.Internal.html#Abs"><span class="hs-identifier hs-var">Abs</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;t&quot;</span></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
forall a. Tele a
</span><a href="Agda.Syntax.Internal.html#EmptyTel"><span class="hs-identifier hs-var">EmptyTel</span></a></span><span>
</span><span id="line-1038"></span><span>        </span><span id="local-6989586621681035795"><span class="annot"><span class="annottext">AbsN
  (AbsN
     (AbsN
        (AbsN
           (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))))))
</span><a href="#local-6989586621681035795"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[ArgName]
-&gt; NamesT
     (TCMT IO)
     (AbsN
        (AbsN
           (AbsN
              (AbsN
                 (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)))))))
-&gt; TCMT
     IO
     (AbsN
        (AbsN
           (AbsN
              (AbsN
                 (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)))))))
forall (m :: * -&gt; *) a. [ArgName] -&gt; NamesT m a -&gt; m a
</span><a href="Agda.TypeChecking.Names.html#runNamesT"><span class="hs-identifier hs-var">runNamesT</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">(NamesT
   (TCMT IO)
   (AbsN
      (AbsN
         (AbsN
            (AbsN
               (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)))))))
 -&gt; TCMT
      IO
      (AbsN
         (AbsN
            (AbsN
               (AbsN
                  (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))))))))
-&gt; NamesT
     (TCMT IO)
     (AbsN
        (AbsN
           (AbsN
              (AbsN
                 (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)))))))
-&gt; TCMT
     IO
     (AbsN
        (AbsN
           (AbsN
              (AbsN
                 (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)))))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1039"></span><span>          </span><span class="annot"><span class="annottext">(ArgVars (TCMT IO)
 -&gt; ArgVars (TCMT IO)
 -&gt; ArgVars (TCMT IO)
 -&gt; NamesT
      (TCMT IO)
      (AbsN
         (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)))))
-&gt; NamesT
     (TCMT IO)
     (AbsN
        (AbsN
           (AbsN
              (AbsN
                 (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)))))))
forall (m :: * -&gt; *) b.
MonadFail m =&gt;
(ArgVars m -&gt; ArgVars m -&gt; ArgVars m -&gt; NamesT m b)
-&gt; NamesT m (AbsN (AbsN (AbsN b)))
</span><a href="#local-6989586621681035894"><span class="hs-identifier hs-var">bind_trD</span></a></span><span> </span><span class="annot"><span class="annottext">((ArgVars (TCMT IO)
  -&gt; ArgVars (TCMT IO)
  -&gt; ArgVars (TCMT IO)
  -&gt; NamesT
       (TCMT IO)
       (AbsN
          (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)))))
 -&gt; NamesT
      (TCMT IO)
      (AbsN
         (AbsN
            (AbsN
               (AbsN
                  (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))))))))
-&gt; (ArgVars (TCMT IO)
    -&gt; ArgVars (TCMT IO)
    -&gt; ArgVars (TCMT IO)
    -&gt; NamesT
         (TCMT IO)
         (AbsN
            (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)))))
-&gt; NamesT
     (TCMT IO)
     (AbsN
        (AbsN
           (AbsN
              (AbsN
                 (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)))))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035794"><span class="annot"><span class="annottext">ArgVars (TCMT IO)
</span><a href="#local-6989586621681035794"><span class="hs-identifier hs-var">delta_ps</span></a></span></span><span> </span><span id="local-6989586621681035793"><span class="annot"><span class="annottext">ArgVars (TCMT IO)
</span><a href="#local-6989586621681035793"><span class="hs-identifier hs-var">x_ps</span></a></span></span><span> </span><span id="local-6989586621681035792"><span class="annot"><span class="annottext">ArgVars (TCMT IO)
</span><a href="#local-6989586621681035792"><span class="hs-identifier hs-var">phi_ps</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1040"></span><span>          </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681035791"><span class="annot"><span class="annottext">x :: [NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035791"><span class="hs-identifier hs-var hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(NamesT (TCMT IO) (Arg Term) -&gt; NamesT (TCMT IO) Term)
-&gt; [NamesT (TCMT IO) (Arg Term)] -&gt; [NamesT (TCMT IO) Term]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Arg Term -&gt; Term)
-&gt; NamesT (TCMT IO) (Arg Term) -&gt; NamesT (TCMT IO) Term
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Arg Term -&gt; Term
forall e. Arg e -&gt; e
</span><a href="Agda.Syntax.Common.html#unArg"><span class="hs-identifier hs-var">unArg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) (Arg Term)]
ArgVars (TCMT IO)
</span><a href="#local-6989586621681035793"><span class="hs-identifier hs-var">x_ps</span></a></span><span>
</span><span id="line-1041"></span><span>          </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681035790"><span class="annot"><span class="annottext">delta :: [NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035790"><span class="hs-identifier hs-var hs-var">delta</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(NamesT (TCMT IO) (Arg Term) -&gt; NamesT (TCMT IO) Term)
-&gt; [NamesT (TCMT IO) (Arg Term)] -&gt; [NamesT (TCMT IO) Term]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Arg Term -&gt; Term)
-&gt; NamesT (TCMT IO) (Arg Term) -&gt; NamesT (TCMT IO) Term
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Arg Term -&gt; Term
forall e. Arg e -&gt; e
</span><a href="Agda.Syntax.Common.html#unArg"><span class="hs-identifier hs-var">unArg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) (Arg Term)]
ArgVars (TCMT IO)
</span><a href="#local-6989586621681035794"><span class="hs-identifier hs-var">delta_ps</span></a></span><span>
</span><span id="line-1042"></span><span>          </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">[</span><span id="local-6989586621681035789"><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035789"><span class="hs-identifier hs-var">phi</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(NamesT (TCMT IO) (Arg Term) -&gt; NamesT (TCMT IO) Term)
-&gt; [NamesT (TCMT IO) (Arg Term)] -&gt; [NamesT (TCMT IO) Term]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Arg Term -&gt; Term)
-&gt; NamesT (TCMT IO) (Arg Term) -&gt; NamesT (TCMT IO) Term
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Arg Term -&gt; Term
forall e. Arg e -&gt; e
</span><a href="Agda.Syntax.Common.html#unArg"><span class="hs-identifier hs-var">unArg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) (Arg Term)]
ArgVars (TCMT IO)
</span><a href="#local-6989586621681035792"><span class="hs-identifier hs-var">phi_ps</span></a></span><span>
</span><span id="line-1043"></span><span>          </span><span class="hs-comment">--- pattern matching args below</span><span>
</span><span id="line-1044"></span><span>          </span><span class="annot"><span class="annottext">[Arg ArgName]
-&gt; (ArgVars (TCMT IO)
    -&gt; NamesT
         (TCMT IO)
         (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))))
-&gt; NamesT
     (TCMT IO)
     (AbsN
        (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))))
forall (m :: * -&gt; *) a.
MonadFail m =&gt;
[Arg ArgName] -&gt; (ArgVars m -&gt; NamesT m a) -&gt; NamesT m (AbsN a)
</span><a href="Agda.TypeChecking.Names.html#bindNArg"><span class="hs-identifier hs-var">bindNArg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Arg ArgName -&gt; Arg ArgName) -&gt; [Arg ArgName] -&gt; [Arg ArgName]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(ArgName -&gt; ArgName) -&gt; Arg ArgName -&gt; Arg ArgName
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ArgName -&gt; ArgName -&gt; ArgName
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;'&quot;</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; [Arg ArgName]
</span><a href="Agda.TypeChecking.Telescope.html#teleArgNames"><span class="hs-identifier hs-var">teleArgNames</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035940"><span class="hs-identifier hs-var">ixsI</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((ArgVars (TCMT IO)
  -&gt; NamesT
       (TCMT IO)
       (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))))
 -&gt; NamesT
      (TCMT IO)
      (AbsN
         (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)))))
-&gt; (ArgVars (TCMT IO)
    -&gt; NamesT
         (TCMT IO)
         (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))))
-&gt; NamesT
     (TCMT IO)
     (AbsN
        (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035788"><span class="annot"><span class="annottext">ArgVars (TCMT IO)
</span><a href="#local-6989586621681035788"><span class="hs-identifier hs-var">x'_ps</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1045"></span><span>          </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681035787"><span class="annot"><span class="annottext">x' :: [NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035787"><span class="hs-identifier hs-var hs-var">x'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(NamesT (TCMT IO) (Arg Term) -&gt; NamesT (TCMT IO) Term)
-&gt; [NamesT (TCMT IO) (Arg Term)] -&gt; [NamesT (TCMT IO) Term]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Arg Term -&gt; Term)
-&gt; NamesT (TCMT IO) (Arg Term) -&gt; NamesT (TCMT IO) Term
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Arg Term -&gt; Term
forall e. Arg e -&gt; e
</span><a href="Agda.Syntax.Common.html#unArg"><span class="hs-identifier hs-var">unArg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) (Arg Term)]
ArgVars (TCMT IO)
</span><a href="#local-6989586621681035788"><span class="hs-identifier hs-var">x'_ps</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Agda.TypeChecking.Names.html#NamesT"><span class="hs-identifier hs-type">NamesT</span></a></span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#TCM"><span class="hs-identifier hs-type">TCM</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1046"></span><span>          </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681035786"><span class="annot"><span class="annottext">phi'name :: [Arg ArgName]
</span><a href="#local-6989586621681035786"><span class="hs-identifier hs-var hs-var">phi'name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; [Arg ArgName]
</span><a href="Agda.TypeChecking.Telescope.html#teleArgNames"><span class="hs-identifier hs-var">teleArgNames</span></a></span><span> </span><span class="annot"><span class="annottext">(Tele (Dom Type) -&gt; [Arg ArgName])
-&gt; Tele (Dom Type) -&gt; [Arg ArgName]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; Tele (Dom Type)
</span><a href="#local-6989586621681035943"><span class="hs-identifier hs-var">intervalTel</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;phi'&quot;</span></span><span>
</span><span id="line-1047"></span><span>          </span><span class="annot"><span class="annottext">[Arg ArgName]
-&gt; (ArgVars (TCMT IO)
    -&gt; NamesT
         (TCMT IO) (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)))
-&gt; NamesT
     (TCMT IO)
     (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)))
forall (m :: * -&gt; *) a.
MonadFail m =&gt;
[Arg ArgName] -&gt; (ArgVars m -&gt; NamesT m a) -&gt; NamesT m (AbsN a)
</span><a href="Agda.TypeChecking.Names.html#bindNArg"><span class="hs-identifier hs-var">bindNArg</span></a></span><span> </span><span class="annot"><span class="annottext">[Arg ArgName]
</span><a href="#local-6989586621681035786"><span class="hs-identifier hs-var">phi'name</span></a></span><span> </span><span class="annot"><span class="annottext">((ArgVars (TCMT IO)
  -&gt; NamesT
       (TCMT IO) (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)))
 -&gt; NamesT
      (TCMT IO)
      (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))))
-&gt; (ArgVars (TCMT IO)
    -&gt; NamesT
         (TCMT IO) (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)))
-&gt; NamesT
     (TCMT IO)
     (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035785"><span class="annot"><span class="annottext">ArgVars (TCMT IO)
</span><a href="#local-6989586621681035785"><span class="hs-identifier hs-var">phi'_ps</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1048"></span><span>          </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681035784"><span class="annot"><span class="annottext">phi's :: [NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035784"><span class="hs-identifier hs-var hs-var">phi's</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(NamesT (TCMT IO) (Arg Term) -&gt; NamesT (TCMT IO) Term)
-&gt; [NamesT (TCMT IO) (Arg Term)] -&gt; [NamesT (TCMT IO) Term]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Arg Term -&gt; Term)
-&gt; NamesT (TCMT IO) (Arg Term) -&gt; NamesT (TCMT IO) Term
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Arg Term -&gt; Term
forall e. Arg e -&gt; e
</span><a href="Agda.Syntax.Common.html#unArg"><span class="hs-identifier hs-var">unArg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) (Arg Term)]
ArgVars (TCMT IO)
</span><a href="#local-6989586621681035785"><span class="hs-identifier hs-var">phi'_ps</span></a></span><span>
</span><span id="line-1049"></span><span>          </span><span class="annot"><span class="annottext">[Arg ArgName]
-&gt; (ArgVars (TCMT IO)
    -&gt; NamesT
         (TCMT IO) ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))
-&gt; NamesT
     (TCMT IO) (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))
forall (m :: * -&gt; *) a.
MonadFail m =&gt;
[Arg ArgName] -&gt; (ArgVars m -&gt; NamesT m a) -&gt; NamesT m (AbsN a)
</span><a href="Agda.TypeChecking.Names.html#bindNArg"><span class="hs-identifier hs-var">bindNArg</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">ArgName -&gt; Arg ArgName
forall e. e -&gt; Arg e
</span><a href="Agda.TypeChecking.Primitive.Base.html#argN"><span class="hs-identifier hs-var">argN</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;t&quot;</span></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">((ArgVars (TCMT IO)
  -&gt; NamesT
       (TCMT IO) ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))
 -&gt; NamesT
      (TCMT IO) (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)))
-&gt; (ArgVars (TCMT IO)
    -&gt; NamesT
         (TCMT IO) ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))
-&gt; NamesT
     (TCMT IO) (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035783"><span class="annot"><span class="annottext">ArgVars (TCMT IO)
</span><a href="#local-6989586621681035783"><span class="hs-identifier hs-var">as0</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1050"></span><span>          </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681035782"><span class="annot"><span class="annottext">deltaArg :: NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) [Arg Term]
</span><a href="#local-6989586621681035782"><span class="hs-identifier hs-var hs-var">deltaArg</span></a></span></span><span> </span><span id="local-6989586621681035781"><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035781"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1051"></span><span>                </span><span id="local-6989586621681035780"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035780"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035781"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-1052"></span><span>                </span><span id="local-6989586621681035779"><span class="annot"><span class="annottext">[Arg Term]
</span><a href="#local-6989586621681035779"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) (Arg Term)] -&gt; NamesT (TCMT IO) [Arg Term]
forall (t :: * -&gt; *) (m :: * -&gt; *) a.
(Traversable t, Monad m) =&gt;
t (m a) -&gt; m (t a)
</span><span class="hs-identifier hs-var">sequence</span></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) (Arg Term)]
ArgVars (TCMT IO)
</span><a href="#local-6989586621681035794"><span class="hs-identifier hs-var">delta_ps</span></a></span><span>
</span><span id="line-1053"></span><span>                </span><span class="annot"><span class="annottext">[Arg Term] -&gt; NamesT (TCMT IO) [Arg Term]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">([Arg Term] -&gt; NamesT (TCMT IO) [Arg Term])
-&gt; [Arg Term] -&gt; NamesT (TCMT IO) [Arg Term]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Arg Term -&gt; Arg Term) -&gt; [Arg Term] -&gt; [Arg Term]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Term -&gt; Term) -&gt; Arg Term -&gt; Arg Term
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term -&gt; [Arg Term] -&gt; Term
forall t. Apply t =&gt; t -&gt; [Arg Term] -&gt; t
</span><a href="Agda.TypeChecking.Substitute.Class.html#apply"><span class="hs-operator hs-var">`apply`</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Term -&gt; Arg Term
forall e. e -&gt; Arg e
</span><a href="Agda.TypeChecking.Primitive.Base.html#argN"><span class="hs-identifier hs-var">argN</span></a></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035780"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Arg Term]
</span><a href="#local-6989586621681035779"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1054"></span><span>
</span><span id="line-1055"></span><span>          </span><span class="hs-keyword">let</span><span>
</span><span id="line-1056"></span><span>            </span><span id="local-6989586621681035778"><span class="annot"><span class="annottext">origPTrX :: NamesT (TCMT IO) (Pattern' DBPatVar)
</span><a href="#local-6989586621681035778"><span class="hs-identifier hs-var hs-var">origPTrX</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1057"></span><span>              </span><span id="local-6989586621681035777"><span class="annot"><span class="annottext">[Arg (Named_ (Pattern' DBPatVar))]
</span><a href="#local-6989586621681035777"><span class="hs-identifier hs-var">x'_ps</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) (Arg (Named_ (Pattern' DBPatVar)))]
-&gt; NamesT (TCMT IO) [Arg (Named_ (Pattern' DBPatVar))]
forall (t :: * -&gt; *) (m :: * -&gt; *) a.
(Traversable t, Monad m) =&gt;
t (m a) -&gt; m (t a)
</span><span class="hs-identifier hs-var">sequence</span></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) (Arg (Named_ (Pattern' DBPatVar)))]
ArgVars (TCMT IO)
</span><a href="#local-6989586621681035788"><span class="hs-identifier hs-var">x'_ps</span></a></span><span>
</span><span id="line-1058"></span><span>              </span><span id="local-6989586621681035776"><span class="annot"><span class="annottext">[Arg (Named_ (Pattern' DBPatVar))]
</span><a href="#local-6989586621681035776"><span class="hs-identifier hs-var">phi'_ps</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) (Arg (Named_ (Pattern' DBPatVar)))]
-&gt; NamesT (TCMT IO) [Arg (Named_ (Pattern' DBPatVar))]
forall (t :: * -&gt; *) (m :: * -&gt; *) a.
(Traversable t, Monad m) =&gt;
t (m a) -&gt; m (t a)
</span><span class="hs-identifier hs-var">sequence</span></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) (Arg (Named_ (Pattern' DBPatVar)))]
ArgVars (TCMT IO)
</span><a href="#local-6989586621681035785"><span class="hs-identifier hs-var">phi'_ps</span></a></span><span>
</span><span id="line-1059"></span><span>              </span><span id="local-6989586621681035775"><span class="annot"><span class="annottext">[Arg (Named_ (Pattern' DBPatVar))]
</span><a href="#local-6989586621681035775"><span class="hs-identifier hs-var">ds</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Arg Term -&gt; Arg (Named_ (Pattern' DBPatVar)))
-&gt; [Arg Term] -&gt; [Arg (Named_ (Pattern' DBPatVar))]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Hiding
-&gt; Arg (Named_ (Pattern' DBPatVar))
-&gt; Arg (Named_ (Pattern' DBPatVar))
forall a. LensHiding a =&gt; Hiding -&gt; a -&gt; a
</span><a href="Agda.Syntax.Common.html#setHiding"><span class="hs-identifier hs-var">setHiding</span></a></span><span> </span><span class="annot"><span class="annottext">Hiding
</span><a href="Agda.Syntax.Common.html#Hidden"><span class="hs-identifier hs-var">Hidden</span></a></span><span> </span><span class="annot"><span class="annottext">(Arg (Named_ (Pattern' DBPatVar))
 -&gt; Arg (Named_ (Pattern' DBPatVar)))
-&gt; (Arg Term -&gt; Arg (Named_ (Pattern' DBPatVar)))
-&gt; Arg Term
-&gt; Arg (Named_ (Pattern' DBPatVar))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Term -&gt; Named_ (Pattern' DBPatVar))
-&gt; Arg Term -&gt; Arg (Named_ (Pattern' DBPatVar))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Pattern' DBPatVar -&gt; Named_ (Pattern' DBPatVar)
forall a name. a -&gt; Named name a
</span><a href="Agda.Syntax.Common.html#unnamed"><span class="hs-identifier hs-var">unnamed</span></a></span><span> </span><span class="annot"><span class="annottext">(Pattern' DBPatVar -&gt; Named_ (Pattern' DBPatVar))
-&gt; (Term -&gt; Pattern' DBPatVar)
-&gt; Term
-&gt; Named_ (Pattern' DBPatVar)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Term -&gt; Pattern' DBPatVar
forall a. Term -&gt; Pattern' a
</span><a href="Agda.Syntax.Internal.html#dotP"><span class="hs-identifier hs-var">dotP</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([Arg Term] -&gt; [Arg (Named_ (Pattern' DBPatVar))])
-&gt; NamesT (TCMT IO) [Arg Term]
-&gt; NamesT (TCMT IO) [Arg (Named_ (Pattern' DBPatVar))]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) [Arg Term]
</span><a href="#local-6989586621681035782"><span class="hs-identifier hs-var">deltaArg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term -&gt; NamesT (TCMT IO) Term
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681036017"><span class="hs-identifier hs-var">iz</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1060"></span><span>              </span><span id="local-6989586621681035774"><span class="annot"><span class="annottext">ps0 :: [Arg (Named_ (Pattern' DBPatVar))]
</span><a href="#local-6989586621681035774"><span class="hs-identifier hs-var">ps0</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">[</span><span id="local-6989586621681035773"><span class="annot"><span class="annottext">Arg (Named_ (Pattern' DBPatVar))
</span><a href="#local-6989586621681035773"><span class="hs-identifier hs-var">_t</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) (Arg (Named_ (Pattern' DBPatVar)))]
-&gt; NamesT (TCMT IO) [Arg (Named_ (Pattern' DBPatVar))]
forall (t :: * -&gt; *) (m :: * -&gt; *) a.
(Traversable t, Monad m) =&gt;
t (m a) -&gt; m (t a)
</span><span class="hs-identifier hs-var">sequence</span></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) (Arg (Named_ (Pattern' DBPatVar)))]
ArgVars (TCMT IO)
</span><a href="#local-6989586621681035783"><span class="hs-identifier hs-var">as0</span></a></span><span>
</span><span id="line-1061"></span><span>              </span><span class="annot"><span class="annottext">Pattern' DBPatVar -&gt; NamesT (TCMT IO) (Pattern' DBPatVar)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(Pattern' DBPatVar -&gt; NamesT (TCMT IO) (Pattern' DBPatVar))
-&gt; Pattern' DBPatVar -&gt; NamesT (TCMT IO) (Pattern' DBPatVar)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">PatternInfo
-&gt; QName -&gt; [Arg (Named_ (Pattern' DBPatVar))] -&gt; Pattern' DBPatVar
forall x.
PatternInfo -&gt; QName -&gt; [NamedArg (Pattern' x)] -&gt; Pattern' x
</span><a href="Agda.Syntax.Internal.html#DefP"><span class="hs-identifier hs-var">DefP</span></a></span><span> </span><span class="annot"><span class="annottext">PatternInfo
</span><a href="Agda.Syntax.Internal.html#defaultPatternInfo"><span class="hs-identifier hs-var">defaultPatternInfo</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681035805"><span class="hs-identifier hs-var">trX</span></a></span><span> </span><span class="annot"><span class="annottext">([Arg (Named_ (Pattern' DBPatVar))] -&gt; Pattern' DBPatVar)
-&gt; [Arg (Named_ (Pattern' DBPatVar))] -&gt; Pattern' DBPatVar
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Arg (Named_ (Pattern' DBPatVar))]
</span><a href="#local-6989586621681035775"><span class="hs-identifier hs-var">ds</span></a></span><span> </span><span class="annot"><span class="annottext">[Arg (Named_ (Pattern' DBPatVar))]
-&gt; [Arg (Named_ (Pattern' DBPatVar))]
-&gt; [Arg (Named_ (Pattern' DBPatVar))]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[Arg (Named_ (Pattern' DBPatVar))]
</span><a href="#local-6989586621681035777"><span class="hs-identifier hs-var">x'_ps</span></a></span><span> </span><span class="annot"><span class="annottext">[Arg (Named_ (Pattern' DBPatVar))]
-&gt; [Arg (Named_ (Pattern' DBPatVar))]
-&gt; [Arg (Named_ (Pattern' DBPatVar))]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[Arg (Named_ (Pattern' DBPatVar))]
</span><a href="#local-6989586621681035776"><span class="hs-identifier hs-var">phi'_ps</span></a></span><span> </span><span class="annot"><span class="annottext">[Arg (Named_ (Pattern' DBPatVar))]
-&gt; [Arg (Named_ (Pattern' DBPatVar))]
-&gt; [Arg (Named_ (Pattern' DBPatVar))]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[Arg (Named_ (Pattern' DBPatVar))]
</span><a href="#local-6989586621681035774"><span class="hs-identifier hs-var">ps0</span></a></span><span>
</span><span id="line-1062"></span><span>            </span><span id="local-6989586621681035772"><span class="annot"><span class="annottext">psTrX :: NamesT (TCMT IO) [Arg (Named_ (Pattern' DBPatVar))]
</span><a href="#local-6989586621681035772"><span class="hs-identifier hs-var hs-var">psTrX</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) (Arg (Named_ (Pattern' DBPatVar)))]
-&gt; NamesT (TCMT IO) [Arg (Named_ (Pattern' DBPatVar))]
forall (t :: * -&gt; *) (m :: * -&gt; *) a.
(Traversable t, Monad m) =&gt;
t (m a) -&gt; m (t a)
</span><span class="hs-identifier hs-var">sequence</span></span><span> </span><span class="annot"><span class="annottext">([NamesT (TCMT IO) (Arg (Named_ (Pattern' DBPatVar)))]
 -&gt; NamesT (TCMT IO) [Arg (Named_ (Pattern' DBPatVar))])
-&gt; [NamesT (TCMT IO) (Arg (Named_ (Pattern' DBPatVar)))]
-&gt; NamesT (TCMT IO) [Arg (Named_ (Pattern' DBPatVar))]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) (Arg (Named_ (Pattern' DBPatVar)))]
ArgVars (TCMT IO)
</span><a href="#local-6989586621681035794"><span class="hs-identifier hs-var">delta_ps</span></a></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) (Arg (Named_ (Pattern' DBPatVar)))]
-&gt; [NamesT (TCMT IO) (Arg (Named_ (Pattern' DBPatVar)))]
-&gt; [NamesT (TCMT IO) (Arg (Named_ (Pattern' DBPatVar)))]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) (Arg (Named_ (Pattern' DBPatVar)))]
ArgVars (TCMT IO)
</span><a href="#local-6989586621681035793"><span class="hs-identifier hs-var">x_ps</span></a></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) (Arg (Named_ (Pattern' DBPatVar)))]
-&gt; [NamesT (TCMT IO) (Arg (Named_ (Pattern' DBPatVar)))]
-&gt; [NamesT (TCMT IO) (Arg (Named_ (Pattern' DBPatVar)))]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) (Arg (Named_ (Pattern' DBPatVar)))]
ArgVars (TCMT IO)
</span><a href="#local-6989586621681035792"><span class="hs-identifier hs-var">phi_ps</span></a></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) (Arg (Named_ (Pattern' DBPatVar)))]
-&gt; [NamesT (TCMT IO) (Arg (Named_ (Pattern' DBPatVar)))]
-&gt; [NamesT (TCMT IO) (Arg (Named_ (Pattern' DBPatVar)))]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Named_ (Pattern' DBPatVar) -&gt; Arg (Named_ (Pattern' DBPatVar))
forall e. e -&gt; Arg e
</span><a href="Agda.TypeChecking.Primitive.Base.html#argN"><span class="hs-identifier hs-var">argN</span></a></span><span> </span><span class="annot"><span class="annottext">(Named_ (Pattern' DBPatVar) -&gt; Arg (Named_ (Pattern' DBPatVar)))
-&gt; (Pattern' DBPatVar -&gt; Named_ (Pattern' DBPatVar))
-&gt; Pattern' DBPatVar
-&gt; Arg (Named_ (Pattern' DBPatVar))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Pattern' DBPatVar -&gt; Named_ (Pattern' DBPatVar)
forall a name. a -&gt; Named name a
</span><a href="Agda.Syntax.Common.html#unnamed"><span class="hs-identifier hs-var">unnamed</span></a></span><span> </span><span class="annot"><span class="annottext">(Pattern' DBPatVar -&gt; Arg (Named_ (Pattern' DBPatVar)))
-&gt; NamesT (TCMT IO) (Pattern' DBPatVar)
-&gt; NamesT (TCMT IO) (Arg (Named_ (Pattern' DBPatVar)))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (Pattern' DBPatVar)
</span><a href="#local-6989586621681035778"><span class="hs-identifier hs-var">origPTrX</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1063"></span><span>
</span><span id="line-1064"></span><span>            </span><span id="local-6989586621681035771"><span class="annot"><span class="annottext">rhsTy :: NamesT (TCMT IO) Type
</span><a href="#local-6989586621681035771"><span class="hs-identifier hs-var hs-var">rhsTy</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN Type)
</span><a href="#local-6989586621681035863"><span class="hs-identifier hs-var">dT</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN Type)
-&gt; [NamesT (TCMT IO) (SubstArg Type)] -&gt; NamesT (TCMT IO) Type
forall (m :: * -&gt; *) a.
(Monad m, Subst a) =&gt;
NamesT m (AbsN a) -&gt; [NamesT m (SubstArg a)] -&gt; NamesT m a
</span><a href="Agda.TypeChecking.Names.html#applyN"><span class="hs-operator hs-var">`applyN`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035790"><span class="hs-identifier hs-var">delta</span></a></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
-&gt; [NamesT (TCMT IO) Term] -&gt; [NamesT (TCMT IO) Term]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035791"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
-&gt; [NamesT (TCMT IO) Term] -&gt; [NamesT (TCMT IO) Term]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Term -&gt; NamesT (TCMT IO) Term
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681036018"><span class="hs-identifier hs-var">io</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-1065"></span><span>
</span><span id="line-1066"></span><span>          </span><span class="hs-comment">-- trD &#948; x &#966; (trX x' &#966;' t) &#8614; rhsTrx</span><span>
</span><span id="line-1067"></span><span>          </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681035770"><span class="annot"><span class="annottext">rhsTrX :: NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035770"><span class="hs-identifier hs-var hs-var">rhsTrX</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1068"></span><span>                </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">[</span><span id="local-6989586621681035769"><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035769"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(NamesT (TCMT IO) (Arg Term) -&gt; NamesT (TCMT IO) Term)
-&gt; [NamesT (TCMT IO) (Arg Term)] -&gt; [NamesT (TCMT IO) Term]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Arg Term -&gt; Term)
-&gt; NamesT (TCMT IO) (Arg Term) -&gt; NamesT (TCMT IO) Term
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Arg Term -&gt; Term
forall e. Arg e -&gt; e
</span><a href="Agda.Syntax.Common.html#unArg"><span class="hs-identifier hs-var">unArg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) (Arg Term)]
ArgVars (TCMT IO)
</span><a href="#local-6989586621681035783"><span class="hs-identifier hs-var">as0</span></a></span><span>
</span><span id="line-1069"></span><span>                </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">[</span><span id="local-6989586621681035768"><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035768"><span class="hs-identifier hs-var">phi'</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035784"><span class="hs-identifier hs-var">phi's</span></a></span><span>
</span><span id="line-1070"></span><span>                </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681035767"><span class="annot"><span class="annottext">telXdeltai :: NamesT (TCMT IO) (Abs (Tele (Dom Type)))
</span><a href="#local-6989586621681035767"><span class="hs-identifier hs-var hs-var">telXdeltai</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ArgName
-&gt; ((forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b)
    -&gt; NamesT (TCMT IO) (Tele (Dom Type)))
-&gt; NamesT (TCMT IO) (Abs (Tele (Dom Type)))
forall (m :: * -&gt; *) a.
MonadFail m =&gt;
ArgName
-&gt; ((forall b. (Subst b, DeBruijn b) =&gt; NamesT m b) -&gt; NamesT m a)
-&gt; NamesT m (Abs a)
</span><a href="Agda.TypeChecking.Names.html#bind"><span class="hs-identifier hs-var">bind</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;i&quot;</span></span><span> </span><span class="annot"><span class="annottext">(((forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b)
  -&gt; NamesT (TCMT IO) (Tele (Dom Type)))
 -&gt; NamesT (TCMT IO) (Abs (Tele (Dom Type))))
-&gt; ((forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b)
    -&gt; NamesT (TCMT IO) (Tele (Dom Type)))
-&gt; NamesT (TCMT IO) (Abs (Tele (Dom Type)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035766"><span class="annot"><span class="annottext">forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b
</span><a href="#local-6989586621681035766"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN (Tele (Dom Type)))
-&gt; [NamesT (TCMT IO) (SubstArg (Tele (Dom Type)))]
-&gt; NamesT (TCMT IO) (Tele (Dom Type))
forall (m :: * -&gt; *) a.
(Monad m, Subst a) =&gt;
NamesT m (AbsN a) -&gt; [NamesT m (SubstArg a)] -&gt; NamesT m a
</span><a href="Agda.TypeChecking.Names.html#applyN"><span class="hs-identifier hs-var">applyN</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN (Tele (Dom Type)))
</span><a href="#local-6989586621681035864"><span class="hs-identifier hs-var">xTel</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; [NamesT (TCMT IO) Term] -&gt; [NamesT (TCMT IO) Term]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b
</span><a href="#local-6989586621681035766"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035790"><span class="hs-identifier hs-var">delta</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1071"></span><span>                </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681035765"><span class="annot"><span class="annottext">reflx1 :: [NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035765"><span class="hs-identifier hs-var hs-var">reflx1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
 -&gt; [NamesT (TCMT IO) Term] -&gt; [NamesT (TCMT IO) Term])
-&gt; [NamesT (TCMT IO) Term]
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; [NamesT (TCMT IO) Term]
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">(NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; [NamesT (TCMT IO) Term] -&gt; [NamesT (TCMT IO) Term]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035791"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">((NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
 -&gt; [NamesT (TCMT IO) Term])
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; [NamesT (TCMT IO) Term]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035764"><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035764"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ArgName
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *).
MonadFail m =&gt;
ArgName -&gt; (NamesT m Term -&gt; NamesT m Term) -&gt; NamesT m Term
</span><a href="Agda.TypeChecking.Names.html#lam"><span class="hs-identifier hs-var">lam</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;i&quot;</span></span><span> </span><span class="annot"><span class="annottext">((NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
 -&gt; NamesT (TCMT IO) Term)
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; NamesT (TCMT IO) Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035764"><span class="hs-identifier hs-var">q</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; NamesT (TCMT IO) Term
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681036018"><span class="hs-identifier hs-var">io</span></a></span><span>
</span><span id="line-1072"></span><span>                </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681035763"><span class="annot"><span class="annottext">symx' :: [NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035763"><span class="hs-identifier hs-var hs-var">symx'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
 -&gt; [NamesT (TCMT IO) Term] -&gt; [NamesT (TCMT IO) Term])
-&gt; [NamesT (TCMT IO) Term]
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; [NamesT (TCMT IO) Term]
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">(NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; [NamesT (TCMT IO) Term] -&gt; [NamesT (TCMT IO) Term]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035787"><span class="hs-identifier hs-var">x'</span></a></span><span> </span><span class="annot"><span class="annottext">((NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
 -&gt; [NamesT (TCMT IO) Term])
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; [NamesT (TCMT IO) Term]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035762"><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035762"><span class="hs-identifier hs-var">q'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ArgName
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *).
MonadFail m =&gt;
ArgName -&gt; (NamesT m Term -&gt; NamesT m Term) -&gt; NamesT m Term
</span><a href="Agda.TypeChecking.Names.html#lam"><span class="hs-identifier hs-var">lam</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;i&quot;</span></span><span> </span><span class="annot"><span class="annottext">((NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
 -&gt; NamesT (TCMT IO) Term)
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; NamesT (TCMT IO) Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035761"><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035761"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035762"><span class="hs-identifier hs-var">q'</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall {m :: * -&gt; *}.
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
NamesT m Term -&gt; NamesT m Term
</span><a href="#local-6989586621681035963"><span class="hs-identifier hs-var">neg</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035761"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-1073"></span><span>                </span><span id="local-6989586621681035760"><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035760"><span class="hs-identifier hs-var">x_tr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Arg Term -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) Term))
-&gt; [Arg Term] -&gt; NamesT (TCMT IO) [NamesT (TCMT IO) Term]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) Term)
forall (m :: * -&gt; *) a.
(MonadFail m, Subst a) =&gt;
a -&gt; NamesT m (NamesT m a)
</span><a href="Agda.TypeChecking.Names.html#open"><span class="hs-identifier hs-var">open</span></a></span><span> </span><span class="annot"><span class="annottext">(Term -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) Term))
-&gt; (Arg Term -&gt; Term)
-&gt; Arg Term
-&gt; NamesT (TCMT IO) (NamesT (TCMT IO) Term)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Arg Term -&gt; Term
forall e. Arg e -&gt; e
</span><a href="Agda.Syntax.Common.html#unArg"><span class="hs-identifier hs-var">unArg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([Arg Term] -&gt; NamesT (TCMT IO) [NamesT (TCMT IO) Term])
-&gt; NamesT (TCMT IO) [Arg Term]
-&gt; NamesT (TCMT IO) [NamesT (TCMT IO) Term]
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (Abs (Tele (Dom Type)))
-&gt; [NamesT (TCMT IO) Term]
-&gt; [NamesT (TCMT IO) Term]
-&gt; NamesT (TCMT IO) Term
-&gt; [NamesT (TCMT IO) Term]
-&gt; NamesT (TCMT IO) [Arg Term]
</span><a href="Agda.TypeChecking.Primitive.Cubical.html#transpPathTel%27"><span class="hs-identifier hs-var">transpPathTel'</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (Abs (Tele (Dom Type)))
</span><a href="#local-6989586621681035767"><span class="hs-identifier hs-var">telXdeltai</span></a></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035763"><span class="hs-identifier hs-var">symx'</span></a></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035765"><span class="hs-identifier hs-var">reflx1</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035768"><span class="hs-identifier hs-var">phi'</span></a></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035791"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-1074"></span><span>                </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681035758"><span class="annot"><span class="annottext">baseTrX :: NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035758"><span class="hs-identifier hs-var hs-var">baseTrX</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN (AbsN (AbsN Term)))
</span><a href="#local-6989586621681035871"><span class="hs-identifier hs-var">trD</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN (AbsN (AbsN Term)))
-&gt; [NamesT (TCMT IO) (SubstArg (AbsN (AbsN Term)))]
-&gt; NamesT (TCMT IO) (AbsN (AbsN Term))
forall (m :: * -&gt; *) a.
(Monad m, Subst a) =&gt;
NamesT m (AbsN a) -&gt; [NamesT m (SubstArg a)] -&gt; NamesT m a
</span><a href="Agda.TypeChecking.Names.html#applyN"><span class="hs-operator hs-var">`applyN`</span></a></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
[NamesT (TCMT IO) (SubstArg (AbsN (AbsN Term)))]
</span><a href="#local-6989586621681035790"><span class="hs-identifier hs-var">delta</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN (AbsN Term))
-&gt; [NamesT (TCMT IO) (SubstArg (AbsN Term))]
-&gt; NamesT (TCMT IO) (AbsN Term)
forall (m :: * -&gt; *) a.
(Monad m, Subst a) =&gt;
NamesT m (AbsN a) -&gt; [NamesT m (SubstArg a)] -&gt; NamesT m a
</span><a href="Agda.TypeChecking.Names.html#applyN"><span class="hs-operator hs-var">`applyN`</span></a></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
[NamesT (TCMT IO) (SubstArg (AbsN Term))]
</span><a href="#local-6989586621681035760"><span class="hs-identifier hs-var">x_tr</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN Term)
-&gt; [NamesT (TCMT IO) (SubstArg Term)] -&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *) a.
(Monad m, Subst a) =&gt;
NamesT m (AbsN a) -&gt; [NamesT m (SubstArg a)] -&gt; NamesT m a
</span><a href="Agda.TypeChecking.Names.html#applyN"><span class="hs-operator hs-var">`applyN`</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035789"><span class="hs-identifier hs-var">phi</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall {m :: * -&gt; *}.
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
NamesT m Term -&gt; NamesT m Term -&gt; NamesT m Term
</span><a href="#local-6989586621681035980"><span class="hs-operator hs-var">`min`</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035768"><span class="hs-identifier hs-var">phi'</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
NamesT (TCMT IO) (SubstArg Term)
</span><a href="#local-6989586621681035769"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1075"></span><span>                </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681035757"><span class="annot"><span class="annottext">sideTrX :: NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035757"><span class="hs-identifier hs-var hs-var">sideTrX</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ArgName
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *).
MonadFail m =&gt;
ArgName -&gt; (NamesT m Term -&gt; NamesT m Term) -&gt; NamesT m Term
</span><a href="Agda.TypeChecking.Names.html#lam"><span class="hs-identifier hs-var">lam</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;j&quot;</span></span><span> </span><span class="annot"><span class="annottext">((NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
 -&gt; NamesT (TCMT IO) Term)
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; NamesT (TCMT IO) Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035756"><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035756"><span class="hs-identifier hs-var">j</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ArgName
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *).
MonadFail m =&gt;
ArgName -&gt; (NamesT m Term -&gt; NamesT m Term) -&gt; NamesT m Term
</span><a href="Agda.TypeChecking.Names.html#ilam"><span class="hs-identifier hs-var">ilam</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;o&quot;</span></span><span> </span><span class="annot"><span class="annottext">((NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
 -&gt; NamesT (TCMT IO) Term)
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; NamesT (TCMT IO) Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1076"></span><span>                      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681035755"><span class="annot"><span class="annottext">trD_f :: NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035755"><span class="hs-identifier hs-var hs-var">trD_f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN (AbsN (AbsN Term)))
</span><a href="#local-6989586621681035871"><span class="hs-identifier hs-var">trD</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN (AbsN (AbsN Term)))
-&gt; [NamesT (TCMT IO) (SubstArg (AbsN (AbsN Term)))]
-&gt; NamesT (TCMT IO) (AbsN (AbsN Term))
forall (m :: * -&gt; *) a.
(Monad m, Subst a) =&gt;
NamesT m (AbsN a) -&gt; [NamesT m (SubstArg a)] -&gt; NamesT m a
</span><a href="Agda.TypeChecking.Names.html#applyN"><span class="hs-operator hs-var">`applyN`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
 -&gt; [NamesT (TCMT IO) Term]
 -&gt; [NamesT (TCMT IO) (SubstArg (AbsN (AbsN Term)))])
-&gt; [NamesT (TCMT IO) Term]
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; [NamesT (TCMT IO) (SubstArg (AbsN (AbsN Term)))]
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">(NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; [NamesT (TCMT IO) Term]
-&gt; [NamesT (TCMT IO) (SubstArg (AbsN (AbsN Term)))]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035790"><span class="hs-identifier hs-var">delta</span></a></span><span> </span><span class="annot"><span class="annottext">((NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
 -&gt; [NamesT (TCMT IO) (SubstArg (AbsN (AbsN Term)))])
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; [NamesT (TCMT IO) (SubstArg (AbsN (AbsN Term)))]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035754"><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035754"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ArgName
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *).
MonadFail m =&gt;
ArgName -&gt; (NamesT m Term -&gt; NamesT m Term) -&gt; NamesT m Term
</span><a href="Agda.TypeChecking.Names.html#lam"><span class="hs-identifier hs-var">lam</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;i&quot;</span></span><span> </span><span class="annot"><span class="annottext">((NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
 -&gt; NamesT (TCMT IO) Term)
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; NamesT (TCMT IO) Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035753"><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035753"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035754"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035753"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall {m :: * -&gt; *}.
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
NamesT m Term -&gt; NamesT m Term -&gt; NamesT m Term
</span><a href="#local-6989586621681035980"><span class="hs-operator hs-var">`min`</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall {m :: * -&gt; *}.
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
NamesT m Term -&gt; NamesT m Term
</span><a href="#local-6989586621681035963"><span class="hs-identifier hs-var">neg</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035756"><span class="hs-identifier hs-var">j</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1077"></span><span>                                      </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN (AbsN Term))
-&gt; [NamesT (TCMT IO) (SubstArg (AbsN Term))]
-&gt; NamesT (TCMT IO) (AbsN Term)
forall (m :: * -&gt; *) a.
(Monad m, Subst a) =&gt;
NamesT m (AbsN a) -&gt; [NamesT m (SubstArg a)] -&gt; NamesT m a
</span><a href="Agda.TypeChecking.Names.html#applyN"><span class="hs-operator hs-var">`applyN`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
 -&gt; [NamesT (TCMT IO) Term]
 -&gt; [NamesT (TCMT IO) (SubstArg (AbsN Term))])
-&gt; [NamesT (TCMT IO) Term]
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; [NamesT (TCMT IO) (SubstArg (AbsN Term))]
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">(NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; [NamesT (TCMT IO) Term]
-&gt; [NamesT (TCMT IO) (SubstArg (AbsN Term))]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035760"><span class="hs-identifier hs-var">x_tr</span></a></span><span>  </span><span class="annot"><span class="annottext">((NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
 -&gt; [NamesT (TCMT IO) (SubstArg (AbsN Term))])
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; [NamesT (TCMT IO) (SubstArg (AbsN Term))]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035752"><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035752"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ArgName
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *).
MonadFail m =&gt;
ArgName -&gt; (NamesT m Term -&gt; NamesT m Term) -&gt; NamesT m Term
</span><a href="Agda.TypeChecking.Names.html#lam"><span class="hs-identifier hs-var">lam</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;i&quot;</span></span><span> </span><span class="annot"><span class="annottext">((NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
 -&gt; NamesT (TCMT IO) Term)
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; NamesT (TCMT IO) Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035751"><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035751"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035752"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035751"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall {m :: * -&gt; *}.
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
NamesT m Term -&gt; NamesT m Term -&gt; NamesT m Term
</span><a href="#local-6989586621681035980"><span class="hs-operator hs-var">`min`</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall {m :: * -&gt; *}.
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
NamesT m Term -&gt; NamesT m Term
</span><a href="#local-6989586621681035963"><span class="hs-identifier hs-var">neg</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035756"><span class="hs-identifier hs-var">j</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1078"></span><span>                                      </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN Term)
-&gt; [NamesT (TCMT IO) (SubstArg Term)] -&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *) a.
(Monad m, Subst a) =&gt;
NamesT m (AbsN a) -&gt; [NamesT m (SubstArg a)] -&gt; NamesT m a
</span><a href="Agda.TypeChecking.Names.html#applyN"><span class="hs-operator hs-var">`applyN`</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035789"><span class="hs-identifier hs-var">phi</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall {m :: * -&gt; *}.
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
NamesT m Term -&gt; NamesT m Term -&gt; NamesT m Term
</span><a href="#local-6989586621681035980"><span class="hs-operator hs-var">`min`</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035768"><span class="hs-identifier hs-var">phi'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall {m :: * -&gt; *}.
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
NamesT m Term -&gt; NamesT m Term -&gt; NamesT m Term
</span><a href="#local-6989586621681035998"><span class="hs-operator hs-var">`max`</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035756"><span class="hs-identifier hs-var">j</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
NamesT (TCMT IO) (SubstArg Term)
</span><a href="#local-6989586621681035769"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1079"></span><span>                      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681035750"><span class="annot"><span class="annottext">x_tr_f :: NamesT (TCMT IO) [Arg Term]
</span><a href="#local-6989586621681035750"><span class="hs-identifier hs-var hs-var">x_tr_f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Abs [Arg Term] -&gt; [Arg Term])
-&gt; NamesT (TCMT IO) (Abs [Arg Term]) -&gt; NamesT (TCMT IO) [Arg Term]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Abs (Arg Term) -&gt; Arg Term) -&gt; [Abs (Arg Term)] -&gt; [Arg Term]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Internal.html#Abs"><span class="hs-identifier hs-type">Abs</span></a></span><span> </span><span id="local-6989586621681035749"><span class="annot"><span class="annottext">ArgName
</span><a href="#local-6989586621681035749"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Common.html#Arg"><span class="hs-identifier hs-type">Arg</span></a></span><span> </span><span id="local-6989586621681035748"><span class="annot"><span class="annottext">ArgInfo
</span><a href="#local-6989586621681035748"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621681035747"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035747"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ArgInfo -&gt; Term -&gt; Arg Term
forall e. ArgInfo -&gt; e -&gt; Arg e
</span><a href="Agda.Syntax.Common.html#Arg"><span class="hs-identifier hs-var">Arg</span></a></span><span> </span><span class="annot"><span class="annottext">ArgInfo
</span><a href="#local-6989586621681035748"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">(Term -&gt; Arg Term) -&gt; Term -&gt; Arg Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ArgInfo -&gt; Abs Term -&gt; Term
</span><a href="Agda.Syntax.Internal.html#Lam"><span class="hs-identifier hs-var">Lam</span></a></span><span> </span><span class="annot"><span class="annottext">ArgInfo
</span><a href="Agda.Syntax.Common.html#defaultArgInfo"><span class="hs-identifier hs-var">defaultArgInfo</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ArgName -&gt; Term -&gt; Abs Term
forall a. ArgName -&gt; a -&gt; Abs a
</span><a href="Agda.Syntax.Internal.html#Abs"><span class="hs-identifier hs-var">Abs</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><a href="#local-6989586621681035749"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035747"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([Abs (Arg Term)] -&gt; [Arg Term])
-&gt; (Abs [Arg Term] -&gt; [Abs (Arg Term)])
-&gt; Abs [Arg Term]
-&gt; [Arg Term]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Abs [Arg Term] -&gt; [Abs (Arg Term)]
forall (t :: * -&gt; *) (m :: * -&gt; *) a.
(Traversable t, Monad m) =&gt;
t (m a) -&gt; m (t a)
</span><span class="hs-identifier hs-var">sequence</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(NamesT (TCMT IO) (Abs [Arg Term]) -&gt; NamesT (TCMT IO) [Arg Term])
-&gt; NamesT (TCMT IO) (Abs [Arg Term]) -&gt; NamesT (TCMT IO) [Arg Term]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1080"></span><span>                           </span><span class="annot"><span class="annottext">ArgName
-&gt; ((forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b)
    -&gt; NamesT (TCMT IO) [Arg Term])
-&gt; NamesT (TCMT IO) (Abs [Arg Term])
forall (m :: * -&gt; *) a.
MonadFail m =&gt;
ArgName
-&gt; ((forall b. (Subst b, DeBruijn b) =&gt; NamesT m b) -&gt; NamesT m a)
-&gt; NamesT m (Abs a)
</span><a href="Agda.TypeChecking.Names.html#bind"><span class="hs-identifier hs-var">bind</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;i&quot;</span></span><span> </span><span class="annot"><span class="annottext">(((forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b)
  -&gt; NamesT (TCMT IO) [Arg Term])
 -&gt; NamesT (TCMT IO) (Abs [Arg Term]))
-&gt; ((forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b)
    -&gt; NamesT (TCMT IO) [Arg Term])
-&gt; NamesT (TCMT IO) (Abs [Arg Term])
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035745"><span class="annot"><span class="annottext">forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b
</span><a href="#local-6989586621681035745"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1081"></span><span>                            </span><span id="local-6989586621681035744"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035744"><span class="hs-identifier hs-var">j</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035756"><span class="hs-identifier hs-var">j</span></a></span><span>
</span><span id="line-1082"></span><span>                            </span><span class="annot"><span class="annottext">(Arg Term -&gt; Arg Term) -&gt; [Arg Term] -&gt; [Arg Term]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Term -&gt; Term) -&gt; Arg Term -&gt; Arg Term
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term -&gt; [Arg Term] -&gt; Term
forall t. Apply t =&gt; t -&gt; [Arg Term] -&gt; t
</span><a href="Agda.TypeChecking.Substitute.Class.html#apply"><span class="hs-operator hs-var">`apply`</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Term -&gt; Arg Term
forall e. e -&gt; Arg e
</span><a href="Agda.TypeChecking.Primitive.Base.html#argN"><span class="hs-identifier hs-var">argN</span></a></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035744"><span class="hs-identifier hs-var">j</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([Arg Term] -&gt; [Arg Term])
-&gt; NamesT (TCMT IO) [Arg Term] -&gt; NamesT (TCMT IO) [Arg Term]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (Abs (Tele (Dom Type)))
-&gt; [NamesT (TCMT IO) Term]
-&gt; [NamesT (TCMT IO) Term]
-&gt; NamesT (TCMT IO) Term
-&gt; [NamesT (TCMT IO) Term]
-&gt; NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) [Arg Term]
</span><a href="Agda.TypeChecking.Primitive.Cubical.html#trFillPathTel%27"><span class="hs-identifier hs-var">trFillPathTel'</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (Abs (Tele (Dom Type)))
</span><a href="#local-6989586621681035767"><span class="hs-identifier hs-var">telXdeltai</span></a></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035763"><span class="hs-identifier hs-var">symx'</span></a></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035765"><span class="hs-identifier hs-var">reflx1</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035768"><span class="hs-identifier hs-var">phi'</span></a></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035791"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall {m :: * -&gt; *}.
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
NamesT m Term -&gt; NamesT m Term
</span><a href="#local-6989586621681035963"><span class="hs-identifier hs-var">neg</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b
</span><a href="#local-6989586621681035745"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1083"></span><span>                      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681035742"><span class="annot"><span class="annottext">args :: NamesT (TCMT IO) [Arg Term]
</span><a href="#local-6989586621681035742"><span class="hs-identifier hs-var hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([Arg Term] -&gt; [Arg Term] -&gt; [Arg Term])
-&gt; NamesT (TCMT IO) [Arg Term]
-&gt; NamesT (TCMT IO) [Arg Term]
-&gt; NamesT (TCMT IO) [Arg Term]
forall (m :: * -&gt; *) a1 a2 r.
Monad m =&gt;
(a1 -&gt; a2 -&gt; r) -&gt; m a1 -&gt; m a2 -&gt; m r
</span><span class="hs-identifier hs-var">liftM2</span></span><span> </span><span class="annot"><span class="annottext">[Arg Term] -&gt; [Arg Term] -&gt; [Arg Term]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">(++)</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Arg Term -&gt; Arg Term) -&gt; [Arg Term] -&gt; [Arg Term]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Hiding -&gt; Arg Term -&gt; Arg Term
forall a. LensHiding a =&gt; Hiding -&gt; a -&gt; a
</span><a href="Agda.Syntax.Common.html#setHiding"><span class="hs-identifier hs-var">setHiding</span></a></span><span> </span><span class="annot"><span class="annottext">Hiding
</span><a href="Agda.Syntax.Common.html#Hidden"><span class="hs-identifier hs-var">Hidden</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([Arg Term] -&gt; [Arg Term])
-&gt; NamesT (TCMT IO) [Arg Term] -&gt; NamesT (TCMT IO) [Arg Term]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) [Arg Term]
</span><a href="#local-6989586621681035782"><span class="hs-identifier hs-var">deltaArg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term -&gt; NamesT (TCMT IO) Term
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681036018"><span class="hs-identifier hs-var">io</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) [Arg Term]
</span><a href="#local-6989586621681035750"><span class="hs-identifier hs-var">x_tr_f</span></a></span><span>
</span><span id="line-1084"></span><span>                      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term -&gt; [Arg Term] -&gt; Term
forall t. Apply t =&gt; t -&gt; [Arg Term] -&gt; t
</span><a href="Agda.TypeChecking.Substitute.Class.html#apply"><span class="hs-identifier hs-var">apply</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">QName -&gt; [Elim' Term] -&gt; Term
</span><a href="Agda.Syntax.Internal.html#Def"><span class="hs-identifier hs-var">Def</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681035805"><span class="hs-identifier hs-var">trX</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([Arg Term] -&gt; Term)
-&gt; NamesT (TCMT IO) [Arg Term] -&gt; NamesT (TCMT IO) Term
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) [Arg Term]
</span><a href="#local-6989586621681035742"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035768"><span class="hs-identifier hs-var">phi'</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall {m :: * -&gt; *}.
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
NamesT m Term -&gt; NamesT m Term -&gt; NamesT m Term
</span><a href="#local-6989586621681035998"><span class="hs-operator hs-var">`max`</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall {m :: * -&gt; *}.
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
NamesT m Term -&gt; NamesT m Term
</span><a href="#local-6989586621681035963"><span class="hs-identifier hs-var">neg</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035756"><span class="hs-identifier hs-var">j</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035755"><span class="hs-identifier hs-var">trD_f</span></a></span><span>
</span><span id="line-1085"></span><span>                </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Type
-&gt; [(NamesT (TCMT IO) Term, NamesT (TCMT IO) Term)]
-&gt; NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035961"><span class="hs-identifier hs-var">hcomp</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Type
</span><a href="#local-6989586621681035771"><span class="hs-identifier hs-var">rhsTy</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035789"><span class="hs-identifier hs-var">phi</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035757"><span class="hs-identifier hs-var">sideTrX</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035768"><span class="hs-identifier hs-var">phi'</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">ArgName
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *).
MonadFail m =&gt;
ArgName -&gt; (NamesT m Term -&gt; NamesT m Term) -&gt; NamesT m Term
</span><a href="Agda.TypeChecking.Names.html#lam"><span class="hs-identifier hs-var">lam</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;i&quot;</span></span><span> </span><span class="annot"><span class="annottext">((NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
 -&gt; NamesT (TCMT IO) Term)
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; NamesT (TCMT IO) Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ArgName
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *).
MonadFail m =&gt;
ArgName -&gt; (NamesT m Term -&gt; NamesT m Term) -&gt; NamesT m Term
</span><a href="Agda.TypeChecking.Names.html#ilam"><span class="hs-identifier hs-var">ilam</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;o&quot;</span></span><span> </span><span class="annot"><span class="annottext">((NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
 -&gt; NamesT (TCMT IO) Term)
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; NamesT (TCMT IO) Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035758"><span class="hs-identifier hs-var">baseTrX</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-1086"></span><span>                            </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035758"><span class="hs-identifier hs-var">baseTrX</span></a></span><span>
</span><span id="line-1087"></span><span>
</span><span id="line-1088"></span><span>          </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([Arg (Named_ (Pattern' DBPatVar))]
 -&gt; Type
 -&gt; Term
 -&gt; ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))
-&gt; NamesT (TCMT IO) [Arg (Named_ (Pattern' DBPatVar))]
-&gt; NamesT
     (TCMT IO)
     (Type -&gt; Term -&gt; ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) [Arg (Named_ (Pattern' DBPatVar))]
</span><a href="#local-6989586621681035772"><span class="hs-identifier hs-var">psTrX</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT
  (TCMT IO)
  (Type -&gt; Term -&gt; ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))
-&gt; NamesT (TCMT IO) Type
-&gt; NamesT
     (TCMT IO)
     (Term -&gt; ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Type
</span><a href="#local-6989586621681035771"><span class="hs-identifier hs-var">rhsTy</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT
  (TCMT IO)
  (Term -&gt; ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))
-&gt; NamesT (TCMT IO) Term
-&gt; NamesT
     (TCMT IO) ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035770"><span class="hs-identifier hs-var">rhsTrX</span></a></span><span>
</span><span id="line-1089"></span><span>
</span><span id="line-1090"></span><span>
</span><span id="line-1091"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681035741"><span class="annot"><span class="annottext">[Arg (Named_ (Pattern' DBPatVar))]
</span><a href="#local-6989586621681035741"><span class="hs-identifier hs-var">ps</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681035740"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035740"><span class="hs-identifier hs-var">rhsTy</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681035739"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035739"><span class="hs-identifier hs-var">rhs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)
-&gt; ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)
forall a. AbsN a -&gt; a
</span><a href="Agda.TypeChecking.Names.html#unAbsN"><span class="hs-identifier hs-var">unAbsN</span></a></span><span> </span><span class="annot"><span class="annottext">(AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)
 -&gt; ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))
-&gt; AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)
-&gt; ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))
-&gt; AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)
forall a. AbsN a -&gt; a
</span><a href="Agda.TypeChecking.Names.html#unAbsN"><span class="hs-identifier hs-var">unAbsN</span></a></span><span> </span><span class="annot"><span class="annottext">(AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))
 -&gt; AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))
-&gt; AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))
-&gt; AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">AbsN (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)))
-&gt; AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))
forall a. AbsN a -&gt; a
</span><a href="Agda.TypeChecking.Names.html#unAbsN"><span class="hs-identifier hs-var">unAbsN</span></a></span><span> </span><span class="annot"><span class="annottext">(AbsN
   (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)))
 -&gt; AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)))
-&gt; AbsN
     (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)))
-&gt; AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">AbsN
  (AbsN
     (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))))
-&gt; AbsN
     (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)))
forall a. AbsN a -&gt; a
</span><a href="Agda.TypeChecking.Names.html#unAbsN"><span class="hs-identifier hs-var">unAbsN</span></a></span><span> </span><span class="annot"><span class="annottext">(AbsN
   (AbsN
      (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))))
 -&gt; AbsN
      (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))))
-&gt; AbsN
     (AbsN
        (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))))
-&gt; AbsN
     (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">AbsN
  (AbsN
     (AbsN
        (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)))))
-&gt; AbsN
     (AbsN
        (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))))
forall a. AbsN a -&gt; a
</span><a href="Agda.TypeChecking.Names.html#unAbsN"><span class="hs-identifier hs-var">unAbsN</span></a></span><span> </span><span class="annot"><span class="annottext">(AbsN
   (AbsN
      (AbsN
         (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)))))
 -&gt; AbsN
      (AbsN
         (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)))))
-&gt; AbsN
     (AbsN
        (AbsN
           (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)))))
-&gt; AbsN
     (AbsN
        (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">AbsN
  (AbsN
     (AbsN
        (AbsN
           (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))))))
-&gt; AbsN
     (AbsN
        (AbsN
           (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)))))
forall a. AbsN a -&gt; a
</span><a href="Agda.TypeChecking.Names.html#unAbsN"><span class="hs-identifier hs-var">unAbsN</span></a></span><span> </span><span class="annot"><span class="annottext">(AbsN
   (AbsN
      (AbsN
         (AbsN
            (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))))))
 -&gt; AbsN
      (AbsN
         (AbsN
            (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))))))
-&gt; AbsN
     (AbsN
        (AbsN
           (AbsN
              (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))))))
-&gt; AbsN
     (AbsN
        (AbsN
           (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">AbsN
  (AbsN
     (AbsN
        (AbsN
           (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))))))
</span><a href="#local-6989586621681035795"><span class="hs-identifier hs-var">res</span></a></span><span>
</span><span id="line-1092"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Clause -&gt; [Clause] -&gt; [Clause]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Clause -&gt; [Clause]) -&gt; TCMT IO Clause -&gt; TCM [Clause]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
-&gt; [Arg (Named_ (Pattern' DBPatVar))]
-&gt; Type
-&gt; Term
-&gt; TCMT IO Clause
forall {m :: * -&gt; *}.
MonadDebug m =&gt;
Tele (Dom Type)
-&gt; [Arg (Named_ (Pattern' DBPatVar))] -&gt; Type -&gt; Term -&gt; m Clause
</span><a href="#local-6989586621681035807"><span class="hs-identifier hs-var">mkClause</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035804"><span class="hs-identifier hs-var">gamma</span></a></span><span> </span><span class="annot"><span class="annottext">[Arg (Named_ (Pattern' DBPatVar))]
</span><a href="#local-6989586621681035741"><span class="hs-identifier hs-var">ps</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035740"><span class="hs-identifier hs-var">rhsTy</span></a></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035739"><span class="hs-identifier hs-var">rhs</span></a></span><span>
</span><span id="line-1093"></span><span>
</span><span id="line-1094"></span><span>  </span><span class="annot"><span class="annottext">([Clause] -&gt; [Clause]) -&gt; TCM [Clause] -&gt; TCM [Clause]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Clause]
</span><a href="#local-6989586621681035860"><span class="hs-identifier hs-var">c_HComp</span></a></span><span> </span><span class="annot"><span class="annottext">[Clause] -&gt; [Clause] -&gt; [Clause]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[Clause]
</span><a href="#local-6989586621681035806"><span class="hs-identifier hs-var">c_trX</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Clause] -&gt; [Clause] -&gt; [Clause]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(TCM [Clause] -&gt; TCM [Clause]) -&gt; TCM [Clause] -&gt; TCM [Clause]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[QName] -&gt; (QName -&gt; TCMT IO Clause) -&gt; TCM [Clause]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
t a -&gt; (a -&gt; m b) -&gt; m (t b)
</span><span class="hs-identifier hs-var">forM</span></span><span> </span><span class="annot"><span class="annottext">[QName]
</span><a href="#local-6989586621681036020"><span class="hs-identifier hs-var">cnames</span></a></span><span> </span><span class="annot"><span class="annottext">((QName -&gt; TCMT IO Clause) -&gt; TCM [Clause])
-&gt; (QName -&gt; TCMT IO Clause) -&gt; TCM [Clause]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035738"><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681035738"><span class="hs-identifier hs-var">cname</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1095"></span><span>    </span><span id="local-6989586621681035737"><span class="annot"><span class="annottext">Definition
</span><a href="#local-6989586621681035737"><span class="hs-identifier hs-var">def</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">QName -&gt; TCMT IO Definition
forall (m :: * -&gt; *). HasConstInfo m =&gt; QName -&gt; m Definition
</span><a href="Agda.TypeChecking.Monad.Signature.html#getConstInfo"><span class="hs-identifier hs-var">getConstInfo</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681035738"><span class="hs-identifier hs-var">cname</span></a></span><span>
</span><span id="line-1096"></span><span>    </span><span class="hs-keyword">let</span><span>
</span><span id="line-1097"></span><span>      </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#Constructor"><span class="hs-identifier hs-type">Constructor</span></a></span><span>
</span><span id="line-1098"></span><span>       </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">conPars :: Defn -&gt; Nat
</span><a href="Agda.TypeChecking.Monad.Base.html#conPars"><span class="hs-identifier hs-var">conPars</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681035736"><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681035736"><span class="hs-identifier hs-var">npars'</span></a></span></span><span>
</span><span id="line-1099"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">conArity :: Defn -&gt; Nat
</span><a href="Agda.TypeChecking.Monad.Base.html#conArity"><span class="hs-identifier hs-var">conArity</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681035735"><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681035735"><span class="hs-identifier hs-var">nargs</span></a></span></span><span>
</span><span id="line-1100"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">conSrcCon :: Defn -&gt; ConHead
</span><a href="Agda.TypeChecking.Monad.Base.html#conSrcCon"><span class="hs-identifier hs-var">conSrcCon</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681035734"><span class="annot"><span class="annottext">ConHead
</span><a href="#local-6989586621681035734"><span class="hs-identifier hs-var">chead</span></a></span></span><span>
</span><span id="line-1101"></span><span>       </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Definition -&gt; Defn
</span><a href="Agda.TypeChecking.Monad.Base.html#theDef"><span class="hs-identifier hs-var">theDef</span></a></span><span> </span><span class="annot"><span class="annottext">Definition
</span><a href="#local-6989586621681035737"><span class="hs-identifier hs-var">def</span></a></span><span>
</span><span id="line-1102"></span><span>    </span><span class="hs-keyword">do</span><span>
</span><span id="line-1103"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681035733"><span class="annot"><span class="annottext">tcon :: Type
</span><a href="#local-6989586621681035733"><span class="hs-identifier hs-var hs-var">tcon</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Definition -&gt; Type
</span><a href="Agda.TypeChecking.Monad.Base.html#defType"><span class="hs-identifier hs-var">defType</span></a></span><span> </span><span class="annot"><span class="annottext">Definition
</span><a href="#local-6989586621681035737"><span class="hs-identifier hs-var">def</span></a></span><span>
</span><span id="line-1104"></span><span>
</span><span id="line-1105"></span><span>        </span><span class="annot"><span class="annottext">ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; TCM ()
forall (m :: * -&gt; *).
MonadDebug m =&gt;
ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; m ()
</span><a href="Agda.TypeChecking.Monad.Debug.html#reportSDoc"><span class="hs-identifier hs-var">reportSDoc</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;tc.data.transp.con&quot;</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">20</span></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Doc -&gt; TCM ()) -&gt; TCMT IO Doc -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc
</span><span class="hs-string">&quot;=======================&quot;</span></span><span>
</span><span id="line-1106"></span><span>        </span><span class="annot"><span class="annottext">ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; TCM ()
forall (m :: * -&gt; *).
MonadDebug m =&gt;
ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; m ()
</span><a href="Agda.TypeChecking.Monad.Debug.html#reportSDoc"><span class="hs-identifier hs-var">reportSDoc</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;tc.data.transp.con&quot;</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">20</span></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Doc -&gt; TCM ()) -&gt; TCMT IO Doc -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc
</span><span class="hs-string">&quot;tcon:&quot;</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; m Doc -&gt; m Doc -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">QName -&gt; TCMT IO Doc
forall a (m :: * -&gt; *). (PrettyTCM a, MonadPretty m) =&gt; a -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#prettyTCM"><span class="hs-identifier hs-var">prettyTCM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ConHead -&gt; QName
</span><a href="Agda.Syntax.Internal.html#conName"><span class="hs-identifier hs-var">conName</span></a></span><span> </span><span class="annot"><span class="annottext">ConHead
</span><a href="#local-6989586621681035734"><span class="hs-identifier hs-var">chead</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; m Doc -&gt; m Doc -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Type -&gt; TCMT IO Doc
forall a (m :: * -&gt; *). (PrettyTCM a, MonadPretty m) =&gt; a -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#prettyTCM"><span class="hs-identifier hs-var">prettyTCM</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035733"><span class="hs-identifier hs-var">tcon</span></a></span><span>
</span><span id="line-1107"></span><span>
</span><span id="line-1108"></span><span>        </span><span class="annot"><span class="annottext">Bool -&gt; TCM () -&gt; TCM ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">unless</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ConHead -&gt; QName
</span><a href="Agda.Syntax.Internal.html#conName"><span class="hs-identifier hs-var">conName</span></a></span><span> </span><span class="annot"><span class="annottext">ConHead
</span><a href="#local-6989586621681035734"><span class="hs-identifier hs-var">chead</span></a></span><span> </span><span class="annot"><span class="annottext">QName -&gt; QName -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681035738"><span class="hs-identifier hs-var">cname</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681035736"><span class="hs-identifier hs-var">npars'</span></a></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Nat -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681036026"><span class="hs-identifier hs-var">npars</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(TCM () -&gt; TCM ()) -&gt; TCM () -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TCM ()
forall a. HasCallStack =&gt; a
</span><a href="Agda.Utils.Impossible.html#__IMPOSSIBLE__"><span class="hs-identifier hs-var">__IMPOSSIBLE__</span></a></span><span>
</span><span id="line-1109"></span><span>
</span><span id="line-1110"></span><span>
</span><span id="line-1111"></span><span>        </span><span class="annot"><a href="Agda.TypeChecking.Substitute.html#TelV"><span class="hs-identifier hs-type">TelV</span></a></span><span> </span><span id="local-6989586621681035730"><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035730"><span class="hs-identifier hs-var">prm</span></a></span></span><span> </span><span id="local-6989586621681035729"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035729"><span class="hs-identifier hs-var">tcon'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Type -&gt; TCMT IO (TelV Type)
forall (m :: * -&gt; *).
(MonadReduce m, MonadAddContext m) =&gt;
Nat -&gt; Type -&gt; m (TelV Type)
</span><a href="Agda.TypeChecking.Telescope.html#telViewUpTo"><span class="hs-identifier hs-var">telViewUpTo</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681035736"><span class="hs-identifier hs-var">npars'</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035733"><span class="hs-identifier hs-var">tcon</span></a></span><span>
</span><span id="line-1112"></span><span>        </span><span class="hs-comment">-- &#916; &#8866; aTel</span><span>
</span><span id="line-1113"></span><span>        </span><span class="hs-comment">-- &#916;.aTel &#8866; ty</span><span>
</span><span id="line-1114"></span><span>        </span><span class="hs-comment">-- &#916;.aTel &#8866; [(&#966;,(l,r))] = boundary : ty</span><span>
</span><span id="line-1115"></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="Agda.TypeChecking.Substitute.html#TelV"><span class="hs-identifier hs-type">TelV</span></a></span><span> </span><span id="local-6989586621681035728"><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035728"><span class="hs-identifier hs-var">aTel</span></a></span></span><span> </span><span id="local-6989586621681035727"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035727"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681035726"><span class="annot"><span class="annottext">Boundary
</span><a href="#local-6989586621681035726"><span class="hs-identifier hs-var">boundary</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Type -&gt; TCMT IO (TelV Type, Boundary)
forall (m :: * -&gt; *).
PureTCM m =&gt;
Nat -&gt; Type -&gt; m (TelV Type, Boundary)
</span><a href="Agda.TypeChecking.Telescope.html#telViewUpToPathBoundary"><span class="hs-identifier hs-var">telViewUpToPathBoundary</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681035735"><span class="hs-identifier hs-var">nargs</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035729"><span class="hs-identifier hs-var">tcon'</span></a></span><span>
</span><span id="line-1116"></span><span>
</span><span id="line-1117"></span><span>        </span><span class="annot"><a href="Agda.Syntax.Internal.html#Def"><span class="hs-identifier hs-type">Def</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681035724"><span class="annot"><span class="annottext">[Elim' Term]
</span><a href="#local-6989586621681035724"><span class="hs-identifier hs-var">es</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Type -&gt; Term
forall t a. Type'' t a -&gt; a
</span><a href="Agda.Syntax.Internal.html#unEl"><span class="hs-identifier hs-var">unEl</span></a></span><span> </span><span class="annot"><span class="annottext">(Type -&gt; Term) -&gt; TCMT IO Type -&gt; TCMT IO Term
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Type -&gt; TCMT IO Type
forall a (m :: * -&gt; *). (Reduce a, MonadReduce m) =&gt; a -&gt; m a
</span><a href="Agda.TypeChecking.Reduce.html#reduce"><span class="hs-identifier hs-var">reduce</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035727"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-1118"></span><span>        </span><span class="hs-comment">-- &#916;.aTel &#8866; con_ixs : X</span><span>
</span><span id="line-1119"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681035723"><span class="annot"><span class="annottext">con_ixs :: [Arg Term]
</span><a href="#local-6989586621681035723"><span class="hs-identifier hs-var hs-var">con_ixs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Arg Term] -&gt; Maybe [Arg Term] -&gt; [Arg Term]
forall a. a -&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromMaybe</span></span><span> </span><span class="annot"><span class="annottext">[Arg Term]
forall a. HasCallStack =&gt; a
</span><a href="Agda.Utils.Impossible.html#__IMPOSSIBLE__"><span class="hs-identifier hs-var">__IMPOSSIBLE__</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe [Arg Term] -&gt; [Arg Term]) -&gt; Maybe [Arg Term] -&gt; [Arg Term]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Elim' Term] -&gt; Maybe [Arg Term]
forall a. [Elim' a] -&gt; Maybe [Arg a]
</span><a href="Agda.Syntax.Internal.Elim.html#allApplyElims"><span class="hs-identifier hs-var">allApplyElims</span></a></span><span> </span><span class="annot"><span class="annottext">([Elim' Term] -&gt; Maybe [Arg Term])
-&gt; [Elim' Term] -&gt; Maybe [Arg Term]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; [Elim' Term] -&gt; [Elim' Term]
forall a. Nat -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">drop</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681036026"><span class="hs-identifier hs-var">npars</span></a></span><span> </span><span class="annot"><span class="annottext">[Elim' Term]
</span><a href="#local-6989586621681035724"><span class="hs-identifier hs-var">es</span></a></span><span>
</span><span id="line-1120"></span><span>
</span><span id="line-1121"></span><span>        </span><span class="annot"><span class="annottext">ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; TCM ()
forall (m :: * -&gt; *).
MonadDebug m =&gt;
ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; m ()
</span><a href="Agda.TypeChecking.Monad.Debug.html#reportSDoc"><span class="hs-identifier hs-var">reportSDoc</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;tc.data.transp.con&quot;</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">20</span></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Doc -&gt; TCM ()) -&gt; TCMT IO Doc -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1122"></span><span>          </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall b (m :: * -&gt; *) a.
(AddContext b, MonadAddContext m) =&gt;
b -&gt; m a -&gt; m a
</span><a href="Agda.TypeChecking.Monad.Context.html#addContext"><span class="hs-identifier hs-var">addContext</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035730"><span class="hs-identifier hs-var">prm</span></a></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Doc -&gt; TCMT IO Doc) -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc
</span><span class="hs-string">&quot;aTel:&quot;</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; m Doc -&gt; m Doc -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; TCMT IO Doc
forall a (m :: * -&gt; *). (PrettyTCM a, MonadPretty m) =&gt; a -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#prettyTCM"><span class="hs-identifier hs-var">prettyTCM</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035728"><span class="hs-identifier hs-var">aTel</span></a></span><span>
</span><span id="line-1123"></span><span>        </span><span class="annot"><span class="annottext">ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; TCM ()
forall (m :: * -&gt; *).
MonadDebug m =&gt;
ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; m ()
</span><a href="Agda.TypeChecking.Monad.Debug.html#reportSDoc"><span class="hs-identifier hs-var">reportSDoc</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;tc.data.transp.con&quot;</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">20</span></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Doc -&gt; TCM ()) -&gt; TCMT IO Doc -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1124"></span><span>          </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall b (m :: * -&gt; *) a.
(AddContext b, MonadAddContext m) =&gt;
b -&gt; m a -&gt; m a
</span><a href="Agda.TypeChecking.Monad.Context.html#addContext"><span class="hs-identifier hs-var">addContext</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035730"><span class="hs-identifier hs-var">prm</span></a></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Doc -&gt; TCMT IO Doc) -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall b (m :: * -&gt; *) a.
(AddContext b, MonadAddContext m) =&gt;
b -&gt; m a -&gt; m a
</span><a href="Agda.TypeChecking.Monad.Context.html#addContext"><span class="hs-identifier hs-var">addContext</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035728"><span class="hs-identifier hs-var">aTel</span></a></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Doc -&gt; TCMT IO Doc) -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc
</span><span class="hs-string">&quot;ty:&quot;</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; m Doc -&gt; m Doc -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Type -&gt; TCMT IO Doc
forall a (m :: * -&gt; *). (PrettyTCM a, MonadPretty m) =&gt; a -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#prettyTCM"><span class="hs-identifier hs-var">prettyTCM</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035727"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-1125"></span><span>        </span><span class="annot"><span class="annottext">ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; TCM ()
forall (m :: * -&gt; *).
MonadDebug m =&gt;
ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; m ()
</span><a href="Agda.TypeChecking.Monad.Debug.html#reportSDoc"><span class="hs-identifier hs-var">reportSDoc</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;tc.data.transp.con&quot;</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">20</span></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Doc -&gt; TCM ()) -&gt; TCMT IO Doc -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1126"></span><span>          </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall b (m :: * -&gt; *) a.
(AddContext b, MonadAddContext m) =&gt;
b -&gt; m a -&gt; m a
</span><a href="Agda.TypeChecking.Monad.Context.html#addContext"><span class="hs-identifier hs-var">addContext</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035730"><span class="hs-identifier hs-var">prm</span></a></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Doc -&gt; TCMT IO Doc) -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall b (m :: * -&gt; *) a.
(AddContext b, MonadAddContext m) =&gt;
b -&gt; m a -&gt; m a
</span><a href="Agda.TypeChecking.Monad.Context.html#addContext"><span class="hs-identifier hs-var">addContext</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035728"><span class="hs-identifier hs-var">aTel</span></a></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Doc -&gt; TCMT IO Doc) -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc
</span><span class="hs-string">&quot;boundary:&quot;</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; m Doc -&gt; m Doc -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Boundary -&gt; TCMT IO Doc
forall a (m :: * -&gt; *). (PrettyTCM a, MonadPretty m) =&gt; a -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#prettyTCM"><span class="hs-identifier hs-var">prettyTCM</span></a></span><span> </span><span class="annot"><span class="annottext">Boundary
</span><a href="#local-6989586621681035726"><span class="hs-identifier hs-var">boundary</span></a></span><span>
</span><span id="line-1127"></span><span>
</span><span id="line-1128"></span><span>        </span><span id="local-6989586621681035720"><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035720"><span class="hs-identifier hs-var">gamma</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[ArgName]
-&gt; NamesT (TCMT IO) (Tele (Dom Type)) -&gt; TCMT IO (Tele (Dom Type))
forall (m :: * -&gt; *) a. [ArgName] -&gt; NamesT m a -&gt; m a
</span><a href="Agda.TypeChecking.Names.html#runNamesT"><span class="hs-identifier hs-var">runNamesT</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">(NamesT (TCMT IO) (Tele (Dom Type)) -&gt; TCMT IO (Tele (Dom Type)))
-&gt; NamesT (TCMT IO) (Tele (Dom Type)) -&gt; TCMT IO (Tele (Dom Type))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1129"></span><span>                     </span><span id="local-6989586621681035719"><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN (Tele (Dom Type)))
</span><a href="#local-6989586621681035719"><span class="hs-identifier hs-var">ixsI</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">AbsN (Tele (Dom Type))
-&gt; NamesT (TCMT IO) (NamesT (TCMT IO) (AbsN (Tele (Dom Type))))
forall (m :: * -&gt; *) a.
(MonadFail m, Subst a) =&gt;
a -&gt; NamesT m (NamesT m a)
</span><a href="Agda.TypeChecking.Names.html#open"><span class="hs-identifier hs-var">open</span></a></span><span> </span><span class="annot"><span class="annottext">(AbsN (Tele (Dom Type))
 -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) (AbsN (Tele (Dom Type)))))
-&gt; AbsN (Tele (Dom Type))
-&gt; NamesT (TCMT IO) (NamesT (TCMT IO) (AbsN (Tele (Dom Type))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[ArgName] -&gt; Tele (Dom Type) -&gt; AbsN (Tele (Dom Type))
forall a. [ArgName] -&gt; a -&gt; AbsN a
</span><a href="Agda.TypeChecking.Names.html#AbsN"><span class="hs-identifier hs-var">AbsN</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; [ArgName]
</span><a href="Agda.TypeChecking.Telescope.html#teleNames"><span class="hs-identifier hs-var">teleNames</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035941"><span class="hs-identifier hs-var">parI</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035940"><span class="hs-identifier hs-var">ixsI</span></a></span><span>
</span><span id="line-1130"></span><span>                     </span><span id="local-6989586621681035718"><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN (Tele (Dom Type)))
</span><a href="#local-6989586621681035718"><span class="hs-identifier hs-var">aTel</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">AbsN (Tele (Dom Type))
-&gt; NamesT (TCMT IO) (NamesT (TCMT IO) (AbsN (Tele (Dom Type))))
forall (m :: * -&gt; *) a.
(MonadFail m, Subst a) =&gt;
a -&gt; NamesT m (NamesT m a)
</span><a href="Agda.TypeChecking.Names.html#open"><span class="hs-identifier hs-var">open</span></a></span><span> </span><span class="annot"><span class="annottext">(AbsN (Tele (Dom Type))
 -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) (AbsN (Tele (Dom Type)))))
-&gt; AbsN (Tele (Dom Type))
-&gt; NamesT (TCMT IO) (NamesT (TCMT IO) (AbsN (Tele (Dom Type))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[ArgName] -&gt; Tele (Dom Type) -&gt; AbsN (Tele (Dom Type))
forall a. [ArgName] -&gt; a -&gt; AbsN a
</span><a href="Agda.TypeChecking.Names.html#AbsN"><span class="hs-identifier hs-var">AbsN</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; [ArgName]
</span><a href="Agda.TypeChecking.Telescope.html#teleNames"><span class="hs-identifier hs-var">teleNames</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035730"><span class="hs-identifier hs-var">prm</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035728"><span class="hs-identifier hs-var">aTel</span></a></span><span>
</span><span id="line-1131"></span><span>                     </span><span id="local-6989586621681035717"><span class="annot"><span class="annottext">NamesT (TCMT IO) (Tele (Dom Type))
</span><a href="#local-6989586621681035717"><span class="hs-identifier hs-var">parI</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
-&gt; NamesT (TCMT IO) (NamesT (TCMT IO) (Tele (Dom Type)))
forall (m :: * -&gt; *) a.
(MonadFail m, Subst a) =&gt;
a -&gt; NamesT m (NamesT m a)
</span><a href="Agda.TypeChecking.Names.html#open"><span class="hs-identifier hs-var">open</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035941"><span class="hs-identifier hs-var">parI</span></a></span><span>
</span><span id="line-1132"></span><span>                     </span><span class="annot"><span class="annottext">(Vars (TCMT IO)
 -&gt; Vars (TCMT IO)
 -&gt; Vars (TCMT IO)
 -&gt; NamesT (TCMT IO) (Tele (Dom Type)))
-&gt; NamesT (TCMT IO) (Tele (Dom Type))
forall (m :: * -&gt; *).
MonadFail m =&gt;
(Vars m -&gt; Vars m -&gt; Vars m -&gt; NamesT m (Tele (Dom Type)))
-&gt; NamesT m (Tele (Dom Type))
</span><a href="#local-6989586621681035938"><span class="hs-identifier hs-var">abstract_trD</span></a></span><span> </span><span class="annot"><span class="annottext">((Vars (TCMT IO)
  -&gt; Vars (TCMT IO)
  -&gt; Vars (TCMT IO)
  -&gt; NamesT (TCMT IO) (Tele (Dom Type)))
 -&gt; NamesT (TCMT IO) (Tele (Dom Type)))
-&gt; (Vars (TCMT IO)
    -&gt; Vars (TCMT IO)
    -&gt; Vars (TCMT IO)
    -&gt; NamesT (TCMT IO) (Tele (Dom Type)))
-&gt; NamesT (TCMT IO) (Tele (Dom Type))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035716"><span class="annot"><span class="annottext">Vars (TCMT IO)
</span><a href="#local-6989586621681035716"><span class="hs-identifier hs-var">delta</span></a></span></span><span> </span><span class="annot"><span class="annottext">Vars (TCMT IO)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Vars (TCMT IO)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1133"></span><span>                     </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681035715"><span class="annot"><span class="annottext">args :: NamesT (TCMT IO) (Tele (Dom Type))
</span><a href="#local-6989586621681035715"><span class="hs-identifier hs-var hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN (Tele (Dom Type)))
</span><a href="#local-6989586621681035718"><span class="hs-identifier hs-var">aTel</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN (Tele (Dom Type)))
-&gt; [NamesT (TCMT IO) (SubstArg (Tele (Dom Type)))]
-&gt; NamesT (TCMT IO) (Tele (Dom Type))
forall (m :: * -&gt; *) a.
(Monad m, Subst a) =&gt;
NamesT m (AbsN a) -&gt; [NamesT m (SubstArg a)] -&gt; NamesT m a
</span><a href="Agda.TypeChecking.Names.html#applyN"><span class="hs-operator hs-var">`applyN`</span></a></span><span> </span><span class="annot"><span class="annottext">(NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; [NamesT (TCMT IO) Term] -&gt; [NamesT (TCMT IO) Term]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; NamesT (TCMT IO) Term
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681036017"><span class="hs-identifier hs-var">iz</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
Vars (TCMT IO)
</span><a href="#local-6989586621681035716"><span class="hs-identifier hs-var">delta</span></a></span><span>
</span><span id="line-1134"></span><span>                     </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (Tele (Dom Type))
</span><a href="#local-6989586621681035715"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1135"></span><span>        </span><span id="local-6989586621681035714"><span class="annot"><span class="annottext">AbsN
  (AbsN
     (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))))
</span><a href="#local-6989586621681035714"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[ArgName]
-&gt; NamesT
     (TCMT IO)
     (AbsN
        (AbsN
           (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)))))
-&gt; TCMT
     IO
     (AbsN
        (AbsN
           (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)))))
forall (m :: * -&gt; *) a. [ArgName] -&gt; NamesT m a -&gt; m a
</span><a href="Agda.TypeChecking.Names.html#runNamesT"><span class="hs-identifier hs-var">runNamesT</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">(NamesT
   (TCMT IO)
   (AbsN
      (AbsN
         (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)))))
 -&gt; TCMT
      IO
      (AbsN
         (AbsN
            (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))))))
-&gt; NamesT
     (TCMT IO)
     (AbsN
        (AbsN
           (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)))))
-&gt; TCMT
     IO
     (AbsN
        (AbsN
           (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1136"></span><span>          </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681035713"><span class="annot"><span class="annottext">aTelNames :: [ArgName]
</span><a href="#local-6989586621681035713"><span class="hs-identifier hs-var hs-var">aTelNames</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; [ArgName]
</span><a href="Agda.TypeChecking.Telescope.html#teleNames"><span class="hs-identifier hs-var">teleNames</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035728"><span class="hs-identifier hs-var">aTel</span></a></span><span>
</span><span id="line-1137"></span><span>              </span><span id="local-6989586621681035712"><span class="annot"><span class="annottext">aTelArgs :: [Arg ArgName]
</span><a href="#local-6989586621681035712"><span class="hs-identifier hs-var hs-var">aTelArgs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; [Arg ArgName]
</span><a href="Agda.TypeChecking.Telescope.html#teleArgNames"><span class="hs-identifier hs-var">teleArgNames</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035728"><span class="hs-identifier hs-var">aTel</span></a></span><span>
</span><span id="line-1138"></span><span>          </span><span id="local-6989586621681035711"><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN [Term])
</span><a href="#local-6989586621681035711"><span class="hs-identifier hs-var">con_ixs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">AbsN [Term] -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) (AbsN [Term]))
forall (m :: * -&gt; *) a.
(MonadFail m, Subst a) =&gt;
a -&gt; NamesT m (NamesT m a)
</span><a href="Agda.TypeChecking.Names.html#open"><span class="hs-identifier hs-var">open</span></a></span><span> </span><span class="annot"><span class="annottext">(AbsN [Term] -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) (AbsN [Term])))
-&gt; AbsN [Term] -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) (AbsN [Term]))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[ArgName] -&gt; [Term] -&gt; AbsN [Term]
forall a. [ArgName] -&gt; a -&gt; AbsN a
</span><a href="Agda.TypeChecking.Names.html#AbsN"><span class="hs-identifier hs-var">AbsN</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; [ArgName]
</span><a href="Agda.TypeChecking.Telescope.html#teleNames"><span class="hs-identifier hs-var">teleNames</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035730"><span class="hs-identifier hs-var">prm</span></a></span><span> </span><span class="annot"><span class="annottext">[ArgName] -&gt; [ArgName] -&gt; [ArgName]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; [ArgName]
</span><a href="Agda.TypeChecking.Telescope.html#teleNames"><span class="hs-identifier hs-var">teleNames</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035728"><span class="hs-identifier hs-var">aTel</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([Term] -&gt; AbsN [Term]) -&gt; [Term] -&gt; AbsN [Term]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Arg Term -&gt; Term) -&gt; [Arg Term] -&gt; [Term]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Arg Term -&gt; Term
forall e. Arg e -&gt; e
</span><a href="Agda.Syntax.Common.html#unArg"><span class="hs-identifier hs-var">unArg</span></a></span><span> </span><span class="annot"><span class="annottext">[Arg Term]
</span><a href="#local-6989586621681035723"><span class="hs-identifier hs-var">con_ixs</span></a></span><span>
</span><span id="line-1139"></span><span>          </span><span id="local-6989586621681035710"><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN Boundary)
</span><a href="#local-6989586621681035710"><span class="hs-identifier hs-var">bndry</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">AbsN Boundary
-&gt; NamesT (TCMT IO) (NamesT (TCMT IO) (AbsN Boundary))
forall (m :: * -&gt; *) a.
(MonadFail m, Subst a) =&gt;
a -&gt; NamesT m (NamesT m a)
</span><a href="Agda.TypeChecking.Names.html#open"><span class="hs-identifier hs-var">open</span></a></span><span> </span><span class="annot"><span class="annottext">(AbsN Boundary
 -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) (AbsN Boundary)))
-&gt; AbsN Boundary
-&gt; NamesT (TCMT IO) (NamesT (TCMT IO) (AbsN Boundary))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[ArgName] -&gt; Boundary -&gt; AbsN Boundary
forall a. [ArgName] -&gt; a -&gt; AbsN a
</span><a href="Agda.TypeChecking.Names.html#AbsN"><span class="hs-identifier hs-var">AbsN</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; [ArgName]
</span><a href="Agda.TypeChecking.Telescope.html#teleNames"><span class="hs-identifier hs-var">teleNames</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035730"><span class="hs-identifier hs-var">prm</span></a></span><span> </span><span class="annot"><span class="annottext">[ArgName] -&gt; [ArgName] -&gt; [ArgName]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; [ArgName]
</span><a href="Agda.TypeChecking.Telescope.html#teleNames"><span class="hs-identifier hs-var">teleNames</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035728"><span class="hs-identifier hs-var">aTel</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Boundary -&gt; AbsN Boundary) -&gt; Boundary -&gt; AbsN Boundary
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Boundary
</span><a href="#local-6989586621681035726"><span class="hs-identifier hs-var">boundary</span></a></span><span>
</span><span id="line-1140"></span><span>          </span><span id="local-6989586621681035709"><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN Term)
</span><a href="#local-6989586621681035709"><span class="hs-identifier hs-var">u</span></a></span></span><span>    </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">AbsN Term -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) (AbsN Term))
forall (m :: * -&gt; *) a.
(MonadFail m, Subst a) =&gt;
a -&gt; NamesT m (NamesT m a)
</span><a href="Agda.TypeChecking.Names.html#open"><span class="hs-identifier hs-var">open</span></a></span><span> </span><span class="annot"><span class="annottext">(AbsN Term -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) (AbsN Term)))
-&gt; AbsN Term -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) (AbsN Term))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[ArgName] -&gt; Term -&gt; AbsN Term
forall a. [ArgName] -&gt; a -&gt; AbsN a
</span><a href="Agda.TypeChecking.Names.html#AbsN"><span class="hs-identifier hs-var">AbsN</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; [ArgName]
</span><a href="Agda.TypeChecking.Telescope.html#teleNames"><span class="hs-identifier hs-var">teleNames</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035730"><span class="hs-identifier hs-var">prm</span></a></span><span> </span><span class="annot"><span class="annottext">[ArgName] -&gt; [ArgName] -&gt; [ArgName]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[ArgName]
</span><a href="#local-6989586621681035713"><span class="hs-identifier hs-var">aTelNames</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Term -&gt; AbsN Term) -&gt; Term -&gt; AbsN Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ConHead -&gt; ConInfo -&gt; [Elim' Term] -&gt; Term
</span><a href="Agda.Syntax.Internal.html#Con"><span class="hs-identifier hs-var">Con</span></a></span><span> </span><span class="annot"><span class="annottext">ConHead
</span><a href="#local-6989586621681035734"><span class="hs-identifier hs-var">chead</span></a></span><span> </span><span class="annot"><span class="annottext">ConInfo
</span><a href="Agda.Syntax.Common.html#ConOSystem"><span class="hs-identifier hs-var">ConOSystem</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Boundary -&gt; [Elim' Term]
forall a.
DeBruijn a =&gt;
Tele (Dom Type) -&gt; Boundary' (a, a) -&gt; [Elim' a]
</span><a href="Agda.TypeChecking.Telescope.html#teleElims"><span class="hs-identifier hs-var">teleElims</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035728"><span class="hs-identifier hs-var">aTel</span></a></span><span> </span><span class="annot"><span class="annottext">Boundary
</span><a href="#local-6989586621681035726"><span class="hs-identifier hs-var">boundary</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1141"></span><span>          </span><span id="local-6989586621681035708"><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN (Tele (Dom Type)))
</span><a href="#local-6989586621681035708"><span class="hs-identifier hs-var">aTel</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">AbsN (Tele (Dom Type))
-&gt; NamesT (TCMT IO) (NamesT (TCMT IO) (AbsN (Tele (Dom Type))))
forall (m :: * -&gt; *) a.
(MonadFail m, Subst a) =&gt;
a -&gt; NamesT m (NamesT m a)
</span><a href="Agda.TypeChecking.Names.html#open"><span class="hs-identifier hs-var">open</span></a></span><span> </span><span class="annot"><span class="annottext">(AbsN (Tele (Dom Type))
 -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) (AbsN (Tele (Dom Type)))))
-&gt; AbsN (Tele (Dom Type))
-&gt; NamesT (TCMT IO) (NamesT (TCMT IO) (AbsN (Tele (Dom Type))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[ArgName] -&gt; Tele (Dom Type) -&gt; AbsN (Tele (Dom Type))
forall a. [ArgName] -&gt; a -&gt; AbsN a
</span><a href="Agda.TypeChecking.Names.html#AbsN"><span class="hs-identifier hs-var">AbsN</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; [ArgName]
</span><a href="Agda.TypeChecking.Telescope.html#teleNames"><span class="hs-identifier hs-var">teleNames</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035730"><span class="hs-identifier hs-var">prm</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035728"><span class="hs-identifier hs-var">aTel</span></a></span><span>
</span><span id="line-1142"></span><span>          </span><span class="hs-comment">-- bsys : Abs &#916;.Args ([phi] &#8594; ty)</span><span>
</span><span id="line-1143"></span><span>          </span><span class="hs-special">(</span><span id="local-6989586621681035707"><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN Term)
</span><a href="#local-6989586621681035707"><span class="hs-identifier hs-var">bsysFace</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681035706"><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN Term)
</span><a href="#local-6989586621681035706"><span class="hs-identifier hs-var">bsys</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1144"></span><span>            </span><span id="local-6989586621681035705"><span class="annot"><span class="annottext">AbsN (Term, Term)
</span><a href="#local-6989586621681035705"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[ArgName]
-&gt; (Vars (TCMT IO) -&gt; NamesT (TCMT IO) (Term, Term))
-&gt; NamesT (TCMT IO) (AbsN (Term, Term))
forall (m :: * -&gt; *) a.
MonadFail m =&gt;
[ArgName] -&gt; (Vars m -&gt; NamesT m a) -&gt; NamesT m (AbsN a)
</span><a href="Agda.TypeChecking.Names.html#bindN"><span class="hs-identifier hs-var">bindN</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; [ArgName]
</span><a href="Agda.TypeChecking.Telescope.html#teleNames"><span class="hs-identifier hs-var">teleNames</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035730"><span class="hs-identifier hs-var">prm</span></a></span><span> </span><span class="annot"><span class="annottext">[ArgName] -&gt; [ArgName] -&gt; [ArgName]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[ArgName]
</span><a href="#local-6989586621681035713"><span class="hs-identifier hs-var">aTelNames</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((Vars (TCMT IO) -&gt; NamesT (TCMT IO) (Term, Term))
 -&gt; NamesT (TCMT IO) (AbsN (Term, Term)))
-&gt; (Vars (TCMT IO) -&gt; NamesT (TCMT IO) (Term, Term))
-&gt; NamesT (TCMT IO) (AbsN (Term, Term))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035704"><span class="annot"><span class="annottext">Vars (TCMT IO)
</span><a href="#local-6989586621681035704"><span class="hs-identifier hs-var">ts</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1145"></span><span>              </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.TypeChecking.Primitive.Cubical.html#LEl"><span class="hs-identifier hs-type">LEl</span></a></span><span> </span><span id="local-6989586621681035703"><span class="annot"><span class="annottext">Level
</span><a href="#local-6989586621681035703"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681035702"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035702"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Type -&gt; NamesT (TCMT IO) (Maybe LType)
forall (m :: * -&gt; *). MonadReduce m =&gt; Type -&gt; m (Maybe LType)
</span><a href="Agda.TypeChecking.Primitive.Cubical.html#toLType"><span class="hs-identifier hs-var">toLType</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035727"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-1146"></span><span>              </span><span id="local-6989586621681035701"><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035701"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Term -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) Term)
forall (m :: * -&gt; *) a.
(MonadFail m, Subst a) =&gt;
a -&gt; NamesT m (NamesT m a)
</span><a href="Agda.TypeChecking.Names.html#open"><span class="hs-identifier hs-var">open</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Level -&gt; Term
</span><a href="Agda.Syntax.Internal.html#Level"><span class="hs-identifier hs-var">Level</span></a></span><span> </span><span class="annot"><span class="annottext">Level
</span><a href="#local-6989586621681035703"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1147"></span><span>              </span><span id="local-6989586621681035700"><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035700"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Term -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) Term)
forall (m :: * -&gt; *) a.
(MonadFail m, Subst a) =&gt;
a -&gt; NamesT m (NamesT m a)
</span><a href="Agda.TypeChecking.Names.html#open"><span class="hs-identifier hs-var">open</span></a></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035702"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-1148"></span><span>              </span><span id="local-6989586621681035699"><span class="annot"><span class="annottext">Boundary
</span><a href="#local-6989586621681035699"><span class="hs-identifier hs-var">bs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN Boundary)
</span><a href="#local-6989586621681035710"><span class="hs-identifier hs-var">bndry</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN Boundary)
-&gt; [NamesT (TCMT IO) (SubstArg Boundary)]
-&gt; NamesT (TCMT IO) Boundary
forall (m :: * -&gt; *) a.
(Monad m, Subst a) =&gt;
NamesT m (AbsN a) -&gt; [NamesT m (SubstArg a)] -&gt; NamesT m a
</span><a href="Agda.TypeChecking.Names.html#applyN"><span class="hs-operator hs-var">`applyN`</span></a></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) (SubstArg Boundary)]
Vars (TCMT IO)
</span><a href="#local-6989586621681035704"><span class="hs-identifier hs-var">ts</span></a></span><span>
</span><span id="line-1149"></span><span>              </span><span id="local-6989586621681035698"><span class="annot"><span class="annottext">[(NamesT (TCMT IO) Term, NamesT (TCMT IO) Term)]
</span><a href="#local-6989586621681035698"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((Term, Term)
 -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) Term, NamesT (TCMT IO) Term))
-&gt; [(Term, Term)]
-&gt; NamesT
     (TCMT IO) [(NamesT (TCMT IO) Term, NamesT (TCMT IO) Term)]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621681035697"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035697"><span class="hs-identifier hs-var">phi</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681035696"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035696"><span class="hs-identifier hs-var">u</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(NamesT (TCMT IO) Term
 -&gt; NamesT (TCMT IO) Term
 -&gt; (NamesT (TCMT IO) Term, NamesT (TCMT IO) Term))
-&gt; NamesT (TCMT IO) (NamesT (TCMT IO) Term)
-&gt; NamesT
     (TCMT IO)
     (NamesT (TCMT IO) Term
      -&gt; (NamesT (TCMT IO) Term, NamesT (TCMT IO) Term))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Term -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) Term)
forall (m :: * -&gt; *) a.
(MonadFail m, Subst a) =&gt;
a -&gt; NamesT m (NamesT m a)
</span><a href="Agda.TypeChecking.Names.html#open"><span class="hs-identifier hs-var">open</span></a></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035697"><span class="hs-identifier hs-var">phi</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT
  (TCMT IO)
  (NamesT (TCMT IO) Term
   -&gt; (NamesT (TCMT IO) Term, NamesT (TCMT IO) Term))
-&gt; NamesT (TCMT IO) (NamesT (TCMT IO) Term)
-&gt; NamesT (TCMT IO) (NamesT (TCMT IO) Term, NamesT (TCMT IO) Term)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Term -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) Term)
forall (m :: * -&gt; *) a.
(MonadFail m, Subst a) =&gt;
a -&gt; NamesT m (NamesT m a)
</span><a href="Agda.TypeChecking.Names.html#open"><span class="hs-identifier hs-var">open</span></a></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035696"><span class="hs-identifier hs-var">u</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([(Term, Term)]
 -&gt; NamesT
      (TCMT IO) [(NamesT (TCMT IO) Term, NamesT (TCMT IO) Term)])
-&gt; [(Term, Term)]
-&gt; NamesT
     (TCMT IO) [(NamesT (TCMT IO) Term, NamesT (TCMT IO) Term)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1150"></span><span>                </span><span class="hs-special">(</span><span id="local-6989586621681035695"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035695"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">,</span><span class="hs-special">(</span><span id="local-6989586621681035694"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035694"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681035693"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035693"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Boundary
</span><a href="#local-6989586621681035699"><span class="hs-identifier hs-var">bs</span></a></span><span>
</span><span id="line-1151"></span><span>                </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681035691"><span class="annot"><span class="annottext">pElem :: Term -&gt; Term
</span><a href="#local-6989586621681035691"><span class="hs-identifier hs-var hs-var">pElem</span></a></span></span><span> </span><span id="local-6989586621681035690"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035690"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ArgInfo -&gt; Abs Term -&gt; Term
</span><a href="Agda.Syntax.Internal.html#Lam"><span class="hs-identifier hs-var">Lam</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Relevance -&gt; ArgInfo -&gt; ArgInfo
forall a. LensRelevance a =&gt; Relevance -&gt; a -&gt; a
</span><a href="Agda.Syntax.Common.html#setRelevance"><span class="hs-identifier hs-var">setRelevance</span></a></span><span> </span><span class="annot"><span class="annottext">Relevance
</span><a href="Agda.Syntax.Common.html#Irrelevant"><span class="hs-identifier hs-var">Irrelevant</span></a></span><span> </span><span class="annot"><span class="annottext">ArgInfo
</span><a href="Agda.Syntax.Common.html#defaultArgInfo"><span class="hs-identifier hs-var">defaultArgInfo</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Abs Term -&gt; Term) -&gt; Abs Term -&gt; Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; Term -&gt; Abs Term
forall a. ArgName -&gt; a -&gt; Abs a
</span><a href="Agda.Syntax.Internal.html#NoAbs"><span class="hs-identifier hs-var">NoAbs</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;o&quot;</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035690"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-1152"></span><span>                </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681036015"><span class="hs-identifier hs-var">tINeg</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; [Arg Term] -&gt; Term
forall t. Apply t =&gt; t -&gt; [Arg Term] -&gt; t
</span><a href="Agda.TypeChecking.Substitute.Class.html#apply"><span class="hs-operator hs-var">`apply`</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Term -&gt; Arg Term
forall e. e -&gt; Arg e
</span><a href="Agda.TypeChecking.Primitive.Base.html#argN"><span class="hs-identifier hs-var">argN</span></a></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035695"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span class="annot"><span class="annottext">Term -&gt; Term
</span><a href="#local-6989586621681035691"><span class="hs-identifier hs-var">pElem</span></a></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035694"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035695"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Term -&gt; Term
</span><a href="#local-6989586621681035691"><span class="hs-identifier hs-var">pElem</span></a></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035693"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-1153"></span><span>              </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term
-&gt; [(NamesT (TCMT IO) Term, NamesT (TCMT IO) Term)]
-&gt; NamesT (TCMT IO) (Term, Term)
forall (m :: * -&gt; *).
HasBuiltins m =&gt;
NamesT m Term
-&gt; NamesT m Term
-&gt; [(NamesT m Term, NamesT m Term)]
-&gt; NamesT m (Term, Term)
</span><a href="Agda.TypeChecking.Primitive.Cubical.html#combineSys%27"><span class="hs-identifier hs-var">combineSys'</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035701"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035700"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">[(NamesT (TCMT IO) Term, NamesT (TCMT IO) Term)]
</span><a href="#local-6989586621681035698"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1154"></span><span>            </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(NamesT (TCMT IO) (AbsN Term)
 -&gt; NamesT (TCMT IO) (AbsN Term)
 -&gt; (NamesT (TCMT IO) (AbsN Term), NamesT (TCMT IO) (AbsN Term)))
-&gt; NamesT (TCMT IO) (NamesT (TCMT IO) (AbsN Term))
-&gt; NamesT
     (TCMT IO)
     (NamesT (TCMT IO) (AbsN Term)
      -&gt; (NamesT (TCMT IO) (AbsN Term), NamesT (TCMT IO) (AbsN Term)))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">AbsN Term -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) (AbsN Term))
forall (m :: * -&gt; *) a.
(MonadFail m, Subst a) =&gt;
a -&gt; NamesT m (NamesT m a)
</span><a href="Agda.TypeChecking.Names.html#open"><span class="hs-identifier hs-var">open</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Term, Term) -&gt; Term
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span> </span><span class="annot"><span class="annottext">((Term, Term) -&gt; Term) -&gt; AbsN (Term, Term) -&gt; AbsN Term
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">AbsN (Term, Term)
</span><a href="#local-6989586621681035705"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">NamesT
  (TCMT IO)
  (NamesT (TCMT IO) (AbsN Term)
   -&gt; (NamesT (TCMT IO) (AbsN Term), NamesT (TCMT IO) (AbsN Term)))
-&gt; NamesT (TCMT IO) (NamesT (TCMT IO) (AbsN Term))
-&gt; NamesT
     (TCMT IO)
     (NamesT (TCMT IO) (AbsN Term), NamesT (TCMT IO) (AbsN Term))
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">AbsN Term -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) (AbsN Term))
forall (m :: * -&gt; *) a.
(MonadFail m, Subst a) =&gt;
a -&gt; NamesT m (NamesT m a)
</span><a href="Agda.TypeChecking.Names.html#open"><span class="hs-identifier hs-var">open</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Term, Term) -&gt; Term
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span> </span><span class="annot"><span class="annottext">((Term, Term) -&gt; Term) -&gt; AbsN (Term, Term) -&gt; AbsN Term
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">AbsN (Term, Term)
</span><a href="#local-6989586621681035705"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1155"></span><span>          </span><span class="annot"><span class="annottext">(ArgVars (TCMT IO)
 -&gt; ArgVars (TCMT IO)
 -&gt; ArgVars (TCMT IO)
 -&gt; NamesT
      (TCMT IO) (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)))
-&gt; NamesT
     (TCMT IO)
     (AbsN
        (AbsN
           (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)))))
forall (m :: * -&gt; *) b.
MonadFail m =&gt;
(ArgVars m -&gt; ArgVars m -&gt; ArgVars m -&gt; NamesT m b)
-&gt; NamesT m (AbsN (AbsN (AbsN b)))
</span><a href="#local-6989586621681035894"><span class="hs-identifier hs-var">bind_trD</span></a></span><span> </span><span class="annot"><span class="annottext">((ArgVars (TCMT IO)
  -&gt; ArgVars (TCMT IO)
  -&gt; ArgVars (TCMT IO)
  -&gt; NamesT
       (TCMT IO) (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)))
 -&gt; NamesT
      (TCMT IO)
      (AbsN
         (AbsN
            (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))))))
-&gt; (ArgVars (TCMT IO)
    -&gt; ArgVars (TCMT IO)
    -&gt; ArgVars (TCMT IO)
    -&gt; NamesT
         (TCMT IO) (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)))
-&gt; NamesT
     (TCMT IO)
     (AbsN
        (AbsN
           (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035686"><span class="annot"><span class="annottext">ArgVars (TCMT IO)
</span><a href="#local-6989586621681035686"><span class="hs-identifier hs-var">delta_ps</span></a></span></span><span> </span><span id="local-6989586621681035685"><span class="annot"><span class="annottext">ArgVars (TCMT IO)
</span><a href="#local-6989586621681035685"><span class="hs-identifier hs-var">x_ps</span></a></span></span><span> </span><span id="local-6989586621681035684"><span class="annot"><span class="annottext">ArgVars (TCMT IO)
</span><a href="#local-6989586621681035684"><span class="hs-identifier hs-var">phi_ps</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1156"></span><span>          </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681035683"><span class="annot"><span class="annottext">x :: [NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035683"><span class="hs-identifier hs-var hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(NamesT (TCMT IO) (Arg Term) -&gt; NamesT (TCMT IO) Term)
-&gt; [NamesT (TCMT IO) (Arg Term)] -&gt; [NamesT (TCMT IO) Term]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Arg Term -&gt; Term)
-&gt; NamesT (TCMT IO) (Arg Term) -&gt; NamesT (TCMT IO) Term
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Arg Term -&gt; Term
forall e. Arg e -&gt; e
</span><a href="Agda.Syntax.Common.html#unArg"><span class="hs-identifier hs-var">unArg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) (Arg Term)]
ArgVars (TCMT IO)
</span><a href="#local-6989586621681035685"><span class="hs-identifier hs-var">x_ps</span></a></span><span>
</span><span id="line-1157"></span><span>          </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681035682"><span class="annot"><span class="annottext">delta :: [NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035682"><span class="hs-identifier hs-var hs-var">delta</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(NamesT (TCMT IO) (Arg Term) -&gt; NamesT (TCMT IO) Term)
-&gt; [NamesT (TCMT IO) (Arg Term)] -&gt; [NamesT (TCMT IO) Term]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Arg Term -&gt; Term)
-&gt; NamesT (TCMT IO) (Arg Term) -&gt; NamesT (TCMT IO) Term
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Arg Term -&gt; Term
forall e. Arg e -&gt; e
</span><a href="Agda.Syntax.Common.html#unArg"><span class="hs-identifier hs-var">unArg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) (Arg Term)]
ArgVars (TCMT IO)
</span><a href="#local-6989586621681035686"><span class="hs-identifier hs-var">delta_ps</span></a></span><span>
</span><span id="line-1158"></span><span>          </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">[</span><span id="local-6989586621681035681"><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035681"><span class="hs-identifier hs-var">phi</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(NamesT (TCMT IO) (Arg Term) -&gt; NamesT (TCMT IO) Term)
-&gt; [NamesT (TCMT IO) (Arg Term)] -&gt; [NamesT (TCMT IO) Term]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Arg Term -&gt; Term)
-&gt; NamesT (TCMT IO) (Arg Term) -&gt; NamesT (TCMT IO) Term
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Arg Term -&gt; Term
forall e. Arg e -&gt; e
</span><a href="Agda.Syntax.Common.html#unArg"><span class="hs-identifier hs-var">unArg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) (Arg Term)]
ArgVars (TCMT IO)
</span><a href="#local-6989586621681035684"><span class="hs-identifier hs-var">phi_ps</span></a></span><span>
</span><span id="line-1159"></span><span>          </span><span class="hs-comment">--- pattern matching args below</span><span>
</span><span id="line-1160"></span><span>          </span><span class="annot"><span class="annottext">[Arg ArgName]
-&gt; (ArgVars (TCMT IO)
    -&gt; NamesT
         (TCMT IO) ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))
-&gt; NamesT
     (TCMT IO) (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))
forall (m :: * -&gt; *) a.
MonadFail m =&gt;
[Arg ArgName] -&gt; (ArgVars m -&gt; NamesT m a) -&gt; NamesT m (AbsN a)
</span><a href="Agda.TypeChecking.Names.html#bindNArg"><span class="hs-identifier hs-var">bindNArg</span></a></span><span> </span><span class="annot"><span class="annottext">[Arg ArgName]
</span><a href="#local-6989586621681035712"><span class="hs-identifier hs-var">aTelArgs</span></a></span><span> </span><span class="annot"><span class="annottext">((ArgVars (TCMT IO)
  -&gt; NamesT
       (TCMT IO) ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))
 -&gt; NamesT
      (TCMT IO) (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)))
-&gt; (ArgVars (TCMT IO)
    -&gt; NamesT
         (TCMT IO) ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))
-&gt; NamesT
     (TCMT IO) (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035680"><span class="annot"><span class="annottext">ArgVars (TCMT IO)
</span><a href="#local-6989586621681035680"><span class="hs-identifier hs-var">as0</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-comment">-- as0 : aTel[delta 0]</span><span>
</span><span id="line-1161"></span><span>
</span><span id="line-1162"></span><span>          </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681035679"><span class="annot"><span class="annottext">aTel0 :: NamesT (TCMT IO) (Tele (Dom Type))
</span><a href="#local-6989586621681035679"><span class="hs-identifier hs-var hs-var">aTel0</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN (Tele (Dom Type)))
</span><a href="#local-6989586621681035708"><span class="hs-identifier hs-var">aTel</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN (Tele (Dom Type)))
-&gt; [NamesT (TCMT IO) (SubstArg (Tele (Dom Type)))]
-&gt; NamesT (TCMT IO) (Tele (Dom Type))
forall (m :: * -&gt; *) a.
(Monad m, Subst a) =&gt;
NamesT m (AbsN a) -&gt; [NamesT m (SubstArg a)] -&gt; NamesT m a
</span><a href="Agda.TypeChecking.Names.html#applyN"><span class="hs-operator hs-var">`applyN`</span></a></span><span> </span><span class="annot"><span class="annottext">(NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; [NamesT (TCMT IO) Term] -&gt; [NamesT (TCMT IO) Term]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; NamesT (TCMT IO) Term
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681036017"><span class="hs-identifier hs-var">iz</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035682"><span class="hs-identifier hs-var">delta</span></a></span><span>
</span><span id="line-1163"></span><span>
</span><span id="line-1164"></span><span>          </span><span class="hs-comment">-- telePatterns is not context invariant, so we need an open here where the context ends in aTel0.</span><span>
</span><span id="line-1165"></span><span>          </span><span id="local-6989586621681035678"><span class="annot"><span class="annottext">NamesT (TCMT IO) [Arg (Named_ (Pattern' DBPatVar))]
</span><a href="#local-6989586621681035678"><span class="hs-identifier hs-var">ps0</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Arg (Named_ (Pattern' DBPatVar))]
-&gt; NamesT
     (TCMT IO) (NamesT (TCMT IO) [Arg (Named_ (Pattern' DBPatVar))])
forall (m :: * -&gt; *) a.
(MonadFail m, Subst a) =&gt;
a -&gt; NamesT m (NamesT m a)
</span><a href="Agda.TypeChecking.Names.html#open"><span class="hs-identifier hs-var">open</span></a></span><span> </span><span class="annot"><span class="annottext">([Arg (Named_ (Pattern' DBPatVar))]
 -&gt; NamesT
      (TCMT IO) (NamesT (TCMT IO) [Arg (Named_ (Pattern' DBPatVar))]))
-&gt; NamesT (TCMT IO) [Arg (Named_ (Pattern' DBPatVar))]
-&gt; NamesT
     (TCMT IO) (NamesT (TCMT IO) [Arg (Named_ (Pattern' DBPatVar))])
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(NamesT (TCMT IO) [Arg (Named_ (Pattern' DBPatVar))]
 -&gt; NamesT
      (TCMT IO) (NamesT (TCMT IO) [Arg (Named_ (Pattern' DBPatVar))]))
-&gt; NamesT (TCMT IO) [Arg (Named_ (Pattern' DBPatVar))]
-&gt; NamesT
     (TCMT IO) (NamesT (TCMT IO) [Arg (Named_ (Pattern' DBPatVar))])
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Boundary -&gt; [Arg (Named_ (Pattern' DBPatVar))]
forall a.
DeBruijn a =&gt;
Tele (Dom Type) -&gt; Boundary -&gt; [NamedArg (Pattern' a)]
</span><a href="Agda.TypeChecking.Telescope.html#telePatterns"><span class="hs-identifier hs-var">telePatterns</span></a></span><span> </span><span class="annot"><span class="annottext">(Tele (Dom Type) -&gt; Boundary -&gt; [Arg (Named_ (Pattern' DBPatVar))])
-&gt; NamesT (TCMT IO) (Tele (Dom Type))
-&gt; NamesT
     (TCMT IO) (Boundary -&gt; [Arg (Named_ (Pattern' DBPatVar))])
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (Tele (Dom Type))
</span><a href="#local-6989586621681035679"><span class="hs-identifier hs-var">aTel0</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (Boundary -&gt; [Arg (Named_ (Pattern' DBPatVar))])
-&gt; NamesT (TCMT IO) Boundary
-&gt; NamesT (TCMT IO) [Arg (Named_ (Pattern' DBPatVar))]
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN Boundary)
-&gt; [NamesT (TCMT IO) (SubstArg Boundary)]
-&gt; NamesT (TCMT IO) Boundary
forall (m :: * -&gt; *) a.
(Monad m, Subst a) =&gt;
NamesT m (AbsN a) -&gt; [NamesT m (SubstArg a)] -&gt; NamesT m a
</span><a href="Agda.TypeChecking.Names.html#applyN"><span class="hs-identifier hs-var">applyN</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN Boundary)
</span><a href="#local-6989586621681035710"><span class="hs-identifier hs-var">bndry</span></a></span><span> </span><span class="annot"><span class="annottext">([NamesT (TCMT IO) (SubstArg Boundary)]
 -&gt; NamesT (TCMT IO) Boundary)
-&gt; [NamesT (TCMT IO) (SubstArg Boundary)]
-&gt; NamesT (TCMT IO) Boundary
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; [NamesT (TCMT IO) Term] -&gt; [NamesT (TCMT IO) Term]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; NamesT (TCMT IO) Term
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681036017"><span class="hs-identifier hs-var">iz</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035682"><span class="hs-identifier hs-var">delta</span></a></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
-&gt; [NamesT (TCMT IO) Term] -&gt; [NamesT (TCMT IO) Term]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">(NamesT (TCMT IO) (Arg Term) -&gt; NamesT (TCMT IO) Term)
-&gt; [NamesT (TCMT IO) (Arg Term)] -&gt; [NamesT (TCMT IO) Term]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Arg Term -&gt; Term)
-&gt; NamesT (TCMT IO) (Arg Term) -&gt; NamesT (TCMT IO) Term
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Arg Term -&gt; Term
forall e. Arg e -&gt; e
</span><a href="Agda.Syntax.Common.html#unArg"><span class="hs-identifier hs-var">unArg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) (Arg Term)]
ArgVars (TCMT IO)
</span><a href="#local-6989586621681035680"><span class="hs-identifier hs-var">as0</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1166"></span><span>
</span><span id="line-1167"></span><span>          </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681035677"><span class="annot"><span class="annottext">deltaArg :: NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) [Arg Term]
</span><a href="#local-6989586621681035677"><span class="hs-identifier hs-var hs-var">deltaArg</span></a></span></span><span> </span><span id="local-6989586621681035676"><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035676"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1168"></span><span>                </span><span id="local-6989586621681035675"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035675"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035676"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-1169"></span><span>                </span><span id="local-6989586621681035674"><span class="annot"><span class="annottext">[Arg Term]
</span><a href="#local-6989586621681035674"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) (Arg Term)] -&gt; NamesT (TCMT IO) [Arg Term]
forall (t :: * -&gt; *) (m :: * -&gt; *) a.
(Traversable t, Monad m) =&gt;
t (m a) -&gt; m (t a)
</span><span class="hs-identifier hs-var">sequence</span></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) (Arg Term)]
ArgVars (TCMT IO)
</span><a href="#local-6989586621681035686"><span class="hs-identifier hs-var">delta_ps</span></a></span><span>
</span><span id="line-1170"></span><span>                </span><span class="annot"><span class="annottext">[Arg Term] -&gt; NamesT (TCMT IO) [Arg Term]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">([Arg Term] -&gt; NamesT (TCMT IO) [Arg Term])
-&gt; [Arg Term] -&gt; NamesT (TCMT IO) [Arg Term]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Arg Term -&gt; Arg Term) -&gt; [Arg Term] -&gt; [Arg Term]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Term -&gt; Term) -&gt; Arg Term -&gt; Arg Term
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term -&gt; [Arg Term] -&gt; Term
forall t. Apply t =&gt; t -&gt; [Arg Term] -&gt; t
</span><a href="Agda.TypeChecking.Substitute.Class.html#apply"><span class="hs-operator hs-var">`apply`</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Term -&gt; Arg Term
forall e. e -&gt; Arg e
</span><a href="Agda.TypeChecking.Primitive.Base.html#argN"><span class="hs-identifier hs-var">argN</span></a></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035675"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Arg Term]
</span><a href="#local-6989586621681035674"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1171"></span><span>
</span><span id="line-1172"></span><span>          </span><span class="hs-keyword">let</span><span>
</span><span id="line-1173"></span><span>            </span><span id="local-6989586621681035673"><span class="annot"><span class="annottext">origP :: NamesT (TCMT IO) (Pattern' DBPatVar)
</span><a href="#local-6989586621681035673"><span class="hs-identifier hs-var hs-var">origP</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ConHead
-&gt; ConPatternInfo
-&gt; [Arg (Named_ (Pattern' DBPatVar))]
-&gt; Pattern' DBPatVar
forall x.
ConHead -&gt; ConPatternInfo -&gt; [NamedArg (Pattern' x)] -&gt; Pattern' x
</span><a href="Agda.Syntax.Internal.html#ConP"><span class="hs-identifier hs-var">ConP</span></a></span><span> </span><span class="annot"><span class="annottext">ConHead
</span><a href="#local-6989586621681035734"><span class="hs-identifier hs-var">chead</span></a></span><span> </span><span class="annot"><span class="annottext">ConPatternInfo
</span><a href="Agda.Syntax.Internal.html#noConPatternInfo"><span class="hs-identifier hs-var">noConPatternInfo</span></a></span><span> </span><span class="annot"><span class="annottext">([Arg (Named_ (Pattern' DBPatVar))] -&gt; Pattern' DBPatVar)
-&gt; NamesT (TCMT IO) [Arg (Named_ (Pattern' DBPatVar))]
-&gt; NamesT (TCMT IO) (Pattern' DBPatVar)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) [Arg (Named_ (Pattern' DBPatVar))]
</span><a href="#local-6989586621681035678"><span class="hs-identifier hs-var">ps0</span></a></span><span>
</span><span id="line-1174"></span><span>            </span><span id="local-6989586621681035672"><span class="annot"><span class="annottext">ps :: NamesT (TCMT IO) [Arg (Named_ (Pattern' DBPatVar))]
</span><a href="#local-6989586621681035672"><span class="hs-identifier hs-var hs-var">ps</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) (Arg (Named_ (Pattern' DBPatVar)))]
-&gt; NamesT (TCMT IO) [Arg (Named_ (Pattern' DBPatVar))]
forall (t :: * -&gt; *) (m :: * -&gt; *) a.
(Traversable t, Monad m) =&gt;
t (m a) -&gt; m (t a)
</span><span class="hs-identifier hs-var">sequence</span></span><span> </span><span class="annot"><span class="annottext">([NamesT (TCMT IO) (Arg (Named_ (Pattern' DBPatVar)))]
 -&gt; NamesT (TCMT IO) [Arg (Named_ (Pattern' DBPatVar))])
-&gt; [NamesT (TCMT IO) (Arg (Named_ (Pattern' DBPatVar)))]
-&gt; NamesT (TCMT IO) [Arg (Named_ (Pattern' DBPatVar))]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) (Arg (Named_ (Pattern' DBPatVar)))]
ArgVars (TCMT IO)
</span><a href="#local-6989586621681035686"><span class="hs-identifier hs-var">delta_ps</span></a></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) (Arg (Named_ (Pattern' DBPatVar)))]
-&gt; [NamesT (TCMT IO) (Arg (Named_ (Pattern' DBPatVar)))]
-&gt; [NamesT (TCMT IO) (Arg (Named_ (Pattern' DBPatVar)))]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) (Arg (Named_ (Pattern' DBPatVar)))]
ArgVars (TCMT IO)
</span><a href="#local-6989586621681035685"><span class="hs-identifier hs-var">x_ps</span></a></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) (Arg (Named_ (Pattern' DBPatVar)))]
-&gt; [NamesT (TCMT IO) (Arg (Named_ (Pattern' DBPatVar)))]
-&gt; [NamesT (TCMT IO) (Arg (Named_ (Pattern' DBPatVar)))]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) (Arg (Named_ (Pattern' DBPatVar)))]
ArgVars (TCMT IO)
</span><a href="#local-6989586621681035684"><span class="hs-identifier hs-var">phi_ps</span></a></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) (Arg (Named_ (Pattern' DBPatVar)))]
-&gt; [NamesT (TCMT IO) (Arg (Named_ (Pattern' DBPatVar)))]
-&gt; [NamesT (TCMT IO) (Arg (Named_ (Pattern' DBPatVar)))]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Named_ (Pattern' DBPatVar) -&gt; Arg (Named_ (Pattern' DBPatVar))
forall e. e -&gt; Arg e
</span><a href="Agda.TypeChecking.Primitive.Base.html#argN"><span class="hs-identifier hs-var">argN</span></a></span><span> </span><span class="annot"><span class="annottext">(Named_ (Pattern' DBPatVar) -&gt; Arg (Named_ (Pattern' DBPatVar)))
-&gt; (Pattern' DBPatVar -&gt; Named_ (Pattern' DBPatVar))
-&gt; Pattern' DBPatVar
-&gt; Arg (Named_ (Pattern' DBPatVar))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Pattern' DBPatVar -&gt; Named_ (Pattern' DBPatVar)
forall a name. a -&gt; Named name a
</span><a href="Agda.Syntax.Common.html#unnamed"><span class="hs-identifier hs-var">unnamed</span></a></span><span> </span><span class="annot"><span class="annottext">(Pattern' DBPatVar -&gt; Arg (Named_ (Pattern' DBPatVar)))
-&gt; NamesT (TCMT IO) (Pattern' DBPatVar)
-&gt; NamesT (TCMT IO) (Arg (Named_ (Pattern' DBPatVar)))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (Pattern' DBPatVar)
</span><a href="#local-6989586621681035673"><span class="hs-identifier hs-var">origP</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1175"></span><span>          </span><span class="hs-keyword">let</span><span>
</span><span id="line-1176"></span><span>            </span><span id="local-6989586621681035671"><span class="annot"><span class="annottext">orig :: NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035671"><span class="hs-identifier hs-var hs-var">orig</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Pattern' DBPatVar -&gt; Term
</span><a href="Agda.Syntax.Internal.Pattern.html#patternToTerm"><span class="hs-identifier hs-var">patternToTerm</span></a></span><span> </span><span class="annot"><span class="annottext">(Pattern' DBPatVar -&gt; Term)
-&gt; NamesT (TCMT IO) (Pattern' DBPatVar) -&gt; NamesT (TCMT IO) Term
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (Pattern' DBPatVar)
</span><a href="#local-6989586621681035673"><span class="hs-identifier hs-var">origP</span></a></span><span>
</span><span id="line-1177"></span><span>            </span><span id="local-6989586621681035669"><span class="annot"><span class="annottext">rhsTy :: NamesT (TCMT IO) Type
</span><a href="#local-6989586621681035669"><span class="hs-identifier hs-var hs-var">rhsTy</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN Type)
</span><a href="#local-6989586621681035863"><span class="hs-identifier hs-var">dT</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN Type)
-&gt; [NamesT (TCMT IO) (SubstArg Type)] -&gt; NamesT (TCMT IO) Type
forall (m :: * -&gt; *) a.
(Monad m, Subst a) =&gt;
NamesT m (AbsN a) -&gt; [NamesT m (SubstArg a)] -&gt; NamesT m a
</span><a href="Agda.TypeChecking.Names.html#applyN"><span class="hs-operator hs-var">`applyN`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035682"><span class="hs-identifier hs-var">delta</span></a></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
-&gt; [NamesT (TCMT IO) Term] -&gt; [NamesT (TCMT IO) Term]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035683"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
-&gt; [NamesT (TCMT IO) Term] -&gt; [NamesT (TCMT IO) Term]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Term -&gt; NamesT (TCMT IO) Term
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681036018"><span class="hs-identifier hs-var">io</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-1178"></span><span>
</span><span id="line-1179"></span><span>          </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([Arg (Named_ (Pattern' DBPatVar))]
 -&gt; Type
 -&gt; Term
 -&gt; ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))
-&gt; NamesT (TCMT IO) [Arg (Named_ (Pattern' DBPatVar))]
-&gt; NamesT
     (TCMT IO)
     (Type -&gt; Term -&gt; ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) [Arg (Named_ (Pattern' DBPatVar))]
</span><a href="#local-6989586621681035672"><span class="hs-identifier hs-var">ps</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT
  (TCMT IO)
  (Type -&gt; Term -&gt; ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))
-&gt; NamesT (TCMT IO) Type
-&gt; NamesT
     (TCMT IO)
     (Term -&gt; ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Type
</span><a href="#local-6989586621681035669"><span class="hs-identifier hs-var">rhsTy</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT
  (TCMT IO)
  (Term -&gt; ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))
-&gt; NamesT (TCMT IO) Term
-&gt; NamesT
     (TCMT IO) ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1180"></span><span>
</span><span id="line-1181"></span><span>          </span><span class="hs-comment">-- Declared Constructors.</span><span>
</span><span id="line-1182"></span><span>          </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681035668"><span class="annot"><span class="annottext">aTelI :: NamesT (TCMT IO) (Abs (Tele (Dom Type)))
</span><a href="#local-6989586621681035668"><span class="hs-identifier hs-var hs-var">aTelI</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ArgName
-&gt; ((forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b)
    -&gt; NamesT (TCMT IO) (Tele (Dom Type)))
-&gt; NamesT (TCMT IO) (Abs (Tele (Dom Type)))
forall (m :: * -&gt; *) a.
MonadFail m =&gt;
ArgName
-&gt; ((forall b. (Subst b, DeBruijn b) =&gt; NamesT m b) -&gt; NamesT m a)
-&gt; NamesT m (Abs a)
</span><a href="Agda.TypeChecking.Names.html#bind"><span class="hs-identifier hs-var">bind</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;i&quot;</span></span><span> </span><span class="annot"><span class="annottext">(((forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b)
  -&gt; NamesT (TCMT IO) (Tele (Dom Type)))
 -&gt; NamesT (TCMT IO) (Abs (Tele (Dom Type))))
-&gt; ((forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b)
    -&gt; NamesT (TCMT IO) (Tele (Dom Type)))
-&gt; NamesT (TCMT IO) (Abs (Tele (Dom Type)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035667"><span class="annot"><span class="annottext">forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b
</span><a href="#local-6989586621681035667"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN (Tele (Dom Type)))
</span><a href="#local-6989586621681035708"><span class="hs-identifier hs-var">aTel</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN (Tele (Dom Type)))
-&gt; [NamesT (TCMT IO) (SubstArg (Tele (Dom Type)))]
-&gt; NamesT (TCMT IO) (Tele (Dom Type))
forall (m :: * -&gt; *) a.
(Monad m, Subst a) =&gt;
NamesT m (AbsN a) -&gt; [NamesT m (SubstArg a)] -&gt; NamesT m a
</span><a href="Agda.TypeChecking.Names.html#applyN"><span class="hs-operator hs-var">`applyN`</span></a></span><span> </span><span class="annot"><span class="annottext">(NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; [NamesT (TCMT IO) Term] -&gt; [NamesT (TCMT IO) Term]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b
</span><a href="#local-6989586621681035667"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035682"><span class="hs-identifier hs-var">delta</span></a></span><span>
</span><span id="line-1183"></span><span>
</span><span id="line-1184"></span><span>          </span><span id="local-6989586621681035666"><span class="annot"><span class="annottext">Either (Closure (Abs Type)) [Arg Term]
</span><a href="#local-6989586621681035666"><span class="hs-identifier hs-var">eas1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(ExceptT (Closure (Abs Type)) (TCMT IO) [Arg Term]
 -&gt; NamesT (TCMT IO) (Either (Closure (Abs Type)) [Arg Term]))
-&gt; NamesT
     (TCMT IO) (ExceptT (Closure (Abs Type)) (TCMT IO) [Arg Term])
-&gt; NamesT (TCMT IO) (Either (Closure (Abs Type)) [Arg Term])
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">(=&lt;&lt;)</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TCMT IO (Either (Closure (Abs Type)) [Arg Term])
-&gt; NamesT (TCMT IO) (Either (Closure (Abs Type)) [Arg Term])
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><span class="hs-identifier hs-var">lift</span></span><span> </span><span class="annot"><span class="annottext">(TCMT IO (Either (Closure (Abs Type)) [Arg Term])
 -&gt; NamesT (TCMT IO) (Either (Closure (Abs Type)) [Arg Term]))
-&gt; (ExceptT (Closure (Abs Type)) (TCMT IO) [Arg Term]
    -&gt; TCMT IO (Either (Closure (Abs Type)) [Arg Term]))
-&gt; ExceptT (Closure (Abs Type)) (TCMT IO) [Arg Term]
-&gt; NamesT (TCMT IO) (Either (Closure (Abs Type)) [Arg Term])
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ExceptT (Closure (Abs Type)) (TCMT IO) [Arg Term]
-&gt; TCMT IO (Either (Closure (Abs Type)) [Arg Term])
forall e (m :: * -&gt; *) a. ExceptT e m a -&gt; m (Either e a)
</span><span class="hs-identifier hs-var">runExceptT</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(NamesT
   (TCMT IO) (ExceptT (Closure (Abs Type)) (TCMT IO) [Arg Term])
 -&gt; NamesT (TCMT IO) (Either (Closure (Abs Type)) [Arg Term]))
-&gt; NamesT
     (TCMT IO) (ExceptT (Closure (Abs Type)) (TCMT IO) [Arg Term])
-&gt; NamesT (TCMT IO) (Either (Closure (Abs Type)) [Arg Term])
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Abs (Tele (Dom Type))
-&gt; Term
-&gt; [Arg Term]
-&gt; ExceptT (Closure (Abs Type)) (TCMT IO) [Arg Term]
</span><a href="Agda.TypeChecking.Primitive.Cubical.html#transpTel"><span class="hs-identifier hs-var">transpTel</span></a></span><span> </span><span class="annot"><span class="annottext">(Abs (Tele (Dom Type))
 -&gt; Term
 -&gt; [Arg Term]
 -&gt; ExceptT (Closure (Abs Type)) (TCMT IO) [Arg Term])
-&gt; NamesT (TCMT IO) (Abs (Tele (Dom Type)))
-&gt; NamesT
     (TCMT IO)
     (Term
      -&gt; [Arg Term] -&gt; ExceptT (Closure (Abs Type)) (TCMT IO) [Arg Term])
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (Abs (Tele (Dom Type)))
</span><a href="#local-6989586621681035668"><span class="hs-identifier hs-var">aTelI</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT
  (TCMT IO)
  (Term
   -&gt; [Arg Term] -&gt; ExceptT (Closure (Abs Type)) (TCMT IO) [Arg Term])
-&gt; NamesT (TCMT IO) Term
-&gt; NamesT
     (TCMT IO)
     ([Arg Term] -&gt; ExceptT (Closure (Abs Type)) (TCMT IO) [Arg Term])
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035681"><span class="hs-identifier hs-var">phi</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT
  (TCMT IO)
  ([Arg Term] -&gt; ExceptT (Closure (Abs Type)) (TCMT IO) [Arg Term])
-&gt; NamesT (TCMT IO) [Arg Term]
-&gt; NamesT
     (TCMT IO) (ExceptT (Closure (Abs Type)) (TCMT IO) [Arg Term])
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) (Arg Term)] -&gt; NamesT (TCMT IO) [Arg Term]
forall (t :: * -&gt; *) (m :: * -&gt; *) a.
(Traversable t, Monad m) =&gt;
t (m a) -&gt; m (t a)
</span><span class="hs-identifier hs-var">sequence</span></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) (Arg Term)]
ArgVars (TCMT IO)
</span><a href="#local-6989586621681035680"><span class="hs-identifier hs-var">as0</span></a></span><span>
</span><span id="line-1185"></span><span>
</span><span id="line-1186"></span><span>          </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (Either (Closure (Abs Type)) [Arg Term])
-&gt; (Closure (Abs Type) -&gt; NamesT (TCMT IO) Term)
-&gt; ([Arg Term] -&gt; NamesT (TCMT IO) Term)
-&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *) a b c.
Monad m =&gt;
m (Either a b) -&gt; (a -&gt; m c) -&gt; (b -&gt; m c) -&gt; m c
</span><a href="Agda.Utils.Either.html#caseEitherM"><span class="hs-identifier hs-var">caseEitherM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Either (Closure (Abs Type)) [Arg Term]
-&gt; NamesT (TCMT IO) (Either (Closure (Abs Type)) [Arg Term])
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Either (Closure (Abs Type)) [Arg Term]
</span><a href="#local-6989586621681035666"><span class="hs-identifier hs-var">eas1</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TCMT IO Term -&gt; NamesT (TCMT IO) Term
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><span class="hs-identifier hs-var">lift</span></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Term -&gt; NamesT (TCMT IO) Term)
-&gt; (Closure (Abs Type) -&gt; TCMT IO Term)
-&gt; Closure (Abs Type)
-&gt; NamesT (TCMT IO) Term
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">IO Term -&gt; TCMT IO Term
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><span class="hs-identifier hs-var">lift</span></span><span> </span><span class="annot"><span class="annottext">(IO Term -&gt; TCMT IO Term)
-&gt; (Closure (Abs Type) -&gt; IO Term)
-&gt; Closure (Abs Type)
-&gt; TCMT IO Term
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">TranspError -&gt; IO Term
forall a e. Exception e =&gt; e -&gt; a
</span><span class="hs-identifier hs-var">E.throw</span></span><span> </span><span class="annot"><span class="annottext">(TranspError -&gt; IO Term)
-&gt; (Closure (Abs Type) -&gt; TranspError)
-&gt; Closure (Abs Type)
-&gt; IO Term
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Closure (Abs Type) -&gt; TranspError
</span><a href="Agda.TypeChecking.Primitive.Cubical.html#CannotTransp"><span class="hs-identifier hs-var">CannotTransp</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(([Arg Term] -&gt; NamesT (TCMT IO) Term) -&gt; NamesT (TCMT IO) Term)
-&gt; ([Arg Term] -&gt; NamesT (TCMT IO) Term) -&gt; NamesT (TCMT IO) Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035661"><span class="annot"><span class="annottext">[Arg Term]
</span><a href="#local-6989586621681035661"><span class="hs-identifier hs-var">as1</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1187"></span><span>
</span><span id="line-1188"></span><span>          </span><span id="local-6989586621681035660"><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035660"><span class="hs-identifier hs-var">as1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Arg Term -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) Term))
-&gt; [Arg Term] -&gt; NamesT (TCMT IO) [NamesT (TCMT IO) Term]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) Term)
forall (m :: * -&gt; *) a.
(MonadFail m, Subst a) =&gt;
a -&gt; NamesT m (NamesT m a)
</span><a href="Agda.TypeChecking.Names.html#open"><span class="hs-identifier hs-var">open</span></a></span><span> </span><span class="annot"><span class="annottext">(Term -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) Term))
-&gt; (Arg Term -&gt; Term)
-&gt; Arg Term
-&gt; NamesT (TCMT IO) (NamesT (TCMT IO) Term)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Arg Term -&gt; Term
forall e. Arg e -&gt; e
</span><a href="Agda.Syntax.Common.html#unArg"><span class="hs-identifier hs-var">unArg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Arg Term]
</span><a href="#local-6989586621681035661"><span class="hs-identifier hs-var">as1</span></a></span><span>
</span><span id="line-1189"></span><span>
</span><span id="line-1190"></span><span>          </span><span id="local-6989586621681035659"><span class="annot"><span class="annottext">NamesT (TCMT IO) (Abs [Arg Term])
</span><a href="#local-6989586621681035659"><span class="hs-identifier hs-var">as01</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Abs [Arg Term]
-&gt; NamesT (TCMT IO) (NamesT (TCMT IO) (Abs [Arg Term]))
forall (m :: * -&gt; *) a.
(MonadFail m, Subst a) =&gt;
a -&gt; NamesT m (NamesT m a)
</span><a href="Agda.TypeChecking.Names.html#open"><span class="hs-identifier hs-var">open</span></a></span><span> </span><span class="annot"><span class="annottext">(Abs [Arg Term]
 -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) (Abs [Arg Term])))
-&gt; NamesT (TCMT IO) (Abs [Arg Term])
-&gt; NamesT (TCMT IO) (NamesT (TCMT IO) (Abs [Arg Term]))
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(NamesT (TCMT IO) (Abs [Arg Term])
 -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) (Abs [Arg Term])))
-&gt; NamesT (TCMT IO) (Abs [Arg Term])
-&gt; NamesT (TCMT IO) (NamesT (TCMT IO) (Abs [Arg Term]))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ArgName
-&gt; ((forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b)
    -&gt; NamesT (TCMT IO) [Arg Term])
-&gt; NamesT (TCMT IO) (Abs [Arg Term])
forall (m :: * -&gt; *) a.
MonadFail m =&gt;
ArgName
-&gt; ((forall b. (Subst b, DeBruijn b) =&gt; NamesT m b) -&gt; NamesT m a)
-&gt; NamesT m (Abs a)
</span><a href="Agda.TypeChecking.Names.html#bind"><span class="hs-identifier hs-var">bind</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;i&quot;</span></span><span> </span><span class="annot"><span class="annottext">(((forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b)
  -&gt; NamesT (TCMT IO) [Arg Term])
 -&gt; NamesT (TCMT IO) (Abs [Arg Term]))
-&gt; ((forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b)
    -&gt; NamesT (TCMT IO) [Arg Term])
-&gt; NamesT (TCMT IO) (Abs [Arg Term])
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035658"><span class="annot"><span class="annottext">forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b
</span><a href="#local-6989586621681035658"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1191"></span><span>            </span><span id="local-6989586621681035657"><span class="annot"><span class="annottext">Either (Closure (Abs Type)) [Arg Term]
</span><a href="#local-6989586621681035657"><span class="hs-identifier hs-var">eas01</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(ExceptT (Closure (Abs Type)) (TCMT IO) [Arg Term]
 -&gt; NamesT (TCMT IO) (Either (Closure (Abs Type)) [Arg Term]))
-&gt; NamesT
     (TCMT IO) (ExceptT (Closure (Abs Type)) (TCMT IO) [Arg Term])
-&gt; NamesT (TCMT IO) (Either (Closure (Abs Type)) [Arg Term])
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">(=&lt;&lt;)</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TCMT IO (Either (Closure (Abs Type)) [Arg Term])
-&gt; NamesT (TCMT IO) (Either (Closure (Abs Type)) [Arg Term])
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><span class="hs-identifier hs-var">lift</span></span><span> </span><span class="annot"><span class="annottext">(TCMT IO (Either (Closure (Abs Type)) [Arg Term])
 -&gt; NamesT (TCMT IO) (Either (Closure (Abs Type)) [Arg Term]))
-&gt; (ExceptT (Closure (Abs Type)) (TCMT IO) [Arg Term]
    -&gt; TCMT IO (Either (Closure (Abs Type)) [Arg Term]))
-&gt; ExceptT (Closure (Abs Type)) (TCMT IO) [Arg Term]
-&gt; NamesT (TCMT IO) (Either (Closure (Abs Type)) [Arg Term])
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ExceptT (Closure (Abs Type)) (TCMT IO) [Arg Term]
-&gt; TCMT IO (Either (Closure (Abs Type)) [Arg Term])
forall e (m :: * -&gt; *) a. ExceptT e m a -&gt; m (Either e a)
</span><span class="hs-identifier hs-var">runExceptT</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(NamesT
   (TCMT IO) (ExceptT (Closure (Abs Type)) (TCMT IO) [Arg Term])
 -&gt; NamesT (TCMT IO) (Either (Closure (Abs Type)) [Arg Term]))
-&gt; NamesT
     (TCMT IO) (ExceptT (Closure (Abs Type)) (TCMT IO) [Arg Term])
-&gt; NamesT (TCMT IO) (Either (Closure (Abs Type)) [Arg Term])
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Abs (Tele (Dom Type))
-&gt; Term
-&gt; [Arg Term]
-&gt; Term
-&gt; ExceptT (Closure (Abs Type)) (TCMT IO) [Arg Term]
</span><a href="Agda.TypeChecking.Primitive.Cubical.html#trFillTel"><span class="hs-identifier hs-var">trFillTel</span></a></span><span> </span><span class="annot"><span class="annottext">(Abs (Tele (Dom Type))
 -&gt; Term
 -&gt; [Arg Term]
 -&gt; Term
 -&gt; ExceptT (Closure (Abs Type)) (TCMT IO) [Arg Term])
-&gt; NamesT (TCMT IO) (Abs (Tele (Dom Type)))
-&gt; NamesT
     (TCMT IO)
     (Term
      -&gt; [Arg Term]
      -&gt; Term
      -&gt; ExceptT (Closure (Abs Type)) (TCMT IO) [Arg Term])
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (Abs (Tele (Dom Type)))
</span><a href="#local-6989586621681035668"><span class="hs-identifier hs-var">aTelI</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT
  (TCMT IO)
  (Term
   -&gt; [Arg Term]
   -&gt; Term
   -&gt; ExceptT (Closure (Abs Type)) (TCMT IO) [Arg Term])
-&gt; NamesT (TCMT IO) Term
-&gt; NamesT
     (TCMT IO)
     ([Arg Term]
      -&gt; Term -&gt; ExceptT (Closure (Abs Type)) (TCMT IO) [Arg Term])
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035681"><span class="hs-identifier hs-var">phi</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT
  (TCMT IO)
  ([Arg Term]
   -&gt; Term -&gt; ExceptT (Closure (Abs Type)) (TCMT IO) [Arg Term])
-&gt; NamesT (TCMT IO) [Arg Term]
-&gt; NamesT
     (TCMT IO)
     (Term -&gt; ExceptT (Closure (Abs Type)) (TCMT IO) [Arg Term])
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) (Arg Term)] -&gt; NamesT (TCMT IO) [Arg Term]
forall (t :: * -&gt; *) (m :: * -&gt; *) a.
(Traversable t, Monad m) =&gt;
t (m a) -&gt; m (t a)
</span><span class="hs-identifier hs-var">sequence</span></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) (Arg Term)]
ArgVars (TCMT IO)
</span><a href="#local-6989586621681035680"><span class="hs-identifier hs-var">as0</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT
  (TCMT IO)
  (Term -&gt; ExceptT (Closure (Abs Type)) (TCMT IO) [Arg Term])
-&gt; NamesT (TCMT IO) Term
-&gt; NamesT
     (TCMT IO) (ExceptT (Closure (Abs Type)) (TCMT IO) [Arg Term])
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b
</span><a href="#local-6989586621681035658"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-1192"></span><span>            </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (Either (Closure (Abs Type)) [Arg Term])
-&gt; (Closure (Abs Type) -&gt; NamesT (TCMT IO) [Arg Term])
-&gt; ([Arg Term] -&gt; NamesT (TCMT IO) [Arg Term])
-&gt; NamesT (TCMT IO) [Arg Term]
forall (m :: * -&gt; *) a b c.
Monad m =&gt;
m (Either a b) -&gt; (a -&gt; m c) -&gt; (b -&gt; m c) -&gt; m c
</span><a href="Agda.Utils.Either.html#caseEitherM"><span class="hs-identifier hs-var">caseEitherM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Either (Closure (Abs Type)) [Arg Term]
-&gt; NamesT (TCMT IO) (Either (Closure (Abs Type)) [Arg Term])
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Either (Closure (Abs Type)) [Arg Term]
</span><a href="#local-6989586621681035657"><span class="hs-identifier hs-var">eas01</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TCMT IO [Arg Term] -&gt; NamesT (TCMT IO) [Arg Term]
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><span class="hs-identifier hs-var">lift</span></span><span> </span><span class="annot"><span class="annottext">(TCMT IO [Arg Term] -&gt; NamesT (TCMT IO) [Arg Term])
-&gt; (Closure (Abs Type) -&gt; TCMT IO [Arg Term])
-&gt; Closure (Abs Type)
-&gt; NamesT (TCMT IO) [Arg Term]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">IO [Arg Term] -&gt; TCMT IO [Arg Term]
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><span class="hs-identifier hs-var">lift</span></span><span> </span><span class="annot"><span class="annottext">(IO [Arg Term] -&gt; TCMT IO [Arg Term])
-&gt; (Closure (Abs Type) -&gt; IO [Arg Term])
-&gt; Closure (Abs Type)
-&gt; TCMT IO [Arg Term]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">TranspError -&gt; IO [Arg Term]
forall a e. Exception e =&gt; e -&gt; a
</span><span class="hs-identifier hs-var">E.throw</span></span><span> </span><span class="annot"><span class="annottext">(TranspError -&gt; IO [Arg Term])
-&gt; (Closure (Abs Type) -&gt; TranspError)
-&gt; Closure (Abs Type)
-&gt; IO [Arg Term]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Closure (Abs Type) -&gt; TranspError
</span><a href="Agda.TypeChecking.Primitive.Cubical.html#CannotTransp"><span class="hs-identifier hs-var">CannotTransp</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Arg Term] -&gt; NamesT (TCMT IO) [Arg Term]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span>
</span><span id="line-1193"></span><span>
</span><span id="line-1194"></span><span>          </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681035649"><span class="annot"><span class="annottext">argApp :: m (f b) -&gt; m Term -&gt; m (f b)
</span><a href="#local-6989586621681035649"><span class="hs-identifier hs-var hs-var">argApp</span></a></span></span><span> </span><span id="local-6989586621681035648"><span class="annot"><span class="annottext">m (f b)
</span><a href="#local-6989586621681035648"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681035647"><span class="annot"><span class="annottext">m Term
</span><a href="#local-6989586621681035647"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(f b -&gt; Term -&gt; f b) -&gt; m (f b) -&gt; m Term -&gt; m (f b)
forall (m :: * -&gt; *) a1 a2 r.
Monad m =&gt;
(a1 -&gt; a2 -&gt; r) -&gt; m a1 -&gt; m a2 -&gt; m r
</span><span class="hs-identifier hs-var">liftM2</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035646"><span class="annot"><span class="annottext">f b
</span><a href="#local-6989586621681035646"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681035645"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035645"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(b -&gt; b) -&gt; f b -&gt; f b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b -&gt; [Arg Term] -&gt; b
forall t. Apply t =&gt; t -&gt; [Arg Term] -&gt; t
</span><a href="Agda.TypeChecking.Substitute.Class.html#apply"><span class="hs-operator hs-var">`apply`</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Term -&gt; Arg Term
forall e. e -&gt; Arg e
</span><a href="Agda.TypeChecking.Primitive.Base.html#argN"><span class="hs-identifier hs-var">argN</span></a></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035645"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">f b
</span><a href="#local-6989586621681035646"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">m (f b)
</span><a href="#local-6989586621681035648"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">m Term
</span><a href="#local-6989586621681035647"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-1195"></span><span>          </span><span class="hs-keyword">let</span><span>
</span><span id="line-1196"></span><span>            </span><span id="local-6989586621681039659"><span class="annot"><a href="#local-6989586621681035644"><span class="hs-identifier hs-type">argLam</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadFail</span></span><span> </span><span class="annot"><a href="#local-6989586621681039659"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.TypeChecking.Names.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681039659"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Names.html#NamesT"><span class="hs-identifier hs-type">NamesT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681039659"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Common.html#Arg"><span class="hs-identifier hs-type">Arg</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Names.html#NamesT"><span class="hs-identifier hs-type">NamesT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681039659"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Common.html#Arg"><span class="hs-identifier hs-type">Arg</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-1197"></span><span>            </span><span id="local-6989586621681035644"><span class="annot"><span class="annottext">argLam :: forall (m :: * -&gt; *).
MonadFail m =&gt;
ArgName -&gt; (Var m -&gt; NamesT m (Arg Term)) -&gt; NamesT m (Arg Term)
</span><a href="#local-6989586621681035644"><span class="hs-identifier hs-var hs-var">argLam</span></a></span></span><span> </span><span id="local-6989586621681035636"><span class="annot"><span class="annottext">ArgName
</span><a href="#local-6989586621681035636"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621681035635"><span class="annot"><span class="annottext">Var m -&gt; NamesT m (Arg Term)
</span><a href="#local-6989586621681035635"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Internal.html#Abs"><span class="hs-identifier hs-type">Abs</span></a></span><span> </span><span id="local-6989586621681035634"><span class="annot"><span class="annottext">ArgName
</span><a href="#local-6989586621681035634"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Common.html#Arg"><span class="hs-identifier hs-type">Arg</span></a></span><span> </span><span id="local-6989586621681035633"><span class="annot"><span class="annottext">ArgInfo
</span><a href="#local-6989586621681035633"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621681035632"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035632"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ArgInfo -&gt; Term -&gt; Arg Term
forall e. ArgInfo -&gt; e -&gt; Arg e
</span><a href="Agda.Syntax.Common.html#Arg"><span class="hs-identifier hs-var">Arg</span></a></span><span> </span><span class="annot"><span class="annottext">ArgInfo
</span><a href="#local-6989586621681035633"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">(Term -&gt; Arg Term) -&gt; Term -&gt; Arg Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ArgInfo -&gt; Abs Term -&gt; Term
</span><a href="Agda.Syntax.Internal.html#Lam"><span class="hs-identifier hs-var">Lam</span></a></span><span> </span><span class="annot"><span class="annottext">ArgInfo
</span><a href="Agda.Syntax.Common.html#defaultArgInfo"><span class="hs-identifier hs-var">defaultArgInfo</span></a></span><span> </span><span class="annot"><span class="annottext">(Abs Term -&gt; Term) -&gt; Abs Term -&gt; Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; Term -&gt; Abs Term
forall a. ArgName -&gt; a -&gt; Abs a
</span><a href="Agda.Syntax.Internal.html#Abs"><span class="hs-identifier hs-var">Abs</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><a href="#local-6989586621681035634"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035632"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Abs (Arg Term) -&gt; Arg Term)
-&gt; NamesT m (Abs (Arg Term)) -&gt; NamesT m (Arg Term)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">ArgName
-&gt; (Var m -&gt; NamesT m (Arg Term)) -&gt; NamesT m (Abs (Arg Term))
forall (m :: * -&gt; *) a.
MonadFail m =&gt;
ArgName
-&gt; ((forall b. (Subst b, DeBruijn b) =&gt; NamesT m b) -&gt; NamesT m a)
-&gt; NamesT m (Abs a)
</span><a href="Agda.TypeChecking.Names.html#bind"><span class="hs-identifier hs-var">bind</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;n&quot;</span></span><span> </span><span class="annot"><span class="annottext">Var m -&gt; NamesT m (Arg Term)
</span><a href="#local-6989586621681035635"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-1198"></span><span>          </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681035631"><span class="annot"><span class="annottext">cas1 :: NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035631"><span class="hs-identifier hs-var hs-var">cas1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN Term)
-&gt; [NamesT (TCMT IO) (SubstArg Term)] -&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *) a.
(Monad m, Subst a) =&gt;
NamesT m (AbsN a) -&gt; [NamesT m (SubstArg a)] -&gt; NamesT m a
</span><a href="Agda.TypeChecking.Names.html#applyN"><span class="hs-identifier hs-var">applyN</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN Term)
</span><a href="#local-6989586621681035709"><span class="hs-identifier hs-var">u</span></a></span><span> </span><span class="annot"><span class="annottext">([NamesT (TCMT IO) (SubstArg Term)] -&gt; NamesT (TCMT IO) Term)
-&gt; [NamesT (TCMT IO) (SubstArg Term)] -&gt; NamesT (TCMT IO) Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; [NamesT (TCMT IO) Term] -&gt; [NamesT (TCMT IO) Term]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; NamesT (TCMT IO) Term
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681036018"><span class="hs-identifier hs-var">io</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035682"><span class="hs-identifier hs-var">delta</span></a></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
-&gt; [NamesT (TCMT IO) Term] -&gt; [NamesT (TCMT IO) Term]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035660"><span class="hs-identifier hs-var">as1</span></a></span><span>
</span><span id="line-1199"></span><span>
</span><span id="line-1200"></span><span>          </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681035630"><span class="annot"><span class="annottext">base :: NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035630"><span class="hs-identifier hs-var hs-var">base</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Maybe QName
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe QName
</span><a href="#local-6989586621681036027"><span class="hs-identifier hs-var">mtrX</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035631"><span class="hs-identifier hs-var">cas1</span></a></span><span>
</span><span id="line-1201"></span><span>                   </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681035629"><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681035629"><span class="hs-identifier hs-var">trX</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe QName
</span><a href="#local-6989586621681036027"><span class="hs-identifier hs-var">mtrX</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1202"></span><span>                       </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681035628"><span class="annot"><span class="annottext">theTel :: NamesT (TCMT IO) (Abs (Abs (Tele (Dom Type))))
</span><a href="#local-6989586621681035628"><span class="hs-identifier hs-var hs-var">theTel</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ArgName
-&gt; ((forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b)
    -&gt; NamesT (TCMT IO) (Abs (Tele (Dom Type))))
-&gt; NamesT (TCMT IO) (Abs (Abs (Tele (Dom Type))))
forall (m :: * -&gt; *) a.
MonadFail m =&gt;
ArgName
-&gt; ((forall b. (Subst b, DeBruijn b) =&gt; NamesT m b) -&gt; NamesT m a)
-&gt; NamesT m (Abs a)
</span><a href="Agda.TypeChecking.Names.html#bind"><span class="hs-identifier hs-var">bind</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;j&quot;</span></span><span> </span><span class="annot"><span class="annottext">(((forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b)
  -&gt; NamesT (TCMT IO) (Abs (Tele (Dom Type))))
 -&gt; NamesT (TCMT IO) (Abs (Abs (Tele (Dom Type)))))
-&gt; ((forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b)
    -&gt; NamesT (TCMT IO) (Abs (Tele (Dom Type))))
-&gt; NamesT (TCMT IO) (Abs (Abs (Tele (Dom Type))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035627"><span class="annot"><span class="annottext">forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b
</span><a href="#local-6989586621681035627"><span class="hs-identifier hs-var">j</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ArgName
-&gt; ((forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b)
    -&gt; NamesT (TCMT IO) (Tele (Dom Type)))
-&gt; NamesT (TCMT IO) (Abs (Tele (Dom Type)))
forall (m :: * -&gt; *) a.
MonadFail m =&gt;
ArgName
-&gt; ((forall b. (Subst b, DeBruijn b) =&gt; NamesT m b) -&gt; NamesT m a)
-&gt; NamesT m (Abs a)
</span><a href="Agda.TypeChecking.Names.html#bind"><span class="hs-identifier hs-var">bind</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;i&quot;</span></span><span> </span><span class="annot"><span class="annottext">(((forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b)
  -&gt; NamesT (TCMT IO) (Tele (Dom Type)))
 -&gt; NamesT (TCMT IO) (Abs (Tele (Dom Type))))
-&gt; ((forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b)
    -&gt; NamesT (TCMT IO) (Tele (Dom Type)))
-&gt; NamesT (TCMT IO) (Abs (Tele (Dom Type)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035626"><span class="annot"><span class="annottext">forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b
</span><a href="#local-6989586621681035626"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN (Tele (Dom Type)))
-&gt; [NamesT (TCMT IO) (SubstArg (Tele (Dom Type)))]
-&gt; NamesT (TCMT IO) (Tele (Dom Type))
forall (m :: * -&gt; *) a.
(Monad m, Subst a) =&gt;
NamesT m (AbsN a) -&gt; [NamesT m (SubstArg a)] -&gt; NamesT m a
</span><a href="Agda.TypeChecking.Names.html#applyN"><span class="hs-identifier hs-var">applyN</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN (Tele (Dom Type)))
</span><a href="#local-6989586621681035864"><span class="hs-identifier hs-var">xTel</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; [NamesT (TCMT IO) Term] -&gt; [NamesT (TCMT IO) Term]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall {m :: * -&gt; *}.
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
NamesT m Term -&gt; NamesT m Term -&gt; NamesT m Term
</span><a href="#local-6989586621681035998"><span class="hs-identifier hs-var">max</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b
</span><a href="#local-6989586621681035626"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b
</span><a href="#local-6989586621681035627"><span class="hs-identifier hs-var">j</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035682"><span class="hs-identifier hs-var">delta</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1203"></span><span>                       </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681035625"><span class="annot"><span class="annottext">theLeft :: NamesT (TCMT IO) [Term]
</span><a href="#local-6989586621681035625"><span class="hs-identifier hs-var hs-var">theLeft</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (Abs [Term]) -&gt; NamesT (TCMT IO) [Term]
forall (m :: * -&gt; *).
Monad m =&gt;
NamesT m (Abs [Term]) -&gt; NamesT m [Term]
</span><a href="Agda.TypeChecking.Names.html#lamTel"><span class="hs-identifier hs-var">lamTel</span></a></span><span> </span><span class="annot"><span class="annottext">(NamesT (TCMT IO) (Abs [Term]) -&gt; NamesT (TCMT IO) [Term])
-&gt; NamesT (TCMT IO) (Abs [Term]) -&gt; NamesT (TCMT IO) [Term]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ArgName
-&gt; ((forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b)
    -&gt; NamesT (TCMT IO) [Term])
-&gt; NamesT (TCMT IO) (Abs [Term])
forall (m :: * -&gt; *) a.
MonadFail m =&gt;
ArgName
-&gt; ((forall b. (Subst b, DeBruijn b) =&gt; NamesT m b) -&gt; NamesT m a)
-&gt; NamesT m (Abs a)
</span><a href="Agda.TypeChecking.Names.html#bind"><span class="hs-identifier hs-var">bind</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;i&quot;</span></span><span> </span><span class="annot"><span class="annottext">(((forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b)
  -&gt; NamesT (TCMT IO) [Term])
 -&gt; NamesT (TCMT IO) (Abs [Term]))
-&gt; ((forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b)
    -&gt; NamesT (TCMT IO) [Term])
-&gt; NamesT (TCMT IO) (Abs [Term])
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035623"><span class="annot"><span class="annottext">forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b
</span><a href="#local-6989586621681035623"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1204"></span><span>                             </span><span id="local-6989586621681035622"><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035622"><span class="hs-identifier hs-var">as01</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Arg Term -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) Term))
-&gt; [Arg Term] -&gt; NamesT (TCMT IO) [NamesT (TCMT IO) Term]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) Term)
forall (m :: * -&gt; *) a.
(MonadFail m, Subst a) =&gt;
a -&gt; NamesT m (NamesT m a)
</span><a href="Agda.TypeChecking.Names.html#open"><span class="hs-identifier hs-var">open</span></a></span><span> </span><span class="annot"><span class="annottext">(Term -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) Term))
-&gt; (Arg Term -&gt; Term)
-&gt; Arg Term
-&gt; NamesT (TCMT IO) (NamesT (TCMT IO) Term)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Arg Term -&gt; Term
forall e. Arg e -&gt; e
</span><a href="Agda.Syntax.Common.html#unArg"><span class="hs-identifier hs-var">unArg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([Arg Term] -&gt; NamesT (TCMT IO) [NamesT (TCMT IO) Term])
-&gt; NamesT (TCMT IO) [Arg Term]
-&gt; NamesT (TCMT IO) [NamesT (TCMT IO) Term]
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Abs [Arg Term] -&gt; Term -&gt; [Arg Term]
forall a. Subst a =&gt; Abs a -&gt; SubstArg a -&gt; a
</span><a href="Agda.TypeChecking.Substitute.Class.html#absApp"><span class="hs-identifier hs-var">absApp</span></a></span><span> </span><span class="annot"><span class="annottext">(Abs [Arg Term] -&gt; Term -&gt; [Arg Term])
-&gt; NamesT (TCMT IO) (Abs [Arg Term])
-&gt; NamesT (TCMT IO) (Term -&gt; [Arg Term])
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (Abs [Arg Term])
</span><a href="#local-6989586621681035659"><span class="hs-identifier hs-var">as01</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (Term -&gt; [Arg Term])
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) [Arg Term]
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b
</span><a href="#local-6989586621681035623"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1205"></span><span>                             </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN [Term])
</span><a href="#local-6989586621681035711"><span class="hs-identifier hs-var">con_ixs</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN [Term])
-&gt; [NamesT (TCMT IO) (SubstArg [Term])] -&gt; NamesT (TCMT IO) [Term]
forall (m :: * -&gt; *) a.
(Monad m, Subst a) =&gt;
NamesT m (AbsN a) -&gt; [NamesT m (SubstArg a)] -&gt; NamesT m a
</span><a href="Agda.TypeChecking.Names.html#applyN"><span class="hs-operator hs-var">`applyN`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; [NamesT (TCMT IO) Term] -&gt; [NamesT (TCMT IO) Term]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b
</span><a href="#local-6989586621681035623"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035682"><span class="hs-identifier hs-var">delta</span></a></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
-&gt; [NamesT (TCMT IO) Term] -&gt; [NamesT (TCMT IO) Term]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035622"><span class="hs-identifier hs-var">as01</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1206"></span><span>                       </span><span id="local-6989586621681035621"><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035621"><span class="hs-identifier hs-var">theLeft</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Term -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) Term))
-&gt; [Term] -&gt; NamesT (TCMT IO) [NamesT (TCMT IO) Term]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">Term -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) Term)
forall (m :: * -&gt; *) a.
(MonadFail m, Subst a) =&gt;
a -&gt; NamesT m (NamesT m a)
</span><a href="Agda.TypeChecking.Names.html#open"><span class="hs-identifier hs-var">open</span></a></span><span> </span><span class="annot"><span class="annottext">([Term] -&gt; NamesT (TCMT IO) [NamesT (TCMT IO) Term])
-&gt; NamesT (TCMT IO) [Term]
-&gt; NamesT (TCMT IO) [NamesT (TCMT IO) Term]
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) [Term]
</span><a href="#local-6989586621681035625"><span class="hs-identifier hs-var">theLeft</span></a></span><span>
</span><span id="line-1207"></span><span>                       </span><span id="local-6989586621681035620"><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035620"><span class="hs-identifier hs-var">theRight</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Term -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) Term))
-&gt; [Term] -&gt; NamesT (TCMT IO) [NamesT (TCMT IO) Term]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">Term -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) Term)
forall (m :: * -&gt; *) a.
(MonadFail m, Subst a) =&gt;
a -&gt; NamesT m (NamesT m a)
</span><a href="Agda.TypeChecking.Names.html#open"><span class="hs-identifier hs-var">open</span></a></span><span> </span><span class="annot"><span class="annottext">([Term] -&gt; NamesT (TCMT IO) [NamesT (TCMT IO) Term])
-&gt; NamesT (TCMT IO) [Term]
-&gt; NamesT (TCMT IO) [NamesT (TCMT IO) Term]
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(NamesT (TCMT IO) [Term]
 -&gt; NamesT (TCMT IO) [NamesT (TCMT IO) Term])
-&gt; NamesT (TCMT IO) [Term]
-&gt; NamesT (TCMT IO) [NamesT (TCMT IO) Term]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (Abs [Term]) -&gt; NamesT (TCMT IO) [Term]
forall (m :: * -&gt; *).
Monad m =&gt;
NamesT m (Abs [Term]) -&gt; NamesT m [Term]
</span><a href="Agda.TypeChecking.Names.html#lamTel"><span class="hs-identifier hs-var">lamTel</span></a></span><span> </span><span class="annot"><span class="annottext">(NamesT (TCMT IO) (Abs [Term]) -&gt; NamesT (TCMT IO) [Term])
-&gt; NamesT (TCMT IO) (Abs [Term]) -&gt; NamesT (TCMT IO) [Term]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ArgName
-&gt; ((forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b)
    -&gt; NamesT (TCMT IO) [Term])
-&gt; NamesT (TCMT IO) (Abs [Term])
forall (m :: * -&gt; *) a.
MonadFail m =&gt;
ArgName
-&gt; ((forall b. (Subst b, DeBruijn b) =&gt; NamesT m b) -&gt; NamesT m a)
-&gt; NamesT m (Abs a)
</span><a href="Agda.TypeChecking.Names.html#bind"><span class="hs-identifier hs-var">bind</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;i&quot;</span></span><span> </span><span class="annot"><span class="annottext">(((forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b)
  -&gt; NamesT (TCMT IO) [Term])
 -&gt; NamesT (TCMT IO) (Abs [Term]))
-&gt; ((forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b)
    -&gt; NamesT (TCMT IO) [Term])
-&gt; NamesT (TCMT IO) (Abs [Term])
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035619"><span class="annot"><span class="annottext">forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b
</span><a href="#local-6989586621681035619"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1208"></span><span>                         </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN [Term])
</span><a href="#local-6989586621681035711"><span class="hs-identifier hs-var">con_ixs</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN [Term])
-&gt; [NamesT (TCMT IO) (SubstArg [Term])] -&gt; NamesT (TCMT IO) [Term]
forall (m :: * -&gt; *) a.
(Monad m, Subst a) =&gt;
NamesT m (AbsN a) -&gt; [NamesT m (SubstArg a)] -&gt; NamesT m a
</span><a href="Agda.TypeChecking.Names.html#applyN"><span class="hs-operator hs-var">`applyN`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; [NamesT (TCMT IO) Term] -&gt; [NamesT (TCMT IO) Term]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; NamesT (TCMT IO) Term
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681036018"><span class="hs-identifier hs-var">io</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035682"><span class="hs-identifier hs-var">delta</span></a></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
-&gt; [NamesT (TCMT IO) Term] -&gt; [NamesT (TCMT IO) Term]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035660"><span class="hs-identifier hs-var">as1</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1209"></span><span>
</span><span id="line-1210"></span><span>                       </span><span id="local-6989586621681035618"><span class="annot"><span class="annottext">[Arg Term]
</span><a href="#local-6989586621681035618"><span class="hs-identifier hs-var">trx'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (Abs (Abs (Tele (Dom Type))))
-&gt; [NamesT (TCMT IO) Term]
-&gt; [NamesT (TCMT IO) Term]
-&gt; NamesT (TCMT IO) Term
-&gt; [NamesT (TCMT IO) Term]
-&gt; NamesT (TCMT IO) [Arg Term]
</span><a href="Agda.TypeChecking.Primitive.Cubical.html#transpPathPTel%27"><span class="hs-identifier hs-var">transpPathPTel'</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (Abs (Abs (Tele (Dom Type))))
</span><a href="#local-6989586621681035628"><span class="hs-identifier hs-var">theTel</span></a></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035683"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035620"><span class="hs-identifier hs-var">theRight</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035681"><span class="hs-identifier hs-var">phi</span></a></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035621"><span class="hs-identifier hs-var">theLeft</span></a></span><span>
</span><span id="line-1211"></span><span>                       </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681035616"><span class="annot"><span class="annottext">args :: NamesT (TCMT IO) [Arg Term]
</span><a href="#local-6989586621681035616"><span class="hs-identifier hs-var hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([Arg Term] -&gt; [Arg Term] -&gt; [Arg Term])
-&gt; NamesT (TCMT IO) [Arg Term]
-&gt; NamesT (TCMT IO) [Arg Term]
-&gt; NamesT (TCMT IO) [Arg Term]
forall (m :: * -&gt; *) a1 a2 r.
Monad m =&gt;
(a1 -&gt; a2 -&gt; r) -&gt; m a1 -&gt; m a2 -&gt; m r
</span><span class="hs-identifier hs-var">liftM2</span></span><span> </span><span class="annot"><span class="annottext">[Arg Term] -&gt; [Arg Term] -&gt; [Arg Term]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">(++)</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Arg Term -&gt; Arg Term) -&gt; [Arg Term] -&gt; [Arg Term]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Hiding -&gt; Arg Term -&gt; Arg Term
forall a. LensHiding a =&gt; Hiding -&gt; a -&gt; a
</span><a href="Agda.Syntax.Common.html#setHiding"><span class="hs-identifier hs-var">setHiding</span></a></span><span> </span><span class="annot"><span class="annottext">Hiding
</span><a href="Agda.Syntax.Common.html#Hidden"><span class="hs-identifier hs-var">Hidden</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([Arg Term] -&gt; [Arg Term])
-&gt; NamesT (TCMT IO) [Arg Term] -&gt; NamesT (TCMT IO) [Arg Term]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) [Arg Term]
</span><a href="#local-6989586621681035677"><span class="hs-identifier hs-var">deltaArg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term -&gt; NamesT (TCMT IO) Term
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681036018"><span class="hs-identifier hs-var">io</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Arg Term]
-&gt; (Arg Term -&gt; NamesT (TCMT IO) (Arg Term))
-&gt; NamesT (TCMT IO) [Arg Term]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
t a -&gt; (a -&gt; m b) -&gt; m (t b)
</span><span class="hs-identifier hs-var">forM</span></span><span> </span><span class="annot"><span class="annottext">[Arg Term]
</span><a href="#local-6989586621681035618"><span class="hs-identifier hs-var">trx'</span></a></span><span> </span><span class="annot"><span class="annottext">((Arg Term -&gt; NamesT (TCMT IO) (Arg Term))
 -&gt; NamesT (TCMT IO) [Arg Term])
-&gt; (Arg Term -&gt; NamesT (TCMT IO) (Arg Term))
-&gt; NamesT (TCMT IO) [Arg Term]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035615"><span class="annot"><span class="annottext">Arg Term
</span><a href="#local-6989586621681035615"><span class="hs-identifier hs-var">q'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1212"></span><span>                                                                       </span><span id="local-6989586621681035614"><span class="annot"><span class="annottext">NamesT (TCMT IO) (Arg Term)
</span><a href="#local-6989586621681035614"><span class="hs-identifier hs-var">q'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Arg Term -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) (Arg Term))
forall (m :: * -&gt; *) a.
(MonadFail m, Subst a) =&gt;
a -&gt; NamesT m (NamesT m a)
</span><a href="Agda.TypeChecking.Names.html#open"><span class="hs-identifier hs-var">open</span></a></span><span> </span><span class="annot"><span class="annottext">Arg Term
</span><a href="#local-6989586621681035615"><span class="hs-identifier hs-var">q'</span></a></span><span>
</span><span id="line-1213"></span><span>                                                                       </span><span class="annot"><span class="annottext">ArgName
-&gt; ((forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b)
    -&gt; NamesT (TCMT IO) (Arg Term))
-&gt; NamesT (TCMT IO) (Arg Term)
forall (m :: * -&gt; *).
MonadFail m =&gt;
ArgName -&gt; (Var m -&gt; NamesT m (Arg Term)) -&gt; NamesT m (Arg Term)
</span><a href="#local-6989586621681035644"><span class="hs-identifier hs-var">argLam</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;i&quot;</span></span><span> </span><span class="annot"><span class="annottext">(((forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b)
  -&gt; NamesT (TCMT IO) (Arg Term))
 -&gt; NamesT (TCMT IO) (Arg Term))
-&gt; ((forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b)
    -&gt; NamesT (TCMT IO) (Arg Term))
-&gt; NamesT (TCMT IO) (Arg Term)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035613"><span class="annot"><span class="annottext">forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b
</span><a href="#local-6989586621681035613"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (Arg Term)
</span><a href="#local-6989586621681035614"><span class="hs-identifier hs-var">q'</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (Arg Term)
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) (Arg Term)
forall {m :: * -&gt; *} {b} {f :: * -&gt; *}.
(Monad m, Apply b, Functor f) =&gt;
m (f b) -&gt; m Term -&gt; m (f b)
</span><a href="#local-6989586621681035649"><span class="hs-operator hs-var">`argApp`</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall {m :: * -&gt; *}.
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
NamesT m Term -&gt; NamesT m Term
</span><a href="#local-6989586621681035963"><span class="hs-identifier hs-var">neg</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b
</span><a href="#local-6989586621681035613"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1214"></span><span>                       </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term -&gt; [Arg Term] -&gt; Term
forall t. Apply t =&gt; t -&gt; [Arg Term] -&gt; t
</span><a href="Agda.TypeChecking.Substitute.Class.html#apply"><span class="hs-identifier hs-var">apply</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">QName -&gt; [Elim' Term] -&gt; Term
</span><a href="Agda.Syntax.Internal.html#Def"><span class="hs-identifier hs-var">Def</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681035629"><span class="hs-identifier hs-var">trX</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([Arg Term] -&gt; Term)
-&gt; NamesT (TCMT IO) [Arg Term] -&gt; NamesT (TCMT IO) Term
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) [Arg Term]
</span><a href="#local-6989586621681035616"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035681"><span class="hs-identifier hs-var">phi</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035631"><span class="hs-identifier hs-var">cas1</span></a></span><span>
</span><span id="line-1215"></span><span>
</span><span id="line-1216"></span><span>
</span><span id="line-1217"></span><span>          </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Boundary -&gt; Bool
forall a. Null a =&gt; a -&gt; Bool
</span><a href="Agda.Utils.Null.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">Boundary
</span><a href="#local-6989586621681035726"><span class="hs-identifier hs-var">boundary</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035630"><span class="hs-identifier hs-var">base</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1218"></span><span>
</span><span id="line-1219"></span><span>          </span><span class="hs-comment">-- We have to correct the boundary for path constructors.</span><span>
</span><span id="line-1220"></span><span>
</span><span id="line-1221"></span><span>          </span><span class="hs-comment">-- bline : Abs I ([phi] &#8594; ty)</span><span>
</span><span id="line-1222"></span><span>          </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681035612"><span class="annot"><span class="annottext">blineFace :: NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035612"><span class="hs-identifier hs-var hs-var">blineFace</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN Term)
-&gt; [NamesT (TCMT IO) (SubstArg Term)] -&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *) a.
(Monad m, Subst a) =&gt;
NamesT m (AbsN a) -&gt; [NamesT m (SubstArg a)] -&gt; NamesT m a
</span><a href="Agda.TypeChecking.Names.html#applyN"><span class="hs-identifier hs-var">applyN</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN Term)
</span><a href="#local-6989586621681035707"><span class="hs-identifier hs-var">bsysFace</span></a></span><span> </span><span class="annot"><span class="annottext">([NamesT (TCMT IO) (SubstArg Term)] -&gt; NamesT (TCMT IO) Term)
-&gt; [NamesT (TCMT IO) (SubstArg Term)] -&gt; NamesT (TCMT IO) Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; [NamesT (TCMT IO) Term] -&gt; [NamesT (TCMT IO) Term]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; NamesT (TCMT IO) Term
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681036018"><span class="hs-identifier hs-var">io</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035682"><span class="hs-identifier hs-var">delta</span></a></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
-&gt; [NamesT (TCMT IO) Term] -&gt; [NamesT (TCMT IO) Term]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035660"><span class="hs-identifier hs-var">as1</span></a></span><span>
</span><span id="line-1223"></span><span>          </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681035611"><span class="annot"><span class="annottext">bline :: NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035611"><span class="hs-identifier hs-var hs-var">bline</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1224"></span><span>                </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681035610"><span class="annot"><span class="annottext">theTel :: NamesT (TCMT IO) (Abs (Abs (Tele (Dom Type))))
</span><a href="#local-6989586621681035610"><span class="hs-identifier hs-var hs-var">theTel</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ArgName
-&gt; ((forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b)
    -&gt; NamesT (TCMT IO) (Abs (Tele (Dom Type))))
-&gt; NamesT (TCMT IO) (Abs (Abs (Tele (Dom Type))))
forall (m :: * -&gt; *) a.
MonadFail m =&gt;
ArgName
-&gt; ((forall b. (Subst b, DeBruijn b) =&gt; NamesT m b) -&gt; NamesT m a)
-&gt; NamesT m (Abs a)
</span><a href="Agda.TypeChecking.Names.html#bind"><span class="hs-identifier hs-var">bind</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;j&quot;</span></span><span> </span><span class="annot"><span class="annottext">(((forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b)
  -&gt; NamesT (TCMT IO) (Abs (Tele (Dom Type))))
 -&gt; NamesT (TCMT IO) (Abs (Abs (Tele (Dom Type)))))
-&gt; ((forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b)
    -&gt; NamesT (TCMT IO) (Abs (Tele (Dom Type))))
-&gt; NamesT (TCMT IO) (Abs (Abs (Tele (Dom Type))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035609"><span class="annot"><span class="annottext">forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b
</span><a href="#local-6989586621681035609"><span class="hs-identifier hs-var">j</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ArgName
-&gt; ((forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b)
    -&gt; NamesT (TCMT IO) (Tele (Dom Type)))
-&gt; NamesT (TCMT IO) (Abs (Tele (Dom Type)))
forall (m :: * -&gt; *) a.
MonadFail m =&gt;
ArgName
-&gt; ((forall b. (Subst b, DeBruijn b) =&gt; NamesT m b) -&gt; NamesT m a)
-&gt; NamesT m (Abs a)
</span><a href="Agda.TypeChecking.Names.html#bind"><span class="hs-identifier hs-var">bind</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;i&quot;</span></span><span> </span><span class="annot"><span class="annottext">(((forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b)
  -&gt; NamesT (TCMT IO) (Tele (Dom Type)))
 -&gt; NamesT (TCMT IO) (Abs (Tele (Dom Type))))
-&gt; ((forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b)
    -&gt; NamesT (TCMT IO) (Tele (Dom Type)))
-&gt; NamesT (TCMT IO) (Abs (Tele (Dom Type)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035608"><span class="annot"><span class="annottext">forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b
</span><a href="#local-6989586621681035608"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN (Tele (Dom Type)))
-&gt; [NamesT (TCMT IO) (SubstArg (Tele (Dom Type)))]
-&gt; NamesT (TCMT IO) (Tele (Dom Type))
forall (m :: * -&gt; *) a.
(Monad m, Subst a) =&gt;
NamesT m (AbsN a) -&gt; [NamesT m (SubstArg a)] -&gt; NamesT m a
</span><a href="Agda.TypeChecking.Names.html#applyN"><span class="hs-identifier hs-var">applyN</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN (Tele (Dom Type)))
</span><a href="#local-6989586621681035864"><span class="hs-identifier hs-var">xTel</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; [NamesT (TCMT IO) Term] -&gt; [NamesT (TCMT IO) Term]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall {m :: * -&gt; *}.
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
NamesT m Term -&gt; NamesT m Term -&gt; NamesT m Term
</span><a href="#local-6989586621681035998"><span class="hs-identifier hs-var">max</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b
</span><a href="#local-6989586621681035608"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b
</span><a href="#local-6989586621681035609"><span class="hs-identifier hs-var">j</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035682"><span class="hs-identifier hs-var">delta</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1225"></span><span>                </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681035607"><span class="annot"><span class="annottext">theLeft :: NamesT (TCMT IO) [Term]
</span><a href="#local-6989586621681035607"><span class="hs-identifier hs-var hs-var">theLeft</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (Abs [Term]) -&gt; NamesT (TCMT IO) [Term]
forall (m :: * -&gt; *).
Monad m =&gt;
NamesT m (Abs [Term]) -&gt; NamesT m [Term]
</span><a href="Agda.TypeChecking.Names.html#lamTel"><span class="hs-identifier hs-var">lamTel</span></a></span><span> </span><span class="annot"><span class="annottext">(NamesT (TCMT IO) (Abs [Term]) -&gt; NamesT (TCMT IO) [Term])
-&gt; NamesT (TCMT IO) (Abs [Term]) -&gt; NamesT (TCMT IO) [Term]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ArgName
-&gt; ((forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b)
    -&gt; NamesT (TCMT IO) [Term])
-&gt; NamesT (TCMT IO) (Abs [Term])
forall (m :: * -&gt; *) a.
MonadFail m =&gt;
ArgName
-&gt; ((forall b. (Subst b, DeBruijn b) =&gt; NamesT m b) -&gt; NamesT m a)
-&gt; NamesT m (Abs a)
</span><a href="Agda.TypeChecking.Names.html#bind"><span class="hs-identifier hs-var">bind</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;i&quot;</span></span><span> </span><span class="annot"><span class="annottext">(((forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b)
  -&gt; NamesT (TCMT IO) [Term])
 -&gt; NamesT (TCMT IO) (Abs [Term]))
-&gt; ((forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b)
    -&gt; NamesT (TCMT IO) [Term])
-&gt; NamesT (TCMT IO) (Abs [Term])
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035606"><span class="annot"><span class="annottext">forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b
</span><a href="#local-6989586621681035606"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1226"></span><span>                      </span><span id="local-6989586621681035605"><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035605"><span class="hs-identifier hs-var">as01</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Arg Term -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) Term))
-&gt; [Arg Term] -&gt; NamesT (TCMT IO) [NamesT (TCMT IO) Term]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) Term)
forall (m :: * -&gt; *) a.
(MonadFail m, Subst a) =&gt;
a -&gt; NamesT m (NamesT m a)
</span><a href="Agda.TypeChecking.Names.html#open"><span class="hs-identifier hs-var">open</span></a></span><span> </span><span class="annot"><span class="annottext">(Term -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) Term))
-&gt; (Arg Term -&gt; Term)
-&gt; Arg Term
-&gt; NamesT (TCMT IO) (NamesT (TCMT IO) Term)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Arg Term -&gt; Term
forall e. Arg e -&gt; e
</span><a href="Agda.Syntax.Common.html#unArg"><span class="hs-identifier hs-var">unArg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([Arg Term] -&gt; NamesT (TCMT IO) [NamesT (TCMT IO) Term])
-&gt; NamesT (TCMT IO) [Arg Term]
-&gt; NamesT (TCMT IO) [NamesT (TCMT IO) Term]
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Abs [Arg Term] -&gt; Term -&gt; [Arg Term]
forall a. Subst a =&gt; Abs a -&gt; SubstArg a -&gt; a
</span><a href="Agda.TypeChecking.Substitute.Class.html#absApp"><span class="hs-identifier hs-var">absApp</span></a></span><span> </span><span class="annot"><span class="annottext">(Abs [Arg Term] -&gt; Term -&gt; [Arg Term])
-&gt; NamesT (TCMT IO) (Abs [Arg Term])
-&gt; NamesT (TCMT IO) (Term -&gt; [Arg Term])
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (Abs [Arg Term])
</span><a href="#local-6989586621681035659"><span class="hs-identifier hs-var">as01</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (Term -&gt; [Arg Term])
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) [Arg Term]
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b
</span><a href="#local-6989586621681035606"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1227"></span><span>                      </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN [Term])
</span><a href="#local-6989586621681035711"><span class="hs-identifier hs-var">con_ixs</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN [Term])
-&gt; [NamesT (TCMT IO) (SubstArg [Term])] -&gt; NamesT (TCMT IO) [Term]
forall (m :: * -&gt; *) a.
(Monad m, Subst a) =&gt;
NamesT m (AbsN a) -&gt; [NamesT m (SubstArg a)] -&gt; NamesT m a
</span><a href="Agda.TypeChecking.Names.html#applyN"><span class="hs-operator hs-var">`applyN`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; [NamesT (TCMT IO) Term] -&gt; [NamesT (TCMT IO) Term]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b
</span><a href="#local-6989586621681035606"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035682"><span class="hs-identifier hs-var">delta</span></a></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
-&gt; [NamesT (TCMT IO) Term] -&gt; [NamesT (TCMT IO) Term]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035605"><span class="hs-identifier hs-var">as01</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1228"></span><span>                </span><span id="local-6989586621681035604"><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035604"><span class="hs-identifier hs-var">theLeft</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Term -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) Term))
-&gt; [Term] -&gt; NamesT (TCMT IO) [NamesT (TCMT IO) Term]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">Term -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) Term)
forall (m :: * -&gt; *) a.
(MonadFail m, Subst a) =&gt;
a -&gt; NamesT m (NamesT m a)
</span><a href="Agda.TypeChecking.Names.html#open"><span class="hs-identifier hs-var">open</span></a></span><span> </span><span class="annot"><span class="annottext">([Term] -&gt; NamesT (TCMT IO) [NamesT (TCMT IO) Term])
-&gt; NamesT (TCMT IO) [Term]
-&gt; NamesT (TCMT IO) [NamesT (TCMT IO) Term]
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) [Term]
</span><a href="#local-6989586621681035607"><span class="hs-identifier hs-var">theLeft</span></a></span><span>
</span><span id="line-1229"></span><span>                </span><span id="local-6989586621681035603"><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035603"><span class="hs-identifier hs-var">theRight</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Term -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) Term))
-&gt; [Term] -&gt; NamesT (TCMT IO) [NamesT (TCMT IO) Term]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">Term -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) Term)
forall (m :: * -&gt; *) a.
(MonadFail m, Subst a) =&gt;
a -&gt; NamesT m (NamesT m a)
</span><a href="Agda.TypeChecking.Names.html#open"><span class="hs-identifier hs-var">open</span></a></span><span> </span><span class="annot"><span class="annottext">([Term] -&gt; NamesT (TCMT IO) [NamesT (TCMT IO) Term])
-&gt; NamesT (TCMT IO) [Term]
-&gt; NamesT (TCMT IO) [NamesT (TCMT IO) Term]
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(NamesT (TCMT IO) [Term]
 -&gt; NamesT (TCMT IO) [NamesT (TCMT IO) Term])
-&gt; NamesT (TCMT IO) [Term]
-&gt; NamesT (TCMT IO) [NamesT (TCMT IO) Term]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (Abs [Term]) -&gt; NamesT (TCMT IO) [Term]
forall (m :: * -&gt; *).
Monad m =&gt;
NamesT m (Abs [Term]) -&gt; NamesT m [Term]
</span><a href="Agda.TypeChecking.Names.html#lamTel"><span class="hs-identifier hs-var">lamTel</span></a></span><span> </span><span class="annot"><span class="annottext">(NamesT (TCMT IO) (Abs [Term]) -&gt; NamesT (TCMT IO) [Term])
-&gt; NamesT (TCMT IO) (Abs [Term]) -&gt; NamesT (TCMT IO) [Term]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ArgName
-&gt; ((forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b)
    -&gt; NamesT (TCMT IO) [Term])
-&gt; NamesT (TCMT IO) (Abs [Term])
forall (m :: * -&gt; *) a.
MonadFail m =&gt;
ArgName
-&gt; ((forall b. (Subst b, DeBruijn b) =&gt; NamesT m b) -&gt; NamesT m a)
-&gt; NamesT m (Abs a)
</span><a href="Agda.TypeChecking.Names.html#bind"><span class="hs-identifier hs-var">bind</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;i&quot;</span></span><span> </span><span class="annot"><span class="annottext">(((forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b)
  -&gt; NamesT (TCMT IO) [Term])
 -&gt; NamesT (TCMT IO) (Abs [Term]))
-&gt; ((forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b)
    -&gt; NamesT (TCMT IO) [Term])
-&gt; NamesT (TCMT IO) (Abs [Term])
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035602"><span class="annot"><span class="annottext">forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b
</span><a href="#local-6989586621681035602"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1230"></span><span>                  </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN [Term])
</span><a href="#local-6989586621681035711"><span class="hs-identifier hs-var">con_ixs</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN [Term])
-&gt; [NamesT (TCMT IO) (SubstArg [Term])] -&gt; NamesT (TCMT IO) [Term]
forall (m :: * -&gt; *) a.
(Monad m, Subst a) =&gt;
NamesT m (AbsN a) -&gt; [NamesT m (SubstArg a)] -&gt; NamesT m a
</span><a href="Agda.TypeChecking.Names.html#applyN"><span class="hs-operator hs-var">`applyN`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; [NamesT (TCMT IO) Term] -&gt; [NamesT (TCMT IO) Term]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; NamesT (TCMT IO) Term
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681036018"><span class="hs-identifier hs-var">io</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035682"><span class="hs-identifier hs-var">delta</span></a></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
-&gt; [NamesT (TCMT IO) Term] -&gt; [NamesT (TCMT IO) Term]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035660"><span class="hs-identifier hs-var">as1</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1231"></span><span>                </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681035601"><span class="annot"><span class="annottext">q2_f :: NamesT (TCMT IO) (Abs [Term])
</span><a href="#local-6989586621681035601"><span class="hs-identifier hs-var hs-var">q2_f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ArgName
-&gt; ((forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b)
    -&gt; NamesT (TCMT IO) [Term])
-&gt; NamesT (TCMT IO) (Abs [Term])
forall (m :: * -&gt; *) a.
MonadFail m =&gt;
ArgName
-&gt; ((forall b. (Subst b, DeBruijn b) =&gt; NamesT m b) -&gt; NamesT m a)
-&gt; NamesT m (Abs a)
</span><a href="Agda.TypeChecking.Names.html#bind"><span class="hs-identifier hs-var">bind</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;i&quot;</span></span><span> </span><span class="annot"><span class="annottext">(((forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b)
  -&gt; NamesT (TCMT IO) [Term])
 -&gt; NamesT (TCMT IO) (Abs [Term]))
-&gt; ((forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b)
    -&gt; NamesT (TCMT IO) [Term])
-&gt; NamesT (TCMT IO) (Abs [Term])
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035600"><span class="annot"><span class="annottext">forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b
</span><a href="#local-6989586621681035600"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Arg Term -&gt; Term) -&gt; [Arg Term] -&gt; [Term]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Arg Term -&gt; Term
forall e. Arg e -&gt; e
</span><a href="Agda.Syntax.Common.html#unArg"><span class="hs-identifier hs-var">unArg</span></a></span><span> </span><span class="annot"><span class="annottext">([Arg Term] -&gt; [Term])
-&gt; NamesT (TCMT IO) [Arg Term] -&gt; NamesT (TCMT IO) [Term]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (Abs (Abs (Tele (Dom Type))))
-&gt; [NamesT (TCMT IO) Term]
-&gt; [NamesT (TCMT IO) Term]
-&gt; NamesT (TCMT IO) Term
-&gt; [NamesT (TCMT IO) Term]
-&gt; NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) [Arg Term]
</span><a href="Agda.TypeChecking.Primitive.Cubical.html#trFillPathPTel%27"><span class="hs-identifier hs-var">trFillPathPTel'</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (Abs (Abs (Tele (Dom Type))))
</span><a href="#local-6989586621681035610"><span class="hs-identifier hs-var">theTel</span></a></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035683"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035603"><span class="hs-identifier hs-var">theRight</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035681"><span class="hs-identifier hs-var">phi</span></a></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035604"><span class="hs-identifier hs-var">theLeft</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b
</span><a href="#local-6989586621681035600"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-1232"></span><span>
</span><span id="line-1233"></span><span>                </span><span class="annot"><span class="annottext">ArgName
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *).
MonadFail m =&gt;
ArgName -&gt; (NamesT m Term -&gt; NamesT m Term) -&gt; NamesT m Term
</span><a href="Agda.TypeChecking.Names.html#lam"><span class="hs-identifier hs-var">lam</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;i&quot;</span></span><span> </span><span class="annot"><span class="annottext">((NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
 -&gt; NamesT (TCMT IO) Term)
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; NamesT (TCMT IO) Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035598"><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035598"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1234"></span><span>                </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681035597"><span class="annot"><span class="annottext">v0 :: NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035597"><span class="hs-identifier hs-var hs-var">v0</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1235"></span><span>                     </span><span id="local-6989586621681035596"><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035596"><span class="hs-identifier hs-var">as01</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Arg Term -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) Term))
-&gt; [Arg Term] -&gt; NamesT (TCMT IO) [NamesT (TCMT IO) Term]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) Term)
forall (m :: * -&gt; *) a.
(MonadFail m, Subst a) =&gt;
a -&gt; NamesT m (NamesT m a)
</span><a href="Agda.TypeChecking.Names.html#open"><span class="hs-identifier hs-var">open</span></a></span><span> </span><span class="annot"><span class="annottext">(Term -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) Term))
-&gt; (Arg Term -&gt; Term)
-&gt; Arg Term
-&gt; NamesT (TCMT IO) (NamesT (TCMT IO) Term)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Arg Term -&gt; Term
forall e. Arg e -&gt; e
</span><a href="Agda.Syntax.Common.html#unArg"><span class="hs-identifier hs-var">unArg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([Arg Term] -&gt; NamesT (TCMT IO) [NamesT (TCMT IO) Term])
-&gt; NamesT (TCMT IO) [Arg Term]
-&gt; NamesT (TCMT IO) [NamesT (TCMT IO) Term]
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Abs [Arg Term] -&gt; Term -&gt; [Arg Term]
forall a. Subst a =&gt; Abs a -&gt; SubstArg a -&gt; a
</span><a href="Agda.TypeChecking.Substitute.Class.html#absApp"><span class="hs-identifier hs-var">absApp</span></a></span><span> </span><span class="annot"><span class="annottext">(Abs [Arg Term] -&gt; Term -&gt; [Arg Term])
-&gt; NamesT (TCMT IO) (Abs [Arg Term])
-&gt; NamesT (TCMT IO) (Term -&gt; [Arg Term])
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (Abs [Arg Term])
</span><a href="#local-6989586621681035659"><span class="hs-identifier hs-var">as01</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (Term -&gt; [Arg Term])
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) [Arg Term]
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035598"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1236"></span><span>                     </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN Term)
-&gt; [NamesT (TCMT IO) (SubstArg Term)] -&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *) a.
(Monad m, Subst a) =&gt;
NamesT m (AbsN a) -&gt; [NamesT m (SubstArg a)] -&gt; NamesT m a
</span><a href="Agda.TypeChecking.Names.html#applyN"><span class="hs-identifier hs-var">applyN</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN Term)
</span><a href="#local-6989586621681035706"><span class="hs-identifier hs-var">bsys</span></a></span><span> </span><span class="annot"><span class="annottext">([NamesT (TCMT IO) (SubstArg Term)] -&gt; NamesT (TCMT IO) Term)
-&gt; [NamesT (TCMT IO) (SubstArg Term)] -&gt; NamesT (TCMT IO) Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; [NamesT (TCMT IO) Term] -&gt; [NamesT (TCMT IO) Term]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035598"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035682"><span class="hs-identifier hs-var">delta</span></a></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
-&gt; [NamesT (TCMT IO) Term] -&gt; [NamesT (TCMT IO) Term]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035596"><span class="hs-identifier hs-var">as01</span></a></span><span>
</span><span id="line-1237"></span><span>                </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681035595"><span class="annot"><span class="annottext">squeezedv0 :: NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035595"><span class="hs-identifier hs-var hs-var">squeezedv0</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ArgName
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *).
MonadFail m =&gt;
ArgName -&gt; (NamesT m Term -&gt; NamesT m Term) -&gt; NamesT m Term
</span><a href="Agda.TypeChecking.Names.html#ilam"><span class="hs-identifier hs-var">ilam</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;o&quot;</span></span><span> </span><span class="annot"><span class="annottext">((NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
 -&gt; NamesT (TCMT IO) Term)
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; NamesT (TCMT IO) Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035594"><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035594"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1238"></span><span>                      </span><span class="hs-keyword">let</span><span>
</span><span id="line-1239"></span><span>                        </span><span class="annot"><a href="#local-6989586621681035593"><span class="hs-identifier hs-type">delta_f</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Agda.TypeChecking.Names.html#NamesT"><span class="hs-identifier hs-type">NamesT</span></a></span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#TCM"><span class="hs-identifier hs-type">TCM</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1240"></span><span>                        </span><span id="local-6989586621681035593"><span class="annot"><span class="annottext">delta_f :: [NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035593"><span class="hs-identifier hs-var hs-var">delta_f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
 -&gt; [NamesT (TCMT IO) Term] -&gt; [NamesT (TCMT IO) Term])
-&gt; [NamesT (TCMT IO) Term]
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; [NamesT (TCMT IO) Term]
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">(NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; [NamesT (TCMT IO) Term] -&gt; [NamesT (TCMT IO) Term]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035682"><span class="hs-identifier hs-var">delta</span></a></span><span> </span><span class="annot"><span class="annottext">((NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
 -&gt; [NamesT (TCMT IO) Term])
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; [NamesT (TCMT IO) Term]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035592"><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035592"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ArgName
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *).
MonadFail m =&gt;
ArgName -&gt; (NamesT m Term -&gt; NamesT m Term) -&gt; NamesT m Term
</span><a href="Agda.TypeChecking.Names.html#lam"><span class="hs-identifier hs-var">lam</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;j&quot;</span></span><span> </span><span class="annot"><span class="annottext">((NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
 -&gt; NamesT (TCMT IO) Term)
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; NamesT (TCMT IO) Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035591"><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035591"><span class="hs-identifier hs-var">j</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035592"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035591"><span class="hs-identifier hs-var">j</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall {m :: * -&gt; *}.
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
NamesT m Term -&gt; NamesT m Term -&gt; NamesT m Term
</span><a href="#local-6989586621681035998"><span class="hs-operator hs-var">`max`</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035598"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1241"></span><span>                      </span><span id="local-6989586621681035590"><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035590"><span class="hs-identifier hs-var">x_f</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Term -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) Term))
-&gt; [Term] -&gt; NamesT (TCMT IO) [NamesT (TCMT IO) Term]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">Term -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) Term)
forall (m :: * -&gt; *) a.
(MonadFail m, Subst a) =&gt;
a -&gt; NamesT m (NamesT m a)
</span><a href="Agda.TypeChecking.Names.html#open"><span class="hs-identifier hs-var">open</span></a></span><span> </span><span class="annot"><span class="annottext">([Term] -&gt; NamesT (TCMT IO) [NamesT (TCMT IO) Term])
-&gt; NamesT (TCMT IO) [Term]
-&gt; NamesT (TCMT IO) [NamesT (TCMT IO) Term]
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(NamesT (TCMT IO) [Term]
 -&gt; NamesT (TCMT IO) [NamesT (TCMT IO) Term])
-&gt; NamesT (TCMT IO) [Term]
-&gt; NamesT (TCMT IO) [NamesT (TCMT IO) Term]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (Abs [Term]) -&gt; NamesT (TCMT IO) [Term]
forall (m :: * -&gt; *).
Monad m =&gt;
NamesT m (Abs [Term]) -&gt; NamesT m [Term]
</span><a href="Agda.TypeChecking.Names.html#lamTel"><span class="hs-identifier hs-var">lamTel</span></a></span><span> </span><span class="annot"><span class="annottext">(NamesT (TCMT IO) (Abs [Term]) -&gt; NamesT (TCMT IO) [Term])
-&gt; NamesT (TCMT IO) (Abs [Term]) -&gt; NamesT (TCMT IO) [Term]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ArgName
-&gt; ((forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b)
    -&gt; NamesT (TCMT IO) [Term])
-&gt; NamesT (TCMT IO) (Abs [Term])
forall (m :: * -&gt; *) a.
MonadFail m =&gt;
ArgName
-&gt; ((forall b. (Subst b, DeBruijn b) =&gt; NamesT m b) -&gt; NamesT m a)
-&gt; NamesT m (Abs a)
</span><a href="Agda.TypeChecking.Names.html#bind"><span class="hs-identifier hs-var">bind</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;j&quot;</span></span><span> </span><span class="annot"><span class="annottext">(((forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b)
  -&gt; NamesT (TCMT IO) [Term])
 -&gt; NamesT (TCMT IO) (Abs [Term]))
-&gt; ((forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b)
    -&gt; NamesT (TCMT IO) [Term])
-&gt; NamesT (TCMT IO) (Abs [Term])
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035589"><span class="annot"><span class="annottext">forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b
</span><a href="#local-6989586621681035589"><span class="hs-identifier hs-var">j</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1242"></span><span>                                 </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Abs [Term] -&gt; Term -&gt; [Term]
forall a. Subst a =&gt; Abs a -&gt; SubstArg a -&gt; a
</span><a href="Agda.TypeChecking.Substitute.Class.html#absApp"><span class="hs-identifier hs-var">absApp</span></a></span><span> </span><span class="annot"><span class="annottext">(Abs [Term] -&gt; Term -&gt; [Term])
-&gt; NamesT (TCMT IO) (Abs [Term])
-&gt; NamesT (TCMT IO) (Term -&gt; [Term])
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (Abs [Term])
</span><a href="#local-6989586621681035601"><span class="hs-identifier hs-var">q2_f</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (Term -&gt; [Term])
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) [Term]
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b
</span><a href="#local-6989586621681035589"><span class="hs-identifier hs-var">j</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) [Term]
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) [Term]
forall (m :: * -&gt; *).
Monad m =&gt;
NamesT m [Term] -&gt; NamesT m Term -&gt; NamesT m [Term]
</span><a href="Agda.TypeChecking.Names.html#appTel"><span class="hs-operator hs-var">`appTel`</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035598"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-1243"></span><span>                      </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN (AbsN (AbsN Term)))
</span><a href="#local-6989586621681035871"><span class="hs-identifier hs-var">trD</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN (AbsN (AbsN Term)))
-&gt; [NamesT (TCMT IO) (SubstArg (AbsN (AbsN Term)))]
-&gt; NamesT (TCMT IO) (AbsN (AbsN Term))
forall (m :: * -&gt; *) a.
(Monad m, Subst a) =&gt;
NamesT m (AbsN a) -&gt; [NamesT m (SubstArg a)] -&gt; NamesT m a
</span><a href="Agda.TypeChecking.Names.html#applyN"><span class="hs-operator hs-var">`applyN`</span></a></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
[NamesT (TCMT IO) (SubstArg (AbsN (AbsN Term)))]
</span><a href="#local-6989586621681035593"><span class="hs-identifier hs-var">delta_f</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN (AbsN Term))
-&gt; [NamesT (TCMT IO) (SubstArg (AbsN Term))]
-&gt; NamesT (TCMT IO) (AbsN Term)
forall (m :: * -&gt; *) a.
(Monad m, Subst a) =&gt;
NamesT m (AbsN a) -&gt; [NamesT m (SubstArg a)] -&gt; NamesT m a
</span><a href="Agda.TypeChecking.Names.html#applyN"><span class="hs-operator hs-var">`applyN`</span></a></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
[NamesT (TCMT IO) (SubstArg (AbsN Term))]
</span><a href="#local-6989586621681035590"><span class="hs-identifier hs-var">x_f</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (AbsN Term)
-&gt; [NamesT (TCMT IO) (SubstArg Term)] -&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *) a.
(Monad m, Subst a) =&gt;
NamesT m (AbsN a) -&gt; [NamesT m (SubstArg a)] -&gt; NamesT m a
</span><a href="Agda.TypeChecking.Names.html#applyN"><span class="hs-operator hs-var">`applyN`</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035681"><span class="hs-identifier hs-var">phi</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall {m :: * -&gt; *}.
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
NamesT m Term -&gt; NamesT m Term -&gt; NamesT m Term
</span><a href="#local-6989586621681035998"><span class="hs-operator hs-var">`max`</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035598"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035597"><span class="hs-identifier hs-var">v0</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C..%3E"><span class="hs-operator hs-var">&lt;..&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035594"><span class="hs-identifier hs-var">o</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1244"></span><span>
</span><span id="line-1245"></span><span>                </span><span class="annot"><span class="annottext">Maybe QName
-&gt; NamesT (TCMT IO) Term
-&gt; (QName -&gt; NamesT (TCMT IO) Term)
-&gt; NamesT (TCMT IO) Term
forall a b. Maybe a -&gt; b -&gt; (a -&gt; b) -&gt; b
</span><a href="Agda.Utils.Maybe.html#caseMaybe"><span class="hs-identifier hs-var">caseMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe QName
</span><a href="#local-6989586621681036027"><span class="hs-identifier hs-var">mtrX</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035595"><span class="hs-identifier hs-var">squeezedv0</span></a></span><span> </span><span class="annot"><span class="annottext">((QName -&gt; NamesT (TCMT IO) Term) -&gt; NamesT (TCMT IO) Term)
-&gt; (QName -&gt; NamesT (TCMT IO) Term) -&gt; NamesT (TCMT IO) Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035587"><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681035587"><span class="hs-identifier hs-var">trX</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ArgName
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *).
MonadFail m =&gt;
ArgName -&gt; (NamesT m Term -&gt; NamesT m Term) -&gt; NamesT m Term
</span><a href="Agda.TypeChecking.Names.html#ilam"><span class="hs-identifier hs-var">ilam</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;o&quot;</span></span><span> </span><span class="annot"><span class="annottext">((NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
 -&gt; NamesT (TCMT IO) Term)
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; NamesT (TCMT IO) Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035586"><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035586"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1246"></span><span>                  </span><span id="local-6989586621681035585"><span class="annot"><span class="annottext">[Arg Term]
</span><a href="#local-6989586621681035585"><span class="hs-identifier hs-var">q2</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (Abs (Abs (Tele (Dom Type))))
-&gt; [NamesT (TCMT IO) Term]
-&gt; [NamesT (TCMT IO) Term]
-&gt; NamesT (TCMT IO) Term
-&gt; [NamesT (TCMT IO) Term]
-&gt; NamesT (TCMT IO) [Arg Term]
</span><a href="Agda.TypeChecking.Primitive.Cubical.html#transpPathPTel%27"><span class="hs-identifier hs-var">transpPathPTel'</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (Abs (Abs (Tele (Dom Type))))
</span><a href="#local-6989586621681035610"><span class="hs-identifier hs-var">theTel</span></a></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035683"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035603"><span class="hs-identifier hs-var">theRight</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035681"><span class="hs-identifier hs-var">phi</span></a></span><span> </span><span class="annot"><span class="annottext">[NamesT (TCMT IO) Term]
</span><a href="#local-6989586621681035604"><span class="hs-identifier hs-var">theLeft</span></a></span><span>
</span><span id="line-1247"></span><span>                  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681035584"><span class="annot"><span class="annottext">args :: NamesT (TCMT IO) [Arg Term]
</span><a href="#local-6989586621681035584"><span class="hs-identifier hs-var hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([Arg Term] -&gt; [Arg Term] -&gt; [Arg Term])
-&gt; NamesT (TCMT IO) [Arg Term]
-&gt; NamesT (TCMT IO) [Arg Term]
-&gt; NamesT (TCMT IO) [Arg Term]
forall (m :: * -&gt; *) a1 a2 r.
Monad m =&gt;
(a1 -&gt; a2 -&gt; r) -&gt; m a1 -&gt; m a2 -&gt; m r
</span><span class="hs-identifier hs-var">liftM2</span></span><span> </span><span class="annot"><span class="annottext">[Arg Term] -&gt; [Arg Term] -&gt; [Arg Term]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">(++)</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Arg Term -&gt; Arg Term) -&gt; [Arg Term] -&gt; [Arg Term]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Hiding -&gt; Arg Term -&gt; Arg Term
forall a. LensHiding a =&gt; Hiding -&gt; a -&gt; a
</span><a href="Agda.Syntax.Common.html#setHiding"><span class="hs-identifier hs-var">setHiding</span></a></span><span> </span><span class="annot"><span class="annottext">Hiding
</span><a href="Agda.Syntax.Common.html#Hidden"><span class="hs-identifier hs-var">Hidden</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([Arg Term] -&gt; [Arg Term])
-&gt; NamesT (TCMT IO) [Arg Term] -&gt; NamesT (TCMT IO) [Arg Term]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) [Arg Term]
</span><a href="#local-6989586621681035677"><span class="hs-identifier hs-var">deltaArg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term -&gt; NamesT (TCMT IO) Term
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681036018"><span class="hs-identifier hs-var">io</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1248"></span><span>                                         </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Arg Term]
-&gt; (Arg Term -&gt; NamesT (TCMT IO) (Arg Term))
-&gt; NamesT (TCMT IO) [Arg Term]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
t a -&gt; (a -&gt; m b) -&gt; m (t b)
</span><span class="hs-identifier hs-var">forM</span></span><span> </span><span class="annot"><span class="annottext">[Arg Term]
</span><a href="#local-6989586621681035585"><span class="hs-identifier hs-var">q2</span></a></span><span> </span><span class="annot"><span class="annottext">((Arg Term -&gt; NamesT (TCMT IO) (Arg Term))
 -&gt; NamesT (TCMT IO) [Arg Term])
-&gt; (Arg Term -&gt; NamesT (TCMT IO) (Arg Term))
-&gt; NamesT (TCMT IO) [Arg Term]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035583"><span class="annot"><span class="annottext">Arg Term
</span><a href="#local-6989586621681035583"><span class="hs-identifier hs-var">q'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1249"></span><span>                                            </span><span id="local-6989586621681035582"><span class="annot"><span class="annottext">NamesT (TCMT IO) (Arg Term)
</span><a href="#local-6989586621681035582"><span class="hs-identifier hs-var">q'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Arg Term -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) (Arg Term))
forall (m :: * -&gt; *) a.
(MonadFail m, Subst a) =&gt;
a -&gt; NamesT m (NamesT m a)
</span><a href="Agda.TypeChecking.Names.html#open"><span class="hs-identifier hs-var">open</span></a></span><span> </span><span class="annot"><span class="annottext">Arg Term
</span><a href="#local-6989586621681035583"><span class="hs-identifier hs-var">q'</span></a></span><span>
</span><span id="line-1250"></span><span>                                            </span><span class="annot"><span class="annottext">ArgName
-&gt; ((forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b)
    -&gt; NamesT (TCMT IO) (Arg Term))
-&gt; NamesT (TCMT IO) (Arg Term)
forall (m :: * -&gt; *).
MonadFail m =&gt;
ArgName -&gt; (Var m -&gt; NamesT m (Arg Term)) -&gt; NamesT m (Arg Term)
</span><a href="#local-6989586621681035644"><span class="hs-identifier hs-var">argLam</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;j&quot;</span></span><span> </span><span class="annot"><span class="annottext">(((forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b)
  -&gt; NamesT (TCMT IO) (Arg Term))
 -&gt; NamesT (TCMT IO) (Arg Term))
-&gt; ((forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b)
    -&gt; NamesT (TCMT IO) (Arg Term))
-&gt; NamesT (TCMT IO) (Arg Term)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035581"><span class="annot"><span class="annottext">forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b
</span><a href="#local-6989586621681035581"><span class="hs-identifier hs-var">j</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (Arg Term)
</span><a href="#local-6989586621681035582"><span class="hs-identifier hs-var">q'</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (Arg Term)
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) (Arg Term)
forall {m :: * -&gt; *} {b} {f :: * -&gt; *}.
(Monad m, Apply b, Functor f) =&gt;
m (f b) -&gt; m Term -&gt; m (f b)
</span><a href="#local-6989586621681035649"><span class="hs-operator hs-var">`argApp`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall {m :: * -&gt; *}.
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
NamesT m Term -&gt; NamesT m Term
</span><a href="#local-6989586621681035963"><span class="hs-identifier hs-var">neg</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
forall b. (Subst b, DeBruijn b) =&gt; NamesT (TCMT IO) b
</span><a href="#local-6989586621681035581"><span class="hs-identifier hs-var">j</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall {m :: * -&gt; *}.
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
NamesT m Term -&gt; NamesT m Term -&gt; NamesT m Term
</span><a href="#local-6989586621681035980"><span class="hs-operator hs-var">`min`</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035598"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1251"></span><span>
</span><span id="line-1252"></span><span>                  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term -&gt; [Arg Term] -&gt; Term
forall t. Apply t =&gt; t -&gt; [Arg Term] -&gt; t
</span><a href="Agda.TypeChecking.Substitute.Class.html#apply"><span class="hs-identifier hs-var">apply</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">QName -&gt; [Elim' Term] -&gt; Term
</span><a href="Agda.Syntax.Internal.html#Def"><span class="hs-identifier hs-var">Def</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681035587"><span class="hs-identifier hs-var">trX</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([Arg Term] -&gt; Term)
-&gt; NamesT (TCMT IO) [Arg Term] -&gt; NamesT (TCMT IO) Term
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) [Arg Term]
</span><a href="#local-6989586621681035584"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall {m :: * -&gt; *}.
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
NamesT m Term -&gt; NamesT m Term
</span><a href="#local-6989586621681035963"><span class="hs-identifier hs-var">neg</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035598"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall {m :: * -&gt; *}.
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
NamesT m Term -&gt; NamesT m Term -&gt; NamesT m Term
</span><a href="#local-6989586621681035998"><span class="hs-operator hs-var">`max`</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035681"><span class="hs-identifier hs-var">phi</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035595"><span class="hs-identifier hs-var">squeezedv0</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C..%3E"><span class="hs-operator hs-var">&lt;..&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035586"><span class="hs-identifier hs-var">o</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1253"></span><span>          </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Type
-&gt; [(NamesT (TCMT IO) Term, NamesT (TCMT IO) Term)]
-&gt; NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035961"><span class="hs-identifier hs-var">hcomp</span></a></span><span>
</span><span id="line-1254"></span><span>             </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Type
</span><a href="#local-6989586621681035669"><span class="hs-identifier hs-var">rhsTy</span></a></span><span>
</span><span id="line-1255"></span><span>             </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035612"><span class="hs-identifier hs-var">blineFace</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">ArgName
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *).
MonadFail m =&gt;
ArgName -&gt; (NamesT m Term -&gt; NamesT m Term) -&gt; NamesT m Term
</span><a href="Agda.TypeChecking.Names.html#lam"><span class="hs-identifier hs-var">lam</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;i&quot;</span></span><span> </span><span class="annot"><span class="annottext">((NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
 -&gt; NamesT (TCMT IO) Term)
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; NamesT (TCMT IO) Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035580"><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035580"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035611"><span class="hs-identifier hs-var">bline</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term
forall {m :: * -&gt; *}.
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
NamesT m Term -&gt; NamesT m Term
</span><a href="#local-6989586621681035963"><span class="hs-identifier hs-var">neg</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035580"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1256"></span><span>             </span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035681"><span class="hs-identifier hs-var">phi</span></a></span><span>      </span><span class="hs-special">,</span><span class="annot"><span class="annottext">ArgName
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *).
MonadFail m =&gt;
ArgName -&gt; (NamesT m Term -&gt; NamesT m Term) -&gt; NamesT m Term
</span><a href="Agda.TypeChecking.Names.html#lam"><span class="hs-identifier hs-var">lam</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;i&quot;</span></span><span> </span><span class="annot"><span class="annottext">((NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
 -&gt; NamesT (TCMT IO) Term)
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; NamesT (TCMT IO) Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ArgName
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; NamesT (TCMT IO) Term
forall (m :: * -&gt; *).
MonadFail m =&gt;
ArgName -&gt; (NamesT m Term -&gt; NamesT m Term) -&gt; NamesT m Term
</span><a href="Agda.TypeChecking.Names.html#ilam"><span class="hs-identifier hs-var">ilam</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;o&quot;</span></span><span> </span><span class="annot"><span class="annottext">((NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
 -&gt; NamesT (TCMT IO) Term)
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Term)
-&gt; NamesT (TCMT IO) Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035671"><span class="hs-identifier hs-var">orig</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1257"></span><span>             </span><span class="hs-special">]</span><span>
</span><span id="line-1258"></span><span>             </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035630"><span class="hs-identifier hs-var">base</span></a></span><span>
</span><span id="line-1259"></span><span>
</span><span id="line-1260"></span><span>        </span><span class="hs-keyword">let</span><span>
</span><span id="line-1261"></span><span>          </span><span class="hs-special">(</span><span id="local-6989586621681035579"><span class="annot"><span class="annottext">[Arg (Named_ (Pattern' DBPatVar))]
</span><a href="#local-6989586621681035579"><span class="hs-identifier hs-var">ps</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681035578"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035578"><span class="hs-identifier hs-var">rhsTy</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681035577"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035577"><span class="hs-identifier hs-var">rhs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)
-&gt; ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)
forall a. AbsN a -&gt; a
</span><a href="Agda.TypeChecking.Names.html#unAbsN"><span class="hs-identifier hs-var">unAbsN</span></a></span><span> </span><span class="annot"><span class="annottext">(AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)
 -&gt; ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))
-&gt; AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)
-&gt; ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))
-&gt; AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)
forall a. AbsN a -&gt; a
</span><a href="Agda.TypeChecking.Names.html#unAbsN"><span class="hs-identifier hs-var">unAbsN</span></a></span><span> </span><span class="annot"><span class="annottext">(AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))
 -&gt; AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))
-&gt; AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))
-&gt; AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">AbsN (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)))
-&gt; AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))
forall a. AbsN a -&gt; a
</span><a href="Agda.TypeChecking.Names.html#unAbsN"><span class="hs-identifier hs-var">unAbsN</span></a></span><span> </span><span class="annot"><span class="annottext">(AbsN
   (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)))
 -&gt; AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)))
-&gt; AbsN
     (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)))
-&gt; AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">AbsN
  (AbsN
     (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))))
-&gt; AbsN
     (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)))
forall a. AbsN a -&gt; a
</span><a href="Agda.TypeChecking.Names.html#unAbsN"><span class="hs-identifier hs-var">unAbsN</span></a></span><span> </span><span class="annot"><span class="annottext">(AbsN
   (AbsN
      (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))))
 -&gt; AbsN
      (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))))
-&gt; AbsN
     (AbsN
        (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))))
-&gt; AbsN
     (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">AbsN
  (AbsN
     (AbsN (AbsN ([Arg (Named_ (Pattern' DBPatVar))], Type, Term))))
</span><a href="#local-6989586621681035714"><span class="hs-identifier hs-var">res</span></a></span><span>
</span><span id="line-1262"></span><span>        </span><span class="annot"><span class="annottext">Tele (Dom Type)
-&gt; [Arg (Named_ (Pattern' DBPatVar))]
-&gt; Type
-&gt; Term
-&gt; TCMT IO Clause
forall {m :: * -&gt; *}.
MonadDebug m =&gt;
Tele (Dom Type)
-&gt; [Arg (Named_ (Pattern' DBPatVar))] -&gt; Type -&gt; Term -&gt; m Clause
</span><a href="#local-6989586621681035807"><span class="hs-identifier hs-var">mkClause</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035720"><span class="hs-identifier hs-var">gamma</span></a></span><span> </span><span class="annot"><span class="annottext">[Arg (Named_ (Pattern' DBPatVar))]
</span><a href="#local-6989586621681035579"><span class="hs-identifier hs-var">ps</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035578"><span class="hs-identifier hs-var">rhsTy</span></a></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035577"><span class="hs-identifier hs-var">rhs</span></a></span><span>
</span><span id="line-1263"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1264"></span><span>    </span><span id="local-6989586621681035807"><span class="annot"><span class="annottext">mkClause :: Tele (Dom Type)
-&gt; [Arg (Named_ (Pattern' DBPatVar))] -&gt; Type -&gt; Term -&gt; m Clause
</span><a href="#local-6989586621681035807"><span class="hs-identifier hs-var hs-var">mkClause</span></a></span></span><span> </span><span id="local-6989586621681035520"><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035520"><span class="hs-identifier hs-var">gamma</span></a></span></span><span> </span><span id="local-6989586621681035519"><span class="annot"><span class="annottext">[Arg (Named_ (Pattern' DBPatVar))]
</span><a href="#local-6989586621681035519"><span class="hs-identifier hs-var">ps</span></a></span></span><span> </span><span id="local-6989586621681035518"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035518"><span class="hs-identifier hs-var">rhsTy</span></a></span></span><span> </span><span id="local-6989586621681035517"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035517"><span class="hs-identifier hs-var">rhs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1265"></span><span>      </span><span class="hs-keyword">let</span><span>
</span><span id="line-1266"></span><span>        </span><span id="local-6989586621681035516"><span class="annot"><span class="annottext">c :: Clause
</span><a href="#local-6989586621681035516"><span class="hs-identifier hs-var hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Clause"><span class="hs-identifier hs-type">Clause</span></a></span><span>
</span><span id="line-1267"></span><span>            </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">clauseTel :: Tele (Dom Type)
</span><a href="Agda.Syntax.Internal.html#clauseTel"><span class="hs-identifier hs-var">clauseTel</span></a></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035520"><span class="hs-identifier hs-var">gamma</span></a></span><span>
</span><span id="line-1268"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">clauseType :: Maybe (Arg Type)
</span><a href="Agda.Syntax.Internal.html#clauseType"><span class="hs-identifier hs-var">clauseType</span></a></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Arg Type -&gt; Maybe (Arg Type)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(Arg Type -&gt; Maybe (Arg Type))
-&gt; (Type -&gt; Arg Type) -&gt; Type -&gt; Maybe (Arg Type)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Type -&gt; Arg Type
forall e. e -&gt; Arg e
</span><a href="Agda.TypeChecking.Primitive.Base.html#argN"><span class="hs-identifier hs-var">argN</span></a></span><span> </span><span class="annot"><span class="annottext">(Type -&gt; Maybe (Arg Type)) -&gt; Type -&gt; Maybe (Arg Type)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035518"><span class="hs-identifier hs-var">rhsTy</span></a></span><span>
</span><span id="line-1269"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">namedClausePats :: [Arg (Named_ (Pattern' DBPatVar))]
</span><a href="Agda.Syntax.Internal.html#namedClausePats"><span class="hs-identifier hs-var">namedClausePats</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Arg (Named_ (Pattern' DBPatVar))]
</span><a href="#local-6989586621681035519"><span class="hs-identifier hs-var">ps</span></a></span><span>
</span><span id="line-1270"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">clauseFullRange :: Range
</span><a href="Agda.Syntax.Internal.html#clauseFullRange"><span class="hs-identifier hs-var">clauseFullRange</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Range
forall a. Range' a
</span><a href="Agda.Syntax.Position.html#noRange"><span class="hs-identifier hs-var">noRange</span></a></span><span>
</span><span id="line-1271"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">clauseLHSRange :: Range
</span><a href="Agda.Syntax.Internal.html#clauseLHSRange"><span class="hs-identifier hs-var">clauseLHSRange</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Range
forall a. Range' a
</span><a href="Agda.Syntax.Position.html#noRange"><span class="hs-identifier hs-var">noRange</span></a></span><span>
</span><span id="line-1272"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">clauseCatchall :: Bool
</span><a href="Agda.Syntax.Internal.html#clauseCatchall"><span class="hs-identifier hs-var">clauseCatchall</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-1273"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">clauseBody :: Maybe Term
</span><a href="Agda.Syntax.Internal.html#clauseBody"><span class="hs-identifier hs-var">clauseBody</span></a></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term -&gt; Maybe Term
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(Term -&gt; Maybe Term) -&gt; Term -&gt; Maybe Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035517"><span class="hs-identifier hs-var">rhs</span></a></span><span>
</span><span id="line-1274"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">clauseRecursive :: Maybe Bool
</span><a href="Agda.Syntax.Internal.html#clauseRecursive"><span class="hs-identifier hs-var">clauseRecursive</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Bool
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-1275"></span><span>            </span><span class="hs-comment">-- it is indirectly recursive through transp, does it count?</span><span>
</span><span id="line-1276"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">clauseUnreachable :: Maybe Bool
</span><a href="Agda.Syntax.Internal.html#clauseUnreachable"><span class="hs-identifier hs-var">clauseUnreachable</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Maybe Bool
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-1277"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">clauseEllipsis :: ExpandedEllipsis
</span><a href="Agda.Syntax.Internal.html#clauseEllipsis"><span class="hs-identifier hs-var">clauseEllipsis</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ExpandedEllipsis
</span><a href="Agda.Syntax.Common.html#NoEllipsis"><span class="hs-identifier hs-var">NoEllipsis</span></a></span><span>
</span><span id="line-1278"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">clauseExact :: Maybe Bool
</span><a href="Agda.Syntax.Internal.html#clauseExact"><span class="hs-identifier hs-var">clauseExact</span></a></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Bool
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-1279"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">clauseWhereModule :: Maybe ModuleName
</span><a href="Agda.Syntax.Internal.html#clauseWhereModule"><span class="hs-identifier hs-var">clauseWhereModule</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe ModuleName
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-1280"></span><span>            </span><span class="hs-special">}</span><span>
</span><span id="line-1281"></span><span>      </span><span class="annot"><span class="annottext">ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; m ()
forall (m :: * -&gt; *).
MonadDebug m =&gt;
ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; m ()
</span><a href="Agda.TypeChecking.Monad.Debug.html#reportSDoc"><span class="hs-identifier hs-var">reportSDoc</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;tc.data.transp.con&quot;</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">20</span></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Doc -&gt; m ()) -&gt; TCMT IO Doc -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1282"></span><span>        </span><span class="annot"><span class="annottext">TCMT IO Doc
</span><span class="hs-string">&quot;gamma:&quot;</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; m Doc -&gt; m Doc -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; TCMT IO Doc
forall a (m :: * -&gt; *). (PrettyTCM a, MonadPretty m) =&gt; a -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#prettyTCM"><span class="hs-identifier hs-var">prettyTCM</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035520"><span class="hs-identifier hs-var">gamma</span></a></span><span>
</span><span id="line-1283"></span><span>      </span><span class="annot"><span class="annottext">ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; m ()
forall (m :: * -&gt; *).
MonadDebug m =&gt;
ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; m ()
</span><a href="Agda.TypeChecking.Monad.Debug.html#reportSDoc"><span class="hs-identifier hs-var">reportSDoc</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;tc.data.transp.con&quot;</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">20</span></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Doc -&gt; m ()) -&gt; TCMT IO Doc -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall b (m :: * -&gt; *) a.
(AddContext b, MonadAddContext m) =&gt;
b -&gt; m a -&gt; m a
</span><a href="Agda.TypeChecking.Monad.Context.html#addContext"><span class="hs-identifier hs-var">addContext</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035520"><span class="hs-identifier hs-var">gamma</span></a></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Doc -&gt; TCMT IO Doc) -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1284"></span><span>        </span><span class="annot"><span class="annottext">TCMT IO Doc
</span><span class="hs-string">&quot;ps   :&quot;</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; m Doc -&gt; m Doc -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[Elim' Term] -&gt; TCMT IO Doc
forall a (m :: * -&gt; *). (PrettyTCM a, MonadPretty m) =&gt; a -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#prettyTCM"><span class="hs-identifier hs-var">prettyTCM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Arg (Named_ (Pattern' DBPatVar))] -&gt; [Elim' Term]
</span><a href="Agda.Syntax.Internal.Pattern.html#patternsToElims"><span class="hs-identifier hs-var">patternsToElims</span></a></span><span> </span><span class="annot"><span class="annottext">[Arg (Named_ (Pattern' DBPatVar))]
</span><a href="#local-6989586621681035519"><span class="hs-identifier hs-var">ps</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1285"></span><span>      </span><span class="annot"><span class="annottext">ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; m ()
forall (m :: * -&gt; *).
MonadDebug m =&gt;
ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; m ()
</span><a href="Agda.TypeChecking.Monad.Debug.html#reportSDoc"><span class="hs-identifier hs-var">reportSDoc</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;tc.data.transp.con&quot;</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">20</span></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Doc -&gt; m ()) -&gt; TCMT IO Doc -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall b (m :: * -&gt; *) a.
(AddContext b, MonadAddContext m) =&gt;
b -&gt; m a -&gt; m a
</span><a href="Agda.TypeChecking.Monad.Context.html#addContext"><span class="hs-identifier hs-var">addContext</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035520"><span class="hs-identifier hs-var">gamma</span></a></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Doc -&gt; TCMT IO Doc) -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1286"></span><span>        </span><span class="annot"><span class="annottext">TCMT IO Doc
</span><span class="hs-string">&quot;type :&quot;</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; m Doc -&gt; m Doc -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Type -&gt; TCMT IO Doc
forall a (m :: * -&gt; *). (PrettyTCM a, MonadPretty m) =&gt; a -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#prettyTCM"><span class="hs-identifier hs-var">prettyTCM</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035518"><span class="hs-identifier hs-var">rhsTy</span></a></span><span>
</span><span id="line-1287"></span><span>      </span><span class="annot"><span class="annottext">ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; m ()
forall (m :: * -&gt; *).
MonadDebug m =&gt;
ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; m ()
</span><a href="Agda.TypeChecking.Monad.Debug.html#reportSDoc"><span class="hs-identifier hs-var">reportSDoc</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;tc.data.transp.con&quot;</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">20</span></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Doc -&gt; m ()) -&gt; TCMT IO Doc -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall b (m :: * -&gt; *) a.
(AddContext b, MonadAddContext m) =&gt;
b -&gt; m a -&gt; m a
</span><a href="Agda.TypeChecking.Monad.Context.html#addContext"><span class="hs-identifier hs-var">addContext</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035520"><span class="hs-identifier hs-var">gamma</span></a></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Doc -&gt; TCMT IO Doc) -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1288"></span><span>        </span><span class="annot"><span class="annottext">TCMT IO Doc
</span><span class="hs-string">&quot;body :&quot;</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; m Doc -&gt; m Doc -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; TCMT IO Doc
forall a (m :: * -&gt; *). (PrettyTCM a, MonadPretty m) =&gt; a -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#prettyTCM"><span class="hs-identifier hs-var">prettyTCM</span></a></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035517"><span class="hs-identifier hs-var">rhs</span></a></span><span>
</span><span id="line-1289"></span><span>
</span><span id="line-1290"></span><span>      </span><span class="annot"><span class="annottext">ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; m ()
forall (m :: * -&gt; *).
MonadDebug m =&gt;
ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; m ()
</span><a href="Agda.TypeChecking.Monad.Debug.html#reportSDoc"><span class="hs-identifier hs-var">reportSDoc</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;tc.data.transp.con&quot;</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">30</span></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Doc -&gt; m ()) -&gt; TCMT IO Doc -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1291"></span><span>        </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall b (m :: * -&gt; *) a.
(AddContext b, MonadAddContext m) =&gt;
b -&gt; m a -&gt; m a
</span><a href="Agda.TypeChecking.Monad.Context.html#addContext"><span class="hs-identifier hs-var">addContext</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035520"><span class="hs-identifier hs-var">gamma</span></a></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Doc -&gt; TCMT IO Doc) -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc
</span><span class="hs-string">&quot;c:&quot;</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; m Doc -&gt; m Doc -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Clause -&gt; TCMT IO Doc
forall (m :: * -&gt; *) a. (Applicative m, Pretty a) =&gt; a -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a></span><span> </span><span class="annot"><span class="annottext">Clause
</span><a href="#local-6989586621681035516"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-1292"></span><span>      </span><span class="annot"><span class="annottext">Clause -&gt; m Clause
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">Clause
</span><a href="#local-6989586621681035516"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-1293"></span><span>
</span><span id="line-1294"></span><span>
</span><span id="line-1295"></span><span class="annot"><a href="Agda.TypeChecking.Rules.Data.html#defineTranspOrHCompForFields"><span class="hs-identifier hs-type">defineTranspOrHCompForFields</span></a></span><span>
</span><span id="line-1296"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Primitive.Cubical.html#TranspOrHComp"><span class="hs-identifier hs-type">TranspOrHComp</span></a></span><span>
</span><span id="line-1297"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span class="hs-special">)</span><span>            </span><span class="hs-comment">-- ^ PathCons, &#916;.&#934; &#8866; u : R &#948;</span><span>
</span><span id="line-1298"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Abstract.Name.html#QName"><span class="hs-identifier hs-type">QName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- ^ how to apply a &quot;projection&quot; to a term</span><span>
</span><span id="line-1299"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Abstract.Name.html#QName"><span class="hs-identifier hs-type">QName</span></a></span><span>       </span><span class="hs-comment">-- ^ some name, e.g. record name</span><span>
</span><span id="line-1300"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Telescope"><span class="hs-identifier hs-type">Telescope</span></a></span><span>   </span><span class="hs-comment">-- ^ param types &#916;</span><span>
</span><span id="line-1301"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Telescope"><span class="hs-identifier hs-type">Telescope</span></a></span><span>   </span><span class="hs-comment">-- ^ fields' types &#916; &#8866; &#934;</span><span>
</span><span id="line-1302"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Agda.Syntax.Common.html#Arg"><span class="hs-identifier hs-type">Arg</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Abstract.Name.html#QName"><span class="hs-identifier hs-type">QName</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-comment">-- ^ fields' names</span><span>
</span><span id="line-1303"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span>        </span><span class="hs-comment">-- ^ record type &#916; &#8866; T</span><span>
</span><span id="line-1304"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#TCM"><span class="hs-identifier hs-type">TCM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Abstract.Name.html#QName"><span class="hs-identifier hs-type">QName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Telescope"><span class="hs-identifier hs-type">Telescope</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Agda.Syntax.Internal.html#Dom"><span class="hs-identifier hs-type">Dom</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Substitution"><span class="hs-identifier hs-type">Substitution</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1305"></span><span id="defineTranspOrHCompForFields"><span class="annot"><span class="annottext">defineTranspOrHCompForFields :: TranspOrHComp
-&gt; Maybe Term
-&gt; (Term -&gt; QName -&gt; Term)
-&gt; QName
-&gt; Tele (Dom Type)
-&gt; Tele (Dom Type)
-&gt; [Arg QName]
-&gt; Type
-&gt; TCM
     (Maybe
        ((QName, Tele (Dom Type), Type, [Dom Type], [Term]), Substitution))
</span><a href="Agda.TypeChecking.Rules.Data.html#defineTranspOrHCompForFields"><span class="hs-identifier hs-var hs-var">defineTranspOrHCompForFields</span></a></span></span><span> </span><span id="local-6989586621681035514"><span class="annot"><span class="annottext">TranspOrHComp
</span><a href="#local-6989586621681035514"><span class="hs-identifier hs-var">cmd</span></a></span></span><span> </span><span id="local-6989586621681035513"><span class="annot"><span class="annottext">Maybe Term
</span><a href="#local-6989586621681035513"><span class="hs-identifier hs-var">pathCons</span></a></span></span><span> </span><span id="local-6989586621681035512"><span class="annot"><span class="annottext">Term -&gt; QName -&gt; Term
</span><a href="#local-6989586621681035512"><span class="hs-identifier hs-var">project</span></a></span></span><span> </span><span id="local-6989586621681035511"><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681035511"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span id="local-6989586621681035510"><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035510"><span class="hs-identifier hs-var">params</span></a></span></span><span> </span><span id="local-6989586621681035509"><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035509"><span class="hs-identifier hs-var">fsT</span></a></span></span><span> </span><span id="local-6989586621681035508"><span class="annot"><span class="annottext">[Arg QName]
</span><a href="#local-6989586621681035508"><span class="hs-identifier hs-var">fns</span></a></span></span><span> </span><span id="local-6989586621681035507"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035507"><span class="hs-identifier hs-var">rect</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1306"></span><span>   </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">TranspOrHComp
</span><a href="#local-6989586621681035514"><span class="hs-identifier hs-var">cmd</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1307"></span><span>       </span><span class="annot"><span class="annottext">TranspOrHComp
</span><a href="Agda.TypeChecking.Primitive.Cubical.html#DoTransp"><span class="hs-identifier hs-var">DoTransp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MaybeT
  (TCMT IO)
  ((QName, Tele (Dom Type), Type, [Dom Type], [Term]), Substitution)
-&gt; TCM
     (Maybe
        ((QName, Tele (Dom Type), Type, [Dom Type], [Term]), Substitution))
forall (m :: * -&gt; *) a. MaybeT m a -&gt; m (Maybe a)
</span><span class="hs-identifier hs-var">runMaybeT</span></span><span> </span><span class="annot"><span class="annottext">(MaybeT
   (TCMT IO)
   ((QName, Tele (Dom Type), Type, [Dom Type], [Term]), Substitution)
 -&gt; TCM
      (Maybe
         ((QName, Tele (Dom Type), Type, [Dom Type], [Term]),
          Substitution)))
-&gt; MaybeT
     (TCMT IO)
     ((QName, Tele (Dom Type), Type, [Dom Type], [Term]), Substitution)
-&gt; TCM
     (Maybe
        ((QName, Tele (Dom Type), Type, [Dom Type], [Term]), Substitution))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1308"></span><span>         </span><span id="local-6989586621681035506"><span class="annot"><span class="annottext">Tele (Dom CType)
</span><a href="#local-6989586621681035506"><span class="hs-identifier hs-var">fsT'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Dom Type -&gt; MaybeT (TCMT IO) (Dom CType))
-&gt; Tele (Dom Type) -&gt; MaybeT (TCMT IO) (Tele (Dom CType))
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><span class="hs-identifier hs-var">traverse</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Type -&gt; MaybeT (TCMT IO) CType)
-&gt; Dom Type -&gt; MaybeT (TCMT IO) (Dom CType)
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><span class="hs-identifier hs-var">traverse</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TCMT IO (Maybe CType) -&gt; MaybeT (TCMT IO) CType
forall (m :: * -&gt; *) a. m (Maybe a) -&gt; MaybeT m a
</span><span class="hs-identifier hs-var">MaybeT</span></span><span> </span><span class="annot"><span class="annottext">(TCMT IO (Maybe CType) -&gt; MaybeT (TCMT IO) CType)
-&gt; (Type -&gt; TCMT IO (Maybe CType))
-&gt; Type
-&gt; MaybeT (TCMT IO) CType
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Type -&gt; TCMT IO (Maybe CType)
forall (m :: * -&gt; *). MonadReduce m =&gt; Type -&gt; m (Maybe CType)
</span><a href="Agda.TypeChecking.Primitive.Cubical.html#toCType"><span class="hs-identifier hs-var">toCType</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035509"><span class="hs-identifier hs-var">fsT</span></a></span><span>
</span><span id="line-1309"></span><span>         </span><span class="annot"><span class="annottext">TCMT
  IO
  ((QName, Tele (Dom Type), Type, [Dom Type], [Term]), Substitution)
-&gt; MaybeT
     (TCMT IO)
     ((QName, Tele (Dom Type), Type, [Dom Type], [Term]), Substitution)
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><span class="hs-identifier hs-var">lift</span></span><span> </span><span class="annot"><span class="annottext">(TCMT
   IO
   ((QName, Tele (Dom Type), Type, [Dom Type], [Term]), Substitution)
 -&gt; MaybeT
      (TCMT IO)
      ((QName, Tele (Dom Type), Type, [Dom Type], [Term]), Substitution))
-&gt; TCMT
     IO
     ((QName, Tele (Dom Type), Type, [Dom Type], [Term]), Substitution)
-&gt; MaybeT
     (TCMT IO)
     ((QName, Tele (Dom Type), Type, [Dom Type], [Term]), Substitution)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Maybe Term
-&gt; (Term -&gt; QName -&gt; Term)
-&gt; QName
-&gt; Tele (Dom Type)
-&gt; Tele (Dom CType)
-&gt; [Arg QName]
-&gt; Type
-&gt; TCMT
     IO
     ((QName, Tele (Dom Type), Type, [Dom Type], [Term]), Substitution)
</span><a href="Agda.TypeChecking.Rules.Data.html#defineTranspForFields"><span class="hs-identifier hs-var">defineTranspForFields</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Term
</span><a href="#local-6989586621681035513"><span class="hs-identifier hs-var">pathCons</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; QName -&gt; Term
</span><a href="#local-6989586621681035512"><span class="hs-identifier hs-var">project</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681035511"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035510"><span class="hs-identifier hs-var">params</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom CType)
</span><a href="#local-6989586621681035506"><span class="hs-identifier hs-var">fsT'</span></a></span><span> </span><span class="annot"><span class="annottext">[Arg QName]
</span><a href="#local-6989586621681035508"><span class="hs-identifier hs-var">fns</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035507"><span class="hs-identifier hs-var">rect</span></a></span><span>
</span><span id="line-1310"></span><span>       </span><span class="annot"><span class="annottext">TranspOrHComp
</span><a href="Agda.TypeChecking.Primitive.Cubical.html#DoHComp"><span class="hs-identifier hs-var">DoHComp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MaybeT
  (TCMT IO)
  ((QName, Tele (Dom Type), Type, [Dom Type], [Term]), Substitution)
-&gt; TCM
     (Maybe
        ((QName, Tele (Dom Type), Type, [Dom Type], [Term]), Substitution))
forall (m :: * -&gt; *) a. MaybeT m a -&gt; m (Maybe a)
</span><span class="hs-identifier hs-var">runMaybeT</span></span><span> </span><span class="annot"><span class="annottext">(MaybeT
   (TCMT IO)
   ((QName, Tele (Dom Type), Type, [Dom Type], [Term]), Substitution)
 -&gt; TCM
      (Maybe
         ((QName, Tele (Dom Type), Type, [Dom Type], [Term]),
          Substitution)))
-&gt; MaybeT
     (TCMT IO)
     ((QName, Tele (Dom Type), Type, [Dom Type], [Term]), Substitution)
-&gt; TCM
     (Maybe
        ((QName, Tele (Dom Type), Type, [Dom Type], [Term]), Substitution))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1311"></span><span>         </span><span id="local-6989586621681035503"><span class="annot"><span class="annottext">Tele (Dom LType)
</span><a href="#local-6989586621681035503"><span class="hs-identifier hs-var">fsT'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Dom Type -&gt; MaybeT (TCMT IO) (Dom LType))
-&gt; Tele (Dom Type) -&gt; MaybeT (TCMT IO) (Tele (Dom LType))
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><span class="hs-identifier hs-var">traverse</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Type -&gt; MaybeT (TCMT IO) LType)
-&gt; Dom Type -&gt; MaybeT (TCMT IO) (Dom LType)
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><span class="hs-identifier hs-var">traverse</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TCMT IO (Maybe LType) -&gt; MaybeT (TCMT IO) LType
forall (m :: * -&gt; *) a. m (Maybe a) -&gt; MaybeT m a
</span><span class="hs-identifier hs-var">MaybeT</span></span><span> </span><span class="annot"><span class="annottext">(TCMT IO (Maybe LType) -&gt; MaybeT (TCMT IO) LType)
-&gt; (Type -&gt; TCMT IO (Maybe LType))
-&gt; Type
-&gt; MaybeT (TCMT IO) LType
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Type -&gt; TCMT IO (Maybe LType)
forall (m :: * -&gt; *). MonadReduce m =&gt; Type -&gt; m (Maybe LType)
</span><a href="Agda.TypeChecking.Primitive.Cubical.html#toLType"><span class="hs-identifier hs-var">toLType</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035509"><span class="hs-identifier hs-var">fsT</span></a></span><span>
</span><span id="line-1312"></span><span>         </span><span id="local-6989586621681035502"><span class="annot"><span class="annottext">LType
</span><a href="#local-6989586621681035502"><span class="hs-identifier hs-var">rect'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TCMT IO (Maybe LType) -&gt; MaybeT (TCMT IO) LType
forall (m :: * -&gt; *) a. m (Maybe a) -&gt; MaybeT m a
</span><span class="hs-identifier hs-var">MaybeT</span></span><span> </span><span class="annot"><span class="annottext">(TCMT IO (Maybe LType) -&gt; MaybeT (TCMT IO) LType)
-&gt; TCMT IO (Maybe LType) -&gt; MaybeT (TCMT IO) LType
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Type -&gt; TCMT IO (Maybe LType)
forall (m :: * -&gt; *). MonadReduce m =&gt; Type -&gt; m (Maybe LType)
</span><a href="Agda.TypeChecking.Primitive.Cubical.html#toLType"><span class="hs-identifier hs-var">toLType</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035507"><span class="hs-identifier hs-var">rect</span></a></span><span>
</span><span id="line-1313"></span><span>         </span><span class="annot"><span class="annottext">TCMT
  IO
  ((QName, Tele (Dom Type), Type, [Dom Type], [Term]), Substitution)
-&gt; MaybeT
     (TCMT IO)
     ((QName, Tele (Dom Type), Type, [Dom Type], [Term]), Substitution)
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><span class="hs-identifier hs-var">lift</span></span><span> </span><span class="annot"><span class="annottext">(TCMT
   IO
   ((QName, Tele (Dom Type), Type, [Dom Type], [Term]), Substitution)
 -&gt; MaybeT
      (TCMT IO)
      ((QName, Tele (Dom Type), Type, [Dom Type], [Term]), Substitution))
-&gt; TCMT
     IO
     ((QName, Tele (Dom Type), Type, [Dom Type], [Term]), Substitution)
-&gt; MaybeT
     (TCMT IO)
     ((QName, Tele (Dom Type), Type, [Dom Type], [Term]), Substitution)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Term -&gt; QName -&gt; Term)
-&gt; QName
-&gt; Tele (Dom Type)
-&gt; Tele (Dom LType)
-&gt; [Arg QName]
-&gt; LType
-&gt; TCMT
     IO
     ((QName, Tele (Dom Type), Type, [Dom Type], [Term]), Substitution)
</span><a href="Agda.TypeChecking.Rules.Data.html#defineHCompForFields"><span class="hs-identifier hs-var">defineHCompForFields</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; QName -&gt; Term
</span><a href="#local-6989586621681035512"><span class="hs-identifier hs-var">project</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681035511"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035510"><span class="hs-identifier hs-var">params</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom LType)
</span><a href="#local-6989586621681035503"><span class="hs-identifier hs-var">fsT'</span></a></span><span> </span><span class="annot"><span class="annottext">[Arg QName]
</span><a href="#local-6989586621681035508"><span class="hs-identifier hs-var">fns</span></a></span><span> </span><span class="annot"><span class="annottext">LType
</span><a href="#local-6989586621681035502"><span class="hs-identifier hs-var">rect'</span></a></span><span>
</span><span id="line-1314"></span><span>
</span><span id="line-1315"></span><span>
</span><span id="line-1316"></span><span class="hs-comment">-- invariant: resulting tel &#915; is such that &#915; = ... , (&#966; : I), (a0 : ...)</span><span>
</span><span id="line-1317"></span><span class="hs-comment">--            where a0 has type matching the arguments of primTrans.</span><span>
</span><span id="line-1318"></span><span class="annot"><a href="Agda.TypeChecking.Rules.Data.html#defineTranspForFields"><span class="hs-identifier hs-type">defineTranspForFields</span></a></span><span>
</span><span id="line-1319"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span class="hs-special">)</span><span>            </span><span class="hs-comment">-- ^ PathCons, &#916;.&#934; &#8866; u : R &#948;</span><span>
</span><span id="line-1320"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Abstract.Name.html#QName"><span class="hs-identifier hs-type">QName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- ^ how to apply a &quot;projection&quot; to a term</span><span>
</span><span id="line-1321"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Abstract.Name.html#QName"><span class="hs-identifier hs-type">QName</span></a></span><span>       </span><span class="hs-comment">-- ^ some name, e.g. record name</span><span>
</span><span id="line-1322"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Telescope"><span class="hs-identifier hs-type">Telescope</span></a></span><span>   </span><span class="hs-comment">-- ^ param types &#916;</span><span>
</span><span id="line-1323"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Tele"><span class="hs-identifier hs-type">Tele</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Internal.html#Dom"><span class="hs-identifier hs-type">Dom</span></a></span><span> </span><span class="annot"><a href="Agda.TypeChecking.Primitive.Cubical.html#CType"><span class="hs-identifier hs-type">CType</span></a></span><span class="hs-special">)</span><span>   </span><span class="hs-comment">-- ^ fields' types &#916; &#8866; &#934;</span><span>
</span><span id="line-1324"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Agda.Syntax.Common.html#Arg"><span class="hs-identifier hs-type">Arg</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Abstract.Name.html#QName"><span class="hs-identifier hs-type">QName</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-comment">-- ^ fields' names</span><span>
</span><span id="line-1325"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span>        </span><span class="hs-comment">-- ^ record type &#916; &#8866; T</span><span>
</span><span id="line-1326"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#TCM"><span class="hs-identifier hs-type">TCM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Abstract.Name.html#QName"><span class="hs-identifier hs-type">QName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Telescope"><span class="hs-identifier hs-type">Telescope</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Agda.Syntax.Internal.html#Dom"><span class="hs-identifier hs-type">Dom</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Substitution"><span class="hs-identifier hs-type">Substitution</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1327"></span><span>     </span><span class="hs-comment">-- ^ @((name, tel, rtype, clause_types, bodies), sigma)@</span><span>
</span><span id="line-1328"></span><span>     </span><span class="hs-comment">--   name: name of transport function for this constructor/record. clauses still missing.</span><span>
</span><span id="line-1329"></span><span>     </span><span class="hs-comment">--   tel: &#926; telescope for the RHS, &#926; &#8835; (&#916;^I, &#966; : I), also &#926; &#8866; us0 : &#934;[&#948; 0]</span><span>
</span><span id="line-1330"></span><span>     </span><span class="hs-comment">--   rtype: &#926; &#8866; T' := T[&#948; 1]</span><span>
</span><span id="line-1331"></span><span>     </span><span class="hs-comment">--   clause_types: &#926; &#8866; &#934;' := &#934;[&#948; 1]</span><span>
</span><span id="line-1332"></span><span>     </span><span class="hs-comment">--   bodies: &#926; &#8866; us1 : &#934;'</span><span>
</span><span id="line-1333"></span><span>     </span><span class="hs-comment">--   sigma:  &#926;, i : I &#8866; &#963; : &#916;.&#934; -- line [&#948; 0,us0] &#8801; [&#948; 0,us1]</span><span>
</span><span id="line-1334"></span><span id="defineTranspForFields"><span class="annot"><span class="annottext">defineTranspForFields :: Maybe Term
-&gt; (Term -&gt; QName -&gt; Term)
-&gt; QName
-&gt; Tele (Dom Type)
-&gt; Tele (Dom CType)
-&gt; [Arg QName]
-&gt; Type
-&gt; TCMT
     IO
     ((QName, Tele (Dom Type), Type, [Dom Type], [Term]), Substitution)
</span><a href="Agda.TypeChecking.Rules.Data.html#defineTranspForFields"><span class="hs-identifier hs-var hs-var">defineTranspForFields</span></a></span></span><span> </span><span id="local-6989586621681035500"><span class="annot"><span class="annottext">Maybe Term
</span><a href="#local-6989586621681035500"><span class="hs-identifier hs-var">pathCons</span></a></span></span><span> </span><span id="local-6989586621681035499"><span class="annot"><span class="annottext">Term -&gt; QName -&gt; Term
</span><a href="#local-6989586621681035499"><span class="hs-identifier hs-var">applyProj</span></a></span></span><span> </span><span id="local-6989586621681035498"><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681035498"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span id="local-6989586621681035497"><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035497"><span class="hs-identifier hs-var">params</span></a></span></span><span> </span><span id="local-6989586621681035496"><span class="annot"><span class="annottext">Tele (Dom CType)
</span><a href="#local-6989586621681035496"><span class="hs-identifier hs-var">fsT</span></a></span></span><span> </span><span id="local-6989586621681035495"><span class="annot"><span class="annottext">[Arg QName]
</span><a href="#local-6989586621681035495"><span class="hs-identifier hs-var">fns</span></a></span></span><span> </span><span id="local-6989586621681035494"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035494"><span class="hs-identifier hs-var">rect</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1335"></span><span>  </span><span id="local-6989586621681035493"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035493"><span class="hs-identifier hs-var">interval</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TCMT IO Type
forall (m :: * -&gt; *).
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
m Type
</span><a href="Agda.TypeChecking.Primitive.Cubical.html#primIntervalType"><span class="hs-identifier hs-var">primIntervalType</span></a></span><span>
</span><span id="line-1336"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681035492"><span class="annot"><span class="annottext">deltaI :: Tele (Dom Type)
</span><a href="#local-6989586621681035492"><span class="hs-identifier hs-var hs-var">deltaI</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type -&gt; Tele (Dom Type) -&gt; Tele (Dom Type)
</span><a href="Agda.TypeChecking.Primitive.Cubical.html#expTelescope"><span class="hs-identifier hs-var">expTelescope</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035493"><span class="hs-identifier hs-var">interval</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035497"><span class="hs-identifier hs-var">params</span></a></span><span>
</span><span id="line-1337"></span><span>  </span><span id="local-6989586621681035491"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035491"><span class="hs-identifier hs-var">iz</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TCMT IO Term
forall (m :: * -&gt; *).
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
m Term
</span><a href="Agda.TypeChecking.Monad.Builtin.html#primIZero"><span class="hs-identifier hs-var">primIZero</span></a></span><span>
</span><span id="line-1338"></span><span>  </span><span id="local-6989586621681035490"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035490"><span class="hs-identifier hs-var">io</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TCMT IO Term
forall (m :: * -&gt; *).
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
m Term
</span><a href="Agda.TypeChecking.Monad.Builtin.html#primIOne"><span class="hs-identifier hs-var">primIOne</span></a></span><span>
</span><span id="line-1339"></span><span>  </span><span id="local-6989586621681035489"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035489"><span class="hs-identifier hs-var">imin</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; TCMT IO Term
forall (m :: * -&gt; *).
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
ArgName -&gt; m Term
</span><a href="Agda.TypeChecking.Monad.Builtin.html#getPrimitiveTerm"><span class="hs-identifier hs-var">getPrimitiveTerm</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;primIMin&quot;</span></span><span>
</span><span id="line-1340"></span><span>  </span><span id="local-6989586621681035488"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035488"><span class="hs-identifier hs-var">imax</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; TCMT IO Term
forall (m :: * -&gt; *).
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
ArgName -&gt; m Term
</span><a href="Agda.TypeChecking.Monad.Builtin.html#getPrimitiveTerm"><span class="hs-identifier hs-var">getPrimitiveTerm</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;primIMax&quot;</span></span><span>
</span><span id="line-1341"></span><span>  </span><span id="local-6989586621681035487"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035487"><span class="hs-identifier hs-var">ineg</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; TCMT IO Term
forall (m :: * -&gt; *).
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
ArgName -&gt; m Term
</span><a href="Agda.TypeChecking.Monad.Builtin.html#getPrimitiveTerm"><span class="hs-identifier hs-var">getPrimitiveTerm</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;primINeg&quot;</span></span><span>
</span><span id="line-1342"></span><span>  </span><span id="local-6989586621681035486"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035486"><span class="hs-identifier hs-var">transp</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; TCMT IO Term
forall (m :: * -&gt; *).
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
ArgName -&gt; m Term
</span><a href="Agda.TypeChecking.Monad.Builtin.html#getPrimitiveTerm"><span class="hs-identifier hs-var">getPrimitiveTerm</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><a href="Agda.Syntax.Builtin.html#builtinTrans"><span class="hs-identifier hs-var">builtinTrans</span></a></span><span>
</span><span id="line-1343"></span><span>  </span><span class="hs-comment">-- por &lt;- getPrimitiveTerm &quot;primPOr&quot;</span><span>
</span><span id="line-1344"></span><span>  </span><span class="hs-comment">-- one &lt;- primItIsOne</span><span>
</span><span id="line-1345"></span><span>  </span><span class="annot"><span class="annottext">ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; TCM ()
forall (m :: * -&gt; *).
MonadDebug m =&gt;
ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; m ()
</span><a href="Agda.TypeChecking.Monad.Debug.html#reportSDoc"><span class="hs-identifier hs-var">reportSDoc</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;trans.rec&quot;</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">20</span></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Doc -&gt; TCM ()) -&gt; TCMT IO Doc -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; TCMT IO Doc
forall (m :: * -&gt; *) a. (Applicative m, Pretty a) =&gt; a -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035497"><span class="hs-identifier hs-var">params</span></a></span><span>
</span><span id="line-1346"></span><span>  </span><span class="annot"><span class="annottext">ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; TCM ()
forall (m :: * -&gt; *).
MonadDebug m =&gt;
ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; m ()
</span><a href="Agda.TypeChecking.Monad.Debug.html#reportSDoc"><span class="hs-identifier hs-var">reportSDoc</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;trans.rec&quot;</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">20</span></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Doc -&gt; TCM ()) -&gt; TCMT IO Doc -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; TCMT IO Doc
forall (m :: * -&gt; *) a. (Applicative m, Pretty a) =&gt; a -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035492"><span class="hs-identifier hs-var">deltaI</span></a></span><span>
</span><span id="line-1347"></span><span>  </span><span class="annot"><span class="annottext">ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; TCM ()
forall (m :: * -&gt; *).
MonadDebug m =&gt;
ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; m ()
</span><a href="Agda.TypeChecking.Monad.Debug.html#reportSDoc"><span class="hs-identifier hs-var">reportSDoc</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;trans.rec&quot;</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">10</span></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Doc -&gt; TCM ()) -&gt; TCMT IO Doc -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Tele (Dom CType) -&gt; TCMT IO Doc
forall (m :: * -&gt; *) a. (Applicative m, Pretty a) =&gt; a -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom CType)
</span><a href="#local-6989586621681035496"><span class="hs-identifier hs-var">fsT</span></a></span><span>
</span><span id="line-1348"></span><span>
</span><span id="line-1349"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681035484"><span class="annot"><span class="annottext">thePrefix :: ArgName
</span><a href="#local-6989586621681035484"><span class="hs-identifier hs-var hs-var">thePrefix</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;transp-&quot;</span></span><span>
</span><span id="line-1350"></span><span>  </span><span id="local-6989586621681035483"><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681035483"><span class="hs-identifier hs-var">theName</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; TCMT IO QName
</span><a href="Agda.TypeChecking.Rules.Data.html#freshAbstractQName%27_"><span class="hs-identifier hs-var">freshAbstractQName'_</span></a></span><span> </span><span class="annot"><span class="annottext">(ArgName -&gt; TCMT IO QName) -&gt; ArgName -&gt; TCMT IO QName
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><a href="#local-6989586621681035484"><span class="hs-identifier hs-var">thePrefix</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; ArgName -&gt; ArgName
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; ArgName
forall a. Pretty a =&gt; a -&gt; ArgName
</span><a href="Agda.Utils.Pretty.html#prettyShow"><span class="hs-identifier hs-var">P.prettyShow</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">QName -&gt; Name
</span><a href="Agda.Syntax.Abstract.Name.html#qnameName"><span class="hs-identifier hs-var">A.qnameName</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681035498"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1351"></span><span>
</span><span id="line-1352"></span><span>  </span><span class="annot"><span class="annottext">ArgName -&gt; Nat -&gt; ArgName -&gt; TCM ()
forall (m :: * -&gt; *).
MonadDebug m =&gt;
ArgName -&gt; Nat -&gt; ArgName -&gt; m ()
</span><a href="Agda.TypeChecking.Monad.Debug.html#reportSLn"><span class="hs-identifier hs-var">reportSLn</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;trans.rec&quot;</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">5</span></span><span> </span><span class="annot"><span class="annottext">(ArgName -&gt; TCM ()) -&gt; ArgName -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;Generated name: &quot;</span></span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; ArgName -&gt; ArgName
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">QName -&gt; ArgName
forall a. Show a =&gt; a -&gt; ArgName
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681035483"><span class="hs-identifier hs-var">theName</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; ArgName -&gt; ArgName
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot; &quot;</span></span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; ArgName -&gt; ArgName
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">QName -&gt; ArgName
</span><a href="Agda.Syntax.Abstract.Name.html#showQNameId"><span class="hs-identifier hs-var">showQNameId</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681035483"><span class="hs-identifier hs-var">theName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1353"></span><span>
</span><span id="line-1354"></span><span>  </span><span id="local-6989586621681035480"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035480"><span class="hs-identifier hs-var">theType</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Type -&gt; Type
forall t. Abstract t =&gt; Tele (Dom Type) -&gt; t -&gt; t
</span><a href="Agda.TypeChecking.Substitute.Class.html#abstract"><span class="hs-identifier hs-var">abstract</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035492"><span class="hs-identifier hs-var">deltaI</span></a></span><span> </span><span class="annot"><span class="annottext">(Type -&gt; Type) -&gt; TCMT IO Type -&gt; TCMT IO Type
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(TCMT IO Type -&gt; TCMT IO Type) -&gt; TCMT IO Type -&gt; TCMT IO Type
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[ArgName] -&gt; NamesT (TCMT IO) Type -&gt; TCMT IO Type
forall (m :: * -&gt; *) a. [ArgName] -&gt; NamesT m a -&gt; m a
</span><a href="Agda.TypeChecking.Names.html#runNamesT"><span class="hs-identifier hs-var">runNamesT</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">(NamesT (TCMT IO) Type -&gt; TCMT IO Type)
-&gt; NamesT (TCMT IO) Type -&gt; TCMT IO Type
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1355"></span><span>              </span><span id="local-6989586621681035479"><span class="annot"><span class="annottext">NamesT (TCMT IO) (Abs Type)
</span><a href="#local-6989586621681035479"><span class="hs-identifier hs-var">rect'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Abs Type -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) (Abs Type))
forall (m :: * -&gt; *) a.
(MonadFail m, Subst a) =&gt;
a -&gt; NamesT m (NamesT m a)
</span><a href="Agda.TypeChecking.Names.html#open"><span class="hs-identifier hs-var">open</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[ArgName] -&gt; NamesT Fail (Abs Type) -&gt; Abs Type
forall a. [ArgName] -&gt; NamesT Fail a -&gt; a
</span><a href="Agda.TypeChecking.Names.html#runNames"><span class="hs-identifier hs-var">runNames</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">(NamesT Fail (Abs Type) -&gt; Abs Type)
-&gt; NamesT Fail (Abs Type) -&gt; Abs Type
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ArgName
-&gt; ((forall b. (Subst b, DeBruijn b) =&gt; NamesT Fail b)
    -&gt; NamesT Fail Type)
-&gt; NamesT Fail (Abs Type)
forall (m :: * -&gt; *) a.
MonadFail m =&gt;
ArgName
-&gt; ((forall b. (Subst b, DeBruijn b) =&gt; NamesT m b) -&gt; NamesT m a)
-&gt; NamesT m (Abs a)
</span><a href="Agda.TypeChecking.Names.html#bind"><span class="hs-identifier hs-var">bind</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;i&quot;</span></span><span> </span><span class="annot"><span class="annottext">(((forall b. (Subst b, DeBruijn b) =&gt; NamesT Fail b)
  -&gt; NamesT Fail Type)
 -&gt; NamesT Fail (Abs Type))
-&gt; ((forall b. (Subst b, DeBruijn b) =&gt; NamesT Fail b)
    -&gt; NamesT Fail Type)
-&gt; NamesT Fail (Abs Type)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035478"><span class="annot"><span class="annottext">forall b. (Subst b, DeBruijn b) =&gt; NamesT Fail b
</span><a href="#local-6989586621681035478"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="annot"><span class="annottext">NamesT Fail Term
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NamesT Fail Term
forall b. (Subst b, DeBruijn b) =&gt; NamesT Fail b
</span><a href="#local-6989586621681035478"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT Fail Term -&gt; NamesT Fail Term -&gt; NamesT Fail Term
forall a. a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`asTypeOf`</span></span><span> </span><span class="annot"><span class="annottext">Term -&gt; NamesT Fail Term
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
forall a. HasCallStack =&gt; a
</span><span class="hs-identifier hs-var">undefined</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">in</span><span>
</span><span id="line-1356"></span><span>                                                             </span><span class="annot"><span class="annottext">Type -&gt; NamesT Fail Type
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035471"><span class="hs-identifier hs-var">rect'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1357"></span><span>              </span><span class="annot"><span class="annottext">ArgName
-&gt; NamesT (TCMT IO) Type
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Type)
-&gt; NamesT (TCMT IO) Type
forall (m :: * -&gt; *).
(MonadFail m, MonadAddContext m, MonadDebug m) =&gt;
ArgName
-&gt; NamesT m Type
-&gt; (NamesT m Term -&gt; NamesT m Type)
-&gt; NamesT m Type
</span><a href="Agda.TypeChecking.Primitive.Base.html#nPi%27"><span class="hs-identifier hs-var">nPi'</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;phi&quot;</span></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Type
forall (m :: * -&gt; *).
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
m Type
</span><a href="Agda.TypeChecking.Primitive.Cubical.html#primIntervalType"><span class="hs-identifier hs-var">primIntervalType</span></a></span><span> </span><span class="annot"><span class="annottext">((NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Type)
 -&gt; NamesT (TCMT IO) Type)
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Type)
-&gt; NamesT (TCMT IO) Type
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035470"><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035470"><span class="hs-identifier hs-var">phi</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1358"></span><span>               </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Abs Type -&gt; Term -&gt; Type
forall a. Subst a =&gt; Abs a -&gt; SubstArg a -&gt; a
</span><a href="Agda.TypeChecking.Substitute.Class.html#absApp"><span class="hs-identifier hs-var">absApp</span></a></span><span> </span><span class="annot"><span class="annottext">(Abs Type -&gt; Term -&gt; Type)
-&gt; NamesT (TCMT IO) (Abs Type) -&gt; NamesT (TCMT IO) (Term -&gt; Type)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (Abs Type)
</span><a href="#local-6989586621681035479"><span class="hs-identifier hs-var">rect'</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (Term -&gt; Type)
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Type
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Term -&gt; NamesT (TCMT IO) Term
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035491"><span class="hs-identifier hs-var">iz</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Type
-&gt; NamesT (TCMT IO) Type -&gt; NamesT (TCMT IO) Type
forall (m :: * -&gt; *). Applicative m =&gt; m Type -&gt; m Type -&gt; m Type
</span><a href="Agda.TypeChecking.Primitive.Base.html#--%3E"><span class="hs-operator hs-var">--&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Abs Type -&gt; Term -&gt; Type
forall a. Subst a =&gt; Abs a -&gt; SubstArg a -&gt; a
</span><a href="Agda.TypeChecking.Substitute.Class.html#absApp"><span class="hs-identifier hs-var">absApp</span></a></span><span> </span><span class="annot"><span class="annottext">(Abs Type -&gt; Term -&gt; Type)
-&gt; NamesT (TCMT IO) (Abs Type) -&gt; NamesT (TCMT IO) (Term -&gt; Type)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (Abs Type)
</span><a href="#local-6989586621681035479"><span class="hs-identifier hs-var">rect'</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) (Term -&gt; Type)
-&gt; NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Type
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Term -&gt; NamesT (TCMT IO) Term
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035490"><span class="hs-identifier hs-var">io</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1359"></span><span>
</span><span id="line-1360"></span><span>  </span><span class="annot"><span class="annottext">ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; TCM ()
forall (m :: * -&gt; *).
MonadDebug m =&gt;
ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; m ()
</span><a href="Agda.TypeChecking.Monad.Debug.html#reportSDoc"><span class="hs-identifier hs-var">reportSDoc</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;trans.rec&quot;</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">20</span></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Doc -&gt; TCM ()) -&gt; TCMT IO Doc -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Type -&gt; TCMT IO Doc
forall a (m :: * -&gt; *). (PrettyTCM a, MonadPretty m) =&gt; a -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#prettyTCM"><span class="hs-identifier hs-var">prettyTCM</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035480"><span class="hs-identifier hs-var">theType</span></a></span><span>
</span><span id="line-1361"></span><span>  </span><span class="annot"><span class="annottext">ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; TCM ()
forall (m :: * -&gt; *).
MonadDebug m =&gt;
ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; m ()
</span><a href="Agda.TypeChecking.Monad.Debug.html#reportSDoc"><span class="hs-identifier hs-var">reportSDoc</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;trans.rec&quot;</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">60</span></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Doc -&gt; TCM ()) -&gt; TCMT IO Doc -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; ArgName -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">(ArgName -&gt; TCMT IO Doc) -&gt; ArgName -&gt; TCMT IO Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;sort = &quot;</span></span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; ArgName -&gt; ArgName
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Sort' Term -&gt; ArgName
forall a. Show a =&gt; a -&gt; ArgName
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type -&gt; Sort' Term
forall a. LensSort a =&gt; a -&gt; Sort' Term
</span><a href="Agda.Syntax.Internal.html#getSort"><span class="hs-identifier hs-var">getSort</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035471"><span class="hs-identifier hs-var">rect'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1362"></span><span>
</span><span id="line-1363"></span><span>  </span><span id="local-6989586621681035469"><span class="annot"><span class="annottext">Language
</span><a href="#local-6989586621681035469"><span class="hs-identifier hs-var">lang</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TCMT IO Language
forall (m :: * -&gt; *). HasOptions m =&gt; m Language
</span><a href="Agda.TypeChecking.Monad.Options.html#getLanguage"><span class="hs-identifier hs-var">getLanguage</span></a></span><span>
</span><span id="line-1364"></span><span>  </span><span class="annot"><span class="annottext">TCM () -&gt; TCM ()
forall a. TCM a -&gt; TCM a
</span><a href="Agda.TypeChecking.Monad.Mutual.html#noMutualBlock"><span class="hs-identifier hs-var">noMutualBlock</span></a></span><span> </span><span class="annot"><span class="annottext">(TCM () -&gt; TCM ()) -&gt; TCM () -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">QName -&gt; Definition -&gt; TCM ()
</span><a href="Agda.TypeChecking.Monad.Signature.html#addConstant"><span class="hs-identifier hs-var">addConstant</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681035483"><span class="hs-identifier hs-var">theName</span></a></span><span> </span><span class="annot"><span class="annottext">(Definition -&gt; TCM ()) -&gt; Definition -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1365"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ArgInfo -&gt; QName -&gt; Type -&gt; Language -&gt; Defn -&gt; Definition
</span><a href="Agda.TypeChecking.Monad.Base.html#defaultDefn"><span class="hs-identifier hs-var">defaultDefn</span></a></span><span> </span><span class="annot"><span class="annottext">ArgInfo
</span><a href="Agda.Syntax.Common.html#defaultArgInfo"><span class="hs-identifier hs-var">defaultArgInfo</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681035483"><span class="hs-identifier hs-var">theName</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035480"><span class="hs-identifier hs-var">theType</span></a></span><span> </span><span class="annot"><span class="annottext">Language
</span><a href="#local-6989586621681035469"><span class="hs-identifier hs-var">lang</span></a></span><span>
</span><span id="line-1366"></span><span>       </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Defn
</span><a href="Agda.TypeChecking.Monad.Base.html#emptyFunction"><span class="hs-identifier hs-var">emptyFunction</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">funTerminates :: Maybe Bool
</span><a href="Agda.TypeChecking.Monad.Base.html#funTerminates"><span class="hs-identifier hs-var">funTerminates</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Maybe Bool
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1367"></span><span>      </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">defNoCompilation :: Bool
</span><a href="Agda.TypeChecking.Monad.Base.html#defNoCompilation"><span class="hs-identifier hs-var">defNoCompilation</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1368"></span><span>  </span><span class="hs-comment">-- &#8866; &#915; = gamma = (&#948; : &#916;^I) (&#966; : I) (u0 : R (&#948; i0))</span><span>
</span><span id="line-1369"></span><span>  </span><span class="hs-comment">-- &#915; &#8866;     rtype = R (&#948; i1)</span><span>
</span><span id="line-1370"></span><span>  </span><span class="annot"><a href="Agda.TypeChecking.Substitute.html#TelV"><span class="hs-identifier hs-type">TelV</span></a></span><span> </span><span id="local-6989586621681035468"><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035468"><span class="hs-identifier hs-var">gamma</span></a></span></span><span> </span><span id="local-6989586621681035467"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035467"><span class="hs-identifier hs-var">rtype</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Type -&gt; TCMT IO (TelV Type)
forall (m :: * -&gt; *).
(MonadReduce m, MonadAddContext m) =&gt;
Type -&gt; m (TelV Type)
</span><a href="Agda.TypeChecking.Telescope.html#telView"><span class="hs-identifier hs-var">telView</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035480"><span class="hs-identifier hs-var">theType</span></a></span><span>
</span><span id="line-1371"></span><span>
</span><span id="line-1372"></span><span>
</span><span id="line-1373"></span><span>  </span><span class="hs-keyword">let</span><span>
</span><span id="line-1374"></span><span>      </span><span class="hs-comment">-- (&#947; : &#915;) &#8866; transpR &#947; : rtype</span><span>
</span><span id="line-1375"></span><span>      </span><span id="local-6989586621681035466"><span class="annot"><span class="annottext">theTerm :: Term
</span><a href="#local-6989586621681035466"><span class="hs-identifier hs-var hs-var">theTerm</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">QName -&gt; [Elim' Term] -&gt; Term
</span><a href="Agda.Syntax.Internal.html#Def"><span class="hs-identifier hs-var">Def</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681035483"><span class="hs-identifier hs-var">theName</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">Term -&gt; [Arg Term] -&gt; Term
forall t. Apply t =&gt; t -&gt; [Arg Term] -&gt; t
</span><a href="Agda.TypeChecking.Substitute.Class.html#apply"><span class="hs-operator hs-var">`apply`</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; [Arg Term]
forall a t. DeBruijn a =&gt; Tele (Dom t) -&gt; [Arg a]
</span><a href="Agda.TypeChecking.Telescope.html#teleArgs"><span class="hs-identifier hs-var">teleArgs</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035468"><span class="hs-identifier hs-var">gamma</span></a></span><span>
</span><span id="line-1376"></span><span>
</span><span id="line-1377"></span><span>      </span><span class="hs-comment">-- (&#947; : &#915;) &#8866; (flatten &#934;[&#948; i1])[n &#8614; f_n (transpR &#947;)]</span><span>
</span><span id="line-1378"></span><span>      </span><span id="local-6989586621681035465"><span class="annot"><span class="annottext">clause_types :: [Dom CType]
</span><a href="#local-6989586621681035465"><span class="hs-identifier hs-var hs-var">clause_types</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Term] -&gt; Substitution
forall a. DeBruijn a =&gt; [a] -&gt; Substitution' a
</span><a href="Agda.TypeChecking.Substitute.Class.html#parallelS"><span class="hs-identifier hs-var">parallelS</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035466"><span class="hs-identifier hs-var">theTerm</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; QName -&gt; Term
</span><a href="#local-6989586621681035499"><span class="hs-operator hs-var">`applyProj`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Arg QName -&gt; QName
forall e. Arg e -&gt; e
</span><a href="Agda.Syntax.Common.html#unArg"><span class="hs-identifier hs-var">unArg</span></a></span><span> </span><span class="annot"><span class="annottext">Arg QName
</span><a href="#local-6989586621681035463"><span class="hs-identifier hs-var">fn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1379"></span><span>                               </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621681035463"><span class="annot"><span class="annottext">Arg QName
</span><a href="#local-6989586621681035463"><span class="hs-identifier hs-var">fn</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Arg QName] -&gt; [Arg QName]
forall a. [a] -&gt; [a]
</span><span class="hs-identifier hs-var">reverse</span></span><span> </span><span class="annot"><span class="annottext">[Arg QName]
</span><a href="#local-6989586621681035495"><span class="hs-identifier hs-var">fns</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">Substitution' (SubstArg [Dom CType]) -&gt; [Dom CType] -&gt; [Dom CType]
forall a. Subst a =&gt; Substitution' (SubstArg a) -&gt; a -&gt; a
</span><a href="Agda.TypeChecking.Substitute.Class.html#applySubst"><span class="hs-operator hs-var">`applySubst`</span></a></span><span>
</span><span id="line-1380"></span><span>                       </span><span class="annot"><span class="annottext">Tele (Dom CType) -&gt; [Dom CType]
forall a. TermSubst a =&gt; Tele (Dom a) -&gt; [Dom a]
</span><a href="Agda.TypeChecking.Telescope.html#flattenTel"><span class="hs-identifier hs-var">flattenTel</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Nat -&gt; Term -&gt; Substitution
forall a. DeBruijn a =&gt; Nat -&gt; a -&gt; Substitution' a
</span><a href="Agda.TypeChecking.Substitute.Class.html#singletonS"><span class="hs-identifier hs-var">singletonS</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035490"><span class="hs-identifier hs-var">io</span></a></span><span> </span><span class="annot"><span class="annottext">Substitution' (SubstArg (Tele (Dom CType)))
-&gt; Tele (Dom CType) -&gt; Tele (Dom CType)
forall a. Subst a =&gt; Substitution' (SubstArg a) -&gt; a -&gt; a
</span><a href="Agda.TypeChecking.Substitute.Class.html#applySubst"><span class="hs-operator hs-var">`applySubst`</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom CType)
</span><a href="#local-6989586621681035461"><span class="hs-identifier hs-var">fsT'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- &#915;, &#934;[&#948; i1] &#8866; flatten &#934;[&#948; i1]</span><span>
</span><span id="line-1381"></span><span>
</span><span id="line-1382"></span><span>      </span><span class="hs-comment">-- &#915;, i : I &#8866; [&#948; i] : &#916;</span><span>
</span><span id="line-1383"></span><span>      </span><span id="local-6989586621681035460"><span class="annot"><span class="annottext">delta_i :: Substitution
</span><a href="#local-6989586621681035460"><span class="hs-identifier hs-var hs-var">delta_i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Nat -&gt; Substitution -&gt; Substitution
forall a. Nat -&gt; Substitution' a -&gt; Substitution' a
</span><a href="Agda.TypeChecking.Substitute.Class.html#liftS"><span class="hs-identifier hs-var">liftS</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Nat -&gt; Substitution
forall a. Nat -&gt; Substitution' a
</span><a href="Agda.TypeChecking.Substitute.Class.html#raiseS"><span class="hs-identifier hs-var">raiseS</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Nat
forall a. Sized a =&gt; a -&gt; Nat
</span><a href="Agda.Utils.Size.html#size"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035468"><span class="hs-identifier hs-var">gamma</span></a></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Nat -&gt; Nat
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Nat
forall a. Sized a =&gt; a -&gt; Nat
</span><a href="Agda.Utils.Size.html#size"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035492"><span class="hs-identifier hs-var">deltaI</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Substitution -&gt; Substitution -&gt; Substitution
forall a.
EndoSubst a =&gt;
Substitution' a -&gt; Substitution' a -&gt; Substitution' a
</span><a href="Agda.TypeChecking.Substitute.Class.html#composeS"><span class="hs-operator hs-var">`composeS`</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Substitution
forall {a}. Sized a =&gt; a -&gt; Substitution
</span><a href="#local-6989586621681035459"><span class="hs-identifier hs-var">sub</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035497"><span class="hs-identifier hs-var">params</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- Defined but not used</span><span>
</span><span id="line-1384"></span><span>
</span><span id="line-1385"></span><span>      </span><span class="hs-comment">-- &#915;, i : I &#8866; &#934;[&#948; i]</span><span>
</span><span id="line-1386"></span><span>      </span><span id="local-6989586621681035461"><span class="annot"><span class="annottext">fsT' :: Tele (Dom CType)
</span><a href="#local-6989586621681035461"><span class="hs-identifier hs-var hs-var">fsT'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Nat -&gt; Substitution -&gt; Substitution
forall a. Nat -&gt; Substitution' a -&gt; Substitution' a
</span><a href="Agda.TypeChecking.Substitute.Class.html#liftS"><span class="hs-identifier hs-var">liftS</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Nat -&gt; Substitution
forall a. Nat -&gt; Substitution' a
</span><a href="Agda.TypeChecking.Substitute.Class.html#raiseS"><span class="hs-identifier hs-var">raiseS</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Nat
forall a. Sized a =&gt; a -&gt; Nat
</span><a href="Agda.Utils.Size.html#size"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035468"><span class="hs-identifier hs-var">gamma</span></a></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Nat -&gt; Nat
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Nat
forall a. Sized a =&gt; a -&gt; Nat
</span><a href="Agda.Utils.Size.html#size"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035492"><span class="hs-identifier hs-var">deltaI</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Substitution -&gt; Substitution -&gt; Substitution
forall a.
EndoSubst a =&gt;
Substitution' a -&gt; Substitution' a -&gt; Substitution' a
</span><a href="Agda.TypeChecking.Substitute.Class.html#composeS"><span class="hs-operator hs-var">`composeS`</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Substitution
forall {a}. Sized a =&gt; a -&gt; Substitution
</span><a href="#local-6989586621681035459"><span class="hs-identifier hs-var">sub</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035497"><span class="hs-identifier hs-var">params</span></a></span><span class="hs-special">)</span><span>  </span><span class="annot"><span class="annottext">Substitution' (SubstArg (Tele (Dom CType)))
-&gt; Tele (Dom CType) -&gt; Tele (Dom CType)
forall a. Subst a =&gt; Substitution' (SubstArg a) -&gt; a -&gt; a
</span><a href="Agda.TypeChecking.Substitute.Class.html#applySubst"><span class="hs-operator hs-var">`applySubst`</span></a></span><span>
</span><span id="line-1387"></span><span>               </span><span class="annot"><span class="annottext">Tele (Dom CType)
</span><a href="#local-6989586621681035496"><span class="hs-identifier hs-var">fsT</span></a></span><span> </span><span class="hs-comment">-- &#916; &#8866; &#934;</span><span>
</span><span id="line-1388"></span><span>      </span><span id="local-6989586621681035458"><span class="annot"><span class="annottext">lam_i :: Term -&gt; Term
</span><a href="#local-6989586621681035458"><span class="hs-identifier hs-var hs-var">lam_i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ArgInfo -&gt; Abs Term -&gt; Term
</span><a href="Agda.Syntax.Internal.html#Lam"><span class="hs-identifier hs-var">Lam</span></a></span><span> </span><span class="annot"><span class="annottext">ArgInfo
</span><a href="Agda.Syntax.Common.html#defaultArgInfo"><span class="hs-identifier hs-var">defaultArgInfo</span></a></span><span> </span><span class="annot"><span class="annottext">(Abs Term -&gt; Term) -&gt; (Term -&gt; Abs Term) -&gt; Term -&gt; Term
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; Term -&gt; Abs Term
forall a. ArgName -&gt; a -&gt; Abs a
</span><a href="Agda.Syntax.Internal.html#Abs"><span class="hs-identifier hs-var">Abs</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;i&quot;</span></span><span>
</span><span id="line-1389"></span><span>
</span><span id="line-1390"></span><span>
</span><span id="line-1391"></span><span>
</span><span id="line-1392"></span><span>      </span><span class="hs-comment">-- (&#948; , &#966; , u0) : &#915; &#8866; &#966; : I</span><span>
</span><span id="line-1393"></span><span>      </span><span class="hs-comment">-- the_phi = var 1</span><span>
</span><span id="line-1394"></span><span>      </span><span class="hs-comment">-- -- (&#948; , &#966; , u0) : &#915; &#8866; u0 : R (&#948; i0)</span><span>
</span><span id="line-1395"></span><span>      </span><span class="hs-comment">-- the_u0  = var 0</span><span>
</span><span id="line-1396"></span><span>
</span><span id="line-1397"></span><span>      </span><span class="hs-comment">-- &#915;' = (&#948; : &#916;^I, &#966; : I)</span><span>
</span><span id="line-1398"></span><span>      </span><span id="local-6989586621681035457"><span class="annot"><span class="annottext">gamma' :: Tele (Dom Type)
</span><a href="#local-6989586621681035457"><span class="hs-identifier hs-var hs-var">gamma'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Dom' Term (ArgName, Type)] -&gt; Tele (Dom Type)
</span><a href="Agda.Syntax.Internal.html#telFromList"><span class="hs-identifier hs-var">telFromList</span></a></span><span> </span><span class="annot"><span class="annottext">([Dom' Term (ArgName, Type)] -&gt; Tele (Dom Type))
-&gt; [Dom' Term (ArgName, Type)] -&gt; Tele (Dom Type)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; [Dom' Term (ArgName, Type)] -&gt; [Dom' Term (ArgName, Type)]
forall a. Nat -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">take</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Nat
forall a. Sized a =&gt; a -&gt; Nat
</span><a href="Agda.Utils.Size.html#size"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035468"><span class="hs-identifier hs-var">gamma</span></a></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Nat -&gt; Nat
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([Dom' Term (ArgName, Type)] -&gt; [Dom' Term (ArgName, Type)])
-&gt; [Dom' Term (ArgName, Type)] -&gt; [Dom' Term (ArgName, Type)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; [Dom' Term (ArgName, Type)]
forall t. Tele (Dom t) -&gt; [Dom (ArgName, t)]
</span><a href="Agda.Syntax.Internal.html#telToList"><span class="hs-identifier hs-var">telToList</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035468"><span class="hs-identifier hs-var">gamma</span></a></span><span>
</span><span id="line-1399"></span><span>
</span><span id="line-1400"></span><span>      </span><span class="hs-comment">-- &#948; : &#916;^I, &#966; : F &#8866; [&#948; 0] : &#916;</span><span>
</span><span id="line-1401"></span><span>      </span><span class="annot"><a href="#local-6989586621681035455"><span class="hs-identifier hs-type">d0</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Substitution"><span class="hs-identifier hs-type">Substitution</span></a></span><span>
</span><span id="line-1402"></span><span>      </span><span id="local-6989586621681035455"><span class="annot"><span class="annottext">d0 :: Substitution
</span><a href="#local-6989586621681035455"><span class="hs-identifier hs-var hs-var">d0</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Substitution -&gt; Substitution
forall a. Nat -&gt; Substitution' a -&gt; Substitution' a
</span><a href="Agda.TypeChecking.Substitute.Class.html#wkS"><span class="hs-identifier hs-var">wkS</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">1</span></span><span> </span><span class="hs-comment">-- &#916;^I, &#966; : F &#8866; &#916;</span><span>
</span><span id="line-1403"></span><span>                       </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term -&gt; Substitution -&gt; Substitution
forall a. DeBruijn a =&gt; a -&gt; Substitution' a -&gt; Substitution' a
</span><a href="Agda.TypeChecking.Substitute.Class.html#consS"><span class="hs-identifier hs-var">consS</span></a></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035491"><span class="hs-identifier hs-var">iz</span></a></span><span> </span><span class="annot"><span class="annottext">Substitution
forall a. Substitution' a
</span><a href="Agda.Syntax.Internal.html#IdS"><span class="hs-identifier hs-var">IdS</span></a></span><span> </span><span class="annot"><span class="annottext">Substitution -&gt; Substitution -&gt; Substitution
forall a.
EndoSubst a =&gt;
Substitution' a -&gt; Substitution' a -&gt; Substitution' a
</span><a href="Agda.TypeChecking.Substitute.Class.html#composeS"><span class="hs-operator hs-var">`composeS`</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Substitution
forall {a}. Sized a =&gt; a -&gt; Substitution
</span><a href="#local-6989586621681035459"><span class="hs-identifier hs-var">sub</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035497"><span class="hs-identifier hs-var">params</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- &#916;^I &#8866; &#916;</span><span>
</span><span id="line-1404"></span><span>                                 </span><span class="hs-comment">-- &#916;^I , i:I &#8866; sub params : &#916;</span><span>
</span><span id="line-1405"></span><span>
</span><span id="line-1406"></span><span>      </span><span class="hs-comment">-- &#926; , &#926; &#8866; &#952; : &#915;, &#926; &#8866; &#966;, &#926; &#8866; u : R (&#948; i0), &#926; &#8866; us : &#934;[&#948; i0]</span><span>
</span><span id="line-1407"></span><span>      </span><span class="hs-special">(</span><span id="local-6989586621681035454"><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035454"><span class="hs-identifier hs-var">tel</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681035453"><span class="annot"><span class="annottext">Substitution
</span><a href="#local-6989586621681035453"><span class="hs-identifier hs-var">theta</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681035452"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035452"><span class="hs-identifier hs-var">the_phi</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681035451"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035451"><span class="hs-identifier hs-var">the_u0</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681035450"><span class="annot"><span class="annottext">[Term]
</span><a href="#local-6989586621681035450"><span class="hs-identifier hs-var">the_fields</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1408"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe Term
</span><a href="#local-6989586621681035500"><span class="hs-identifier hs-var">pathCons</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1409"></span><span>          </span><span class="hs-comment">-- (&#948; : &#916;).&#934; &#8866; u : R &#948;</span><span>
</span><span id="line-1410"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681035449"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035449"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Tele (Dom Type) -&gt; Tele (Dom Type)
forall t. Abstract t =&gt; Tele (Dom Type) -&gt; t -&gt; t
</span><a href="Agda.TypeChecking.Substitute.Class.html#abstract"><span class="hs-identifier hs-var">abstract</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035457"><span class="hs-identifier hs-var">gamma'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Substitution
Substitution' (SubstArg (Tele (Dom Type)))
</span><a href="#local-6989586621681035455"><span class="hs-identifier hs-var">d0</span></a></span><span> </span><span class="annot"><span class="annottext">Substitution' (SubstArg (Tele (Dom Type)))
-&gt; Tele (Dom Type) -&gt; Tele (Dom Type)
forall a. Subst a =&gt; Substitution' (SubstArg a) -&gt; a -&gt; a
</span><a href="Agda.TypeChecking.Substitute.Class.html#applySubst"><span class="hs-operator hs-var">`applySubst`</span></a></span><span> </span><span class="annot"><span class="annottext">(Dom CType -&gt; Dom Type) -&gt; Tele (Dom CType) -&gt; Tele (Dom Type)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(CType -&gt; Type) -&gt; Dom CType -&gt; Dom Type
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">CType -&gt; Type
</span><a href="Agda.TypeChecking.Primitive.Cubical.html#fromCType"><span class="hs-identifier hs-var">fromCType</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Tele (Dom CType)
</span><a href="#local-6989586621681035496"><span class="hs-identifier hs-var">fsT</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- &#926; = &#948; : &#916;^I, &#966; : F, _ : &#934;[&#948; i0]</span><span>
</span><span id="line-1411"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Nat -&gt; Substitution -&gt; Substitution
forall a. Nat -&gt; Substitution' a -&gt; Substitution' a
</span><a href="Agda.TypeChecking.Substitute.Class.html#liftS"><span class="hs-identifier hs-var">liftS</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tele (Dom CType) -&gt; Nat
forall a. Sized a =&gt; a -&gt; Nat
</span><a href="Agda.Utils.Size.html#size"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom CType)
</span><a href="#local-6989586621681035496"><span class="hs-identifier hs-var">fsT</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Substitution
</span><a href="#local-6989586621681035455"><span class="hs-identifier hs-var">d0</span></a></span><span> </span><span class="annot"><span class="annottext">Substitution' (SubstArg Term) -&gt; Term -&gt; Term
forall a. Subst a =&gt; Substitution' (SubstArg a) -&gt; a -&gt; a
</span><a href="Agda.TypeChecking.Substitute.Class.html#applySubst"><span class="hs-operator hs-var">`applySubst`</span></a></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035449"><span class="hs-identifier hs-var">u</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term -&gt; Substitution -&gt; Substitution
forall a. DeBruijn a =&gt; a -&gt; Substitution' a -&gt; Substitution' a
</span><a href="Agda.TypeChecking.Substitute.Class.html#consS"><span class="hs-operator hs-var">`consS`</span></a></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Substitution
forall a. Nat -&gt; Substitution' a
</span><a href="Agda.TypeChecking.Substitute.Class.html#raiseS"><span class="hs-identifier hs-var">raiseS</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tele (Dom CType) -&gt; Nat
forall a. Sized a =&gt; a -&gt; Nat
</span><a href="Agda.Utils.Size.html#size"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom CType)
</span><a href="#local-6989586621681035496"><span class="hs-identifier hs-var">fsT</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1412"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Term -&gt; Term
forall a. Subst a =&gt; Nat -&gt; a -&gt; a
</span><a href="Agda.TypeChecking.Substitute.Class.html#raise"><span class="hs-identifier hs-var">raise</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tele (Dom CType) -&gt; Nat
forall a. Sized a =&gt; a -&gt; Nat
</span><a href="Agda.Utils.Size.html#size"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom CType)
</span><a href="#local-6989586621681035496"><span class="hs-identifier hs-var">fsT</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Nat -&gt; Term
</span><a href="Agda.Syntax.Internal.html#var"><span class="hs-identifier hs-var">var</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span>
</span><span id="line-1413"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Nat -&gt; Substitution -&gt; Substitution
forall a. Nat -&gt; Substitution' a -&gt; Substitution' a
</span><a href="Agda.TypeChecking.Substitute.Class.html#liftS"><span class="hs-identifier hs-var">liftS</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tele (Dom CType) -&gt; Nat
forall a. Sized a =&gt; a -&gt; Nat
</span><a href="Agda.Utils.Size.html#size"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom CType)
</span><a href="#local-6989586621681035496"><span class="hs-identifier hs-var">fsT</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Substitution
</span><a href="#local-6989586621681035455"><span class="hs-identifier hs-var">d0</span></a></span><span> </span><span class="annot"><span class="annottext">Substitution' (SubstArg Term) -&gt; Term -&gt; Term
forall a. Subst a =&gt; Substitution' (SubstArg a) -&gt; a -&gt; a
</span><a href="Agda.TypeChecking.Substitute.Class.html#applySubst"><span class="hs-operator hs-var">`applySubst`</span></a></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035449"><span class="hs-identifier hs-var">u</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1414"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Nat -&gt; [Term] -&gt; [Term]
forall a. Nat -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">drop</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Nat
forall a. Sized a =&gt; a -&gt; Nat
</span><a href="Agda.Utils.Size.html#size"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035457"><span class="hs-identifier hs-var">gamma'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([Term] -&gt; [Term]) -&gt; [Term] -&gt; [Term]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Arg Term -&gt; Term) -&gt; [Arg Term] -&gt; [Term]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Arg Term -&gt; Term
forall e. Arg e -&gt; e
</span><a href="Agda.Syntax.Common.html#unArg"><span class="hs-identifier hs-var">unArg</span></a></span><span> </span><span class="annot"><span class="annottext">([Arg Term] -&gt; [Term]) -&gt; [Arg Term] -&gt; [Term]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; [Arg Term]
forall a t. DeBruijn a =&gt; Tele (Dom t) -&gt; [Arg a]
</span><a href="Agda.TypeChecking.Telescope.html#teleArgs"><span class="hs-identifier hs-var">teleArgs</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035454"><span class="hs-identifier hs-var">tel</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1415"></span><span>          </span><span class="annot"><span class="annottext">Maybe Term
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035468"><span class="hs-identifier hs-var">gamma</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Substitution
forall a. Substitution' a
</span><a href="Agda.Syntax.Internal.html#IdS"><span class="hs-identifier hs-var">IdS</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Term
</span><a href="Agda.Syntax.Internal.html#var"><span class="hs-identifier hs-var">var</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">1</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Term
</span><a href="Agda.Syntax.Internal.html#var"><span class="hs-identifier hs-var">var</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(Arg QName -&gt; Term) -&gt; [Arg QName] -&gt; [Term]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035447"><span class="annot"><span class="annottext">Arg QName
</span><a href="#local-6989586621681035447"><span class="hs-identifier hs-var">fname</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Term
</span><a href="Agda.Syntax.Internal.html#var"><span class="hs-identifier hs-var">var</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Term -&gt; QName -&gt; Term
</span><a href="#local-6989586621681035499"><span class="hs-operator hs-var">`applyProj`</span></a></span><span> </span><span class="annot"><span class="annottext">Arg QName -&gt; QName
forall e. Arg e -&gt; e
</span><a href="Agda.Syntax.Common.html#unArg"><span class="hs-identifier hs-var">unArg</span></a></span><span> </span><span class="annot"><span class="annottext">Arg QName
</span><a href="#local-6989586621681035447"><span class="hs-identifier hs-var">fname</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Arg QName]
</span><a href="#local-6989586621681035495"><span class="hs-identifier hs-var">fns</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-1416"></span><span>
</span><span id="line-1417"></span><span>      </span><span id="local-6989586621681035446"><span class="annot"><span class="annottext">fsT_tel :: Tele (Dom CType)
</span><a href="#local-6989586621681035446"><span class="hs-identifier hs-var hs-var">fsT_tel</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Nat -&gt; Substitution -&gt; Substitution
forall a. Nat -&gt; Substitution' a -&gt; Substitution' a
</span><a href="Agda.TypeChecking.Substitute.Class.html#liftS"><span class="hs-identifier hs-var">liftS</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Nat -&gt; Substitution
forall a. Nat -&gt; Substitution' a
</span><a href="Agda.TypeChecking.Substitute.Class.html#raiseS"><span class="hs-identifier hs-var">raiseS</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Nat
forall a. Sized a =&gt; a -&gt; Nat
</span><a href="Agda.Utils.Size.html#size"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035454"><span class="hs-identifier hs-var">tel</span></a></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Nat -&gt; Nat
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Nat
forall a. Sized a =&gt; a -&gt; Nat
</span><a href="Agda.Utils.Size.html#size"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035492"><span class="hs-identifier hs-var">deltaI</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Substitution -&gt; Substitution -&gt; Substitution
forall a.
EndoSubst a =&gt;
Substitution' a -&gt; Substitution' a -&gt; Substitution' a
</span><a href="Agda.TypeChecking.Substitute.Class.html#composeS"><span class="hs-operator hs-var">`composeS`</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Substitution
forall {a}. Sized a =&gt; a -&gt; Substitution
</span><a href="#local-6989586621681035459"><span class="hs-identifier hs-var">sub</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035497"><span class="hs-identifier hs-var">params</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Substitution' (SubstArg (Tele (Dom CType)))
-&gt; Tele (Dom CType) -&gt; Tele (Dom CType)
forall a. Subst a =&gt; Substitution' (SubstArg a) -&gt; a -&gt; a
</span><a href="Agda.TypeChecking.Substitute.Class.html#applySubst"><span class="hs-operator hs-var">`applySubst`</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom CType)
</span><a href="#local-6989586621681035496"><span class="hs-identifier hs-var">fsT</span></a></span><span>
</span><span id="line-1418"></span><span>
</span><span id="line-1419"></span><span>      </span><span id="local-6989586621681035445"><span class="annot"><span class="annottext">iMin :: Term -&gt; Term -&gt; Term
</span><a href="#local-6989586621681035445"><span class="hs-identifier hs-var hs-var">iMin</span></a></span></span><span> </span><span id="local-6989586621681035444"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035444"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681035443"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035443"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035489"><span class="hs-identifier hs-var">imin</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; [Arg Term] -&gt; Term
forall t. Apply t =&gt; t -&gt; [Arg Term] -&gt; t
</span><a href="Agda.TypeChecking.Substitute.Class.html#apply"><span class="hs-operator hs-var">`apply`</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Term -&gt; Arg Term
forall e. e -&gt; Arg e
</span><a href="Agda.TypeChecking.Primitive.Base.html#argN"><span class="hs-identifier hs-var">argN</span></a></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035444"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term -&gt; Arg Term
forall e. e -&gt; Arg e
</span><a href="Agda.TypeChecking.Primitive.Base.html#argN"><span class="hs-identifier hs-var">argN</span></a></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035443"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1420"></span><span>      </span><span id="local-6989586621681035442"><span class="annot"><span class="annottext">iMax :: Term -&gt; Term -&gt; Term
</span><a href="#local-6989586621681035442"><span class="hs-identifier hs-var hs-var">iMax</span></a></span></span><span> </span><span id="local-6989586621681035441"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035441"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681035440"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035440"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035488"><span class="hs-identifier hs-var">imax</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; [Arg Term] -&gt; Term
forall t. Apply t =&gt; t -&gt; [Arg Term] -&gt; t
</span><a href="Agda.TypeChecking.Substitute.Class.html#apply"><span class="hs-operator hs-var">`apply`</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Term -&gt; Arg Term
forall e. e -&gt; Arg e
</span><a href="Agda.TypeChecking.Primitive.Base.html#argN"><span class="hs-identifier hs-var">argN</span></a></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035441"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term -&gt; Arg Term
forall e. e -&gt; Arg e
</span><a href="Agda.TypeChecking.Primitive.Base.html#argN"><span class="hs-identifier hs-var">argN</span></a></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035440"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1421"></span><span>      </span><span id="local-6989586621681035439"><span class="annot"><span class="annottext">iNeg :: Term -&gt; Term
</span><a href="#local-6989586621681035439"><span class="hs-identifier hs-var hs-var">iNeg</span></a></span></span><span> </span><span id="local-6989586621681035438"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035438"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035487"><span class="hs-identifier hs-var">ineg</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; [Arg Term] -&gt; Term
forall t. Apply t =&gt; t -&gt; [Arg Term] -&gt; t
</span><a href="Agda.TypeChecking.Substitute.Class.html#apply"><span class="hs-operator hs-var">`apply`</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Term -&gt; Arg Term
forall e. e -&gt; Arg e
</span><a href="Agda.TypeChecking.Primitive.Base.html#argN"><span class="hs-identifier hs-var">argN</span></a></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035438"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1422"></span><span>
</span><span id="line-1423"></span><span>      </span><span class="hs-comment">-- .. &#8866; field : filled_ty' i0</span><span>
</span><span id="line-1424"></span><span>      </span><span id="local-6989586621681035437"><span class="annot"><span class="annottext">mkBody :: (Term, Dom CType) -&gt; TCMT IO Term
</span><a href="#local-6989586621681035437"><span class="hs-identifier hs-var hs-var">mkBody</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681035436"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035436"><span class="hs-identifier hs-var">field</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681035435"><span class="annot"><span class="annottext">Dom CType
</span><a href="#local-6989586621681035435"><span class="hs-identifier hs-var">filled_ty'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1425"></span><span>        </span><span class="hs-keyword">let</span><span>
</span><span id="line-1426"></span><span>          </span><span id="local-6989586621681035434"><span class="annot"><span class="annottext">filled_ty :: Term
</span><a href="#local-6989586621681035434"><span class="hs-identifier hs-var hs-var">filled_ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term -&gt; Term
</span><a href="#local-6989586621681035458"><span class="hs-identifier hs-var">lam_i</span></a></span><span> </span><span class="annot"><span class="annottext">(Term -&gt; Term) -&gt; Term -&gt; Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type -&gt; Term
forall t a. Type'' t a -&gt; a
</span><a href="Agda.Syntax.Internal.html#unEl"><span class="hs-identifier hs-var">unEl</span></a></span><span> </span><span class="annot"><span class="annottext">(Type -&gt; Term) -&gt; (Dom CType -&gt; Type) -&gt; Dom CType -&gt; Term
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">CType -&gt; Type
</span><a href="Agda.TypeChecking.Primitive.Cubical.html#fromCType"><span class="hs-identifier hs-var">fromCType</span></a></span><span> </span><span class="annot"><span class="annottext">(CType -&gt; Type) -&gt; (Dom CType -&gt; CType) -&gt; Dom CType -&gt; Type
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Dom CType -&gt; CType
forall t e. Dom' t e -&gt; e
</span><a href="Agda.Syntax.Internal.html#unDom"><span class="hs-identifier hs-var">unDom</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Dom CType
</span><a href="#local-6989586621681035435"><span class="hs-identifier hs-var">filled_ty'</span></a></span><span>
</span><span id="line-1427"></span><span>          </span><span class="hs-comment">-- &#915; &#8866; l : I -&gt; Level of filled_ty</span><span>
</span><span id="line-1428"></span><span>        </span><span class="hs-comment">-- sort &lt;- reduce $ getSort $ unDom filled_ty'</span><span>
</span><span id="line-1429"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Dom CType -&gt; CType
forall t e. Dom' t e -&gt; e
</span><a href="Agda.Syntax.Internal.html#unDom"><span class="hs-identifier hs-var">unDom</span></a></span><span> </span><span class="annot"><span class="annottext">Dom CType
</span><a href="#local-6989586621681035435"><span class="hs-identifier hs-var">filled_ty'</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1430"></span><span>          </span><span class="annot"><a href="Agda.TypeChecking.Primitive.Cubical.html#LType"><span class="hs-identifier hs-type">LType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.TypeChecking.Primitive.Cubical.html#LEl"><span class="hs-identifier hs-type">LEl</span></a></span><span> </span><span id="local-6989586621681035432"><span class="annot"><span class="annottext">Level
</span><a href="#local-6989586621681035432"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Term
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1431"></span><span>            </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681035431"><span class="annot"><span class="annottext">lvl :: Term
</span><a href="#local-6989586621681035431"><span class="hs-identifier hs-var hs-var">lvl</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term -&gt; Term
</span><a href="#local-6989586621681035458"><span class="hs-identifier hs-var">lam_i</span></a></span><span> </span><span class="annot"><span class="annottext">(Term -&gt; Term) -&gt; Term -&gt; Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Level -&gt; Term
</span><a href="Agda.Syntax.Internal.html#Level"><span class="hs-identifier hs-var">Level</span></a></span><span> </span><span class="annot"><span class="annottext">Level
</span><a href="#local-6989586621681035432"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1432"></span><span>            </span><span class="annot"><span class="annottext">Term -&gt; TCMT IO Term
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Term -&gt; TCMT IO Term) -&gt; Term -&gt; TCMT IO Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[ArgName] -&gt; NamesT Fail Term -&gt; Term
forall a. [ArgName] -&gt; NamesT Fail a -&gt; a
</span><a href="Agda.TypeChecking.Names.html#runNames"><span class="hs-identifier hs-var">runNames</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">(NamesT Fail Term -&gt; Term) -&gt; NamesT Fail Term -&gt; Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1433"></span><span>             </span><span id="local-6989586621681035430"><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035430"><span class="hs-identifier hs-var">lvl</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Term -&gt; NamesT Fail (NamesT Fail Term)
forall (m :: * -&gt; *) a.
(MonadFail m, Subst a) =&gt;
a -&gt; NamesT m (NamesT m a)
</span><a href="Agda.TypeChecking.Names.html#open"><span class="hs-identifier hs-var">open</span></a></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035431"><span class="hs-identifier hs-var">lvl</span></a></span><span>
</span><span id="line-1434"></span><span>             </span><span class="hs-special">[</span><span id="local-6989586621681035429"><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035429"><span class="hs-identifier hs-var">phi</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681035428"><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035428"><span class="hs-identifier hs-var">field</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Term -&gt; NamesT Fail (NamesT Fail Term))
-&gt; [Term] -&gt; NamesT Fail [NamesT Fail Term]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">Term -&gt; NamesT Fail (NamesT Fail Term)
forall (m :: * -&gt; *) a.
(MonadFail m, Subst a) =&gt;
a -&gt; NamesT m (NamesT m a)
</span><a href="Agda.TypeChecking.Names.html#open"><span class="hs-identifier hs-var">open</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035452"><span class="hs-identifier hs-var">the_phi</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035436"><span class="hs-identifier hs-var">field</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1435"></span><span>             </span><span class="annot"><span class="annottext">Term -&gt; NamesT Fail Term
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035486"><span class="hs-identifier hs-var">transp</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT Fail Term -&gt; NamesT Fail Term -&gt; NamesT Fail Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%23%3E"><span class="hs-operator hs-var">&lt;#&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035430"><span class="hs-identifier hs-var">lvl</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT Fail Term -&gt; NamesT Fail Term -&gt; NamesT Fail Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; NamesT Fail Term
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035434"><span class="hs-identifier hs-var">filled_ty</span></a></span><span>
</span><span id="line-1436"></span><span>                                 </span><span class="annot"><span class="annottext">NamesT Fail Term -&gt; NamesT Fail Term -&gt; NamesT Fail Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035429"><span class="hs-identifier hs-var">phi</span></a></span><span>
</span><span id="line-1437"></span><span>                                 </span><span class="annot"><span class="annottext">NamesT Fail Term -&gt; NamesT Fail Term -&gt; NamesT Fail Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035428"><span class="hs-identifier hs-var">field</span></a></span><span>
</span><span id="line-1438"></span><span>          </span><span class="hs-comment">-- interval arg</span><span>
</span><span id="line-1439"></span><span>          </span><span class="annot"><a href="Agda.TypeChecking.Primitive.Cubical.html#ClosedType"><span class="hs-identifier hs-type">ClosedType</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>  </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1440"></span><span>            </span><span class="annot"><span class="annottext">Term -&gt; TCMT IO Term
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Term -&gt; TCMT IO Term) -&gt; Term -&gt; TCMT IO Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[ArgName] -&gt; NamesT Fail Term -&gt; Term
forall a. [ArgName] -&gt; NamesT Fail a -&gt; a
</span><a href="Agda.TypeChecking.Names.html#runNames"><span class="hs-identifier hs-var">runNames</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">(NamesT Fail Term -&gt; Term) -&gt; NamesT Fail Term -&gt; Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1441"></span><span>            </span><span class="hs-special">[</span><span id="local-6989586621681035426"><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035426"><span class="hs-identifier hs-var">field</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Term -&gt; NamesT Fail (NamesT Fail Term))
-&gt; [Term] -&gt; NamesT Fail [NamesT Fail Term]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">Term -&gt; NamesT Fail (NamesT Fail Term)
forall (m :: * -&gt; *) a.
(MonadFail m, Subst a) =&gt;
a -&gt; NamesT m (NamesT m a)
</span><a href="Agda.TypeChecking.Names.html#open"><span class="hs-identifier hs-var">open</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035436"><span class="hs-identifier hs-var">field</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1442"></span><span>            </span><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035426"><span class="hs-identifier hs-var">field</span></a></span><span>
</span><span id="line-1443"></span><span>
</span><span id="line-1444"></span><span>  </span><span class="hs-keyword">let</span><span>
</span><span id="line-1445"></span><span>        </span><span class="hs-comment">-- ' &#926; , i : I &#8866; &#964; = [(\ j &#8594; &#948; (i &#8743; j)), &#966; &#8744; ~ i, u] : &#926;</span><span>
</span><span id="line-1446"></span><span>        </span><span id="local-6989586621681035425"><span class="annot"><span class="annottext">tau :: Substitution
</span><a href="#local-6989586621681035425"><span class="hs-identifier hs-var hs-var">tau</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Term] -&gt; Substitution
forall a. DeBruijn a =&gt; [a] -&gt; Substitution' a
</span><a href="Agda.TypeChecking.Substitute.Class.html#parallelS"><span class="hs-identifier hs-var">parallelS</span></a></span><span> </span><span class="annot"><span class="annottext">([Term] -&gt; Substitution) -&gt; [Term] -&gt; Substitution
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Term]
</span><a href="#local-6989586621681035424"><span class="hs-identifier hs-var">us</span></a></span><span> </span><span class="annot"><span class="annottext">[Term] -&gt; [Term] -&gt; [Term]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035423"><span class="hs-identifier hs-var">phi</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; Term -&gt; Term
</span><a href="#local-6989586621681035442"><span class="hs-operator hs-var">`iMax`</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; Term
</span><a href="#local-6989586621681035439"><span class="hs-identifier hs-var">iNeg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Nat -&gt; Term
</span><a href="Agda.Syntax.Internal.html#var"><span class="hs-identifier hs-var">var</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1447"></span><span>                        </span><span class="annot"><span class="annottext">Term -&gt; [Term] -&gt; [Term]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">(Term -&gt; Term) -&gt; [Term] -&gt; [Term]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035422"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035422"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ArgInfo -&gt; Abs Term -&gt; Term
</span><a href="Agda.Syntax.Internal.html#Lam"><span class="hs-identifier hs-var">Lam</span></a></span><span> </span><span class="annot"><span class="annottext">ArgInfo
</span><a href="Agda.Syntax.Common.html#defaultArgInfo"><span class="hs-identifier hs-var">defaultArgInfo</span></a></span><span> </span><span class="annot"><span class="annottext">(Abs Term -&gt; Term) -&gt; Abs Term -&gt; Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; Term -&gt; Abs Term
forall a. ArgName -&gt; a -&gt; Abs a
</span><a href="Agda.Syntax.Internal.html#Abs"><span class="hs-identifier hs-var">Abs</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;i&quot;</span></span><span> </span><span class="annot"><span class="annottext">(Term -&gt; Abs Term) -&gt; Term -&gt; Abs Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Term -&gt; Term
forall a. Subst a =&gt; Nat -&gt; a -&gt; a
</span><a href="Agda.TypeChecking.Substitute.Class.html#raise"><span class="hs-identifier hs-var">raise</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035422"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; [Arg Term] -&gt; Term
forall t. Apply t =&gt; t -&gt; [Arg Term] -&gt; t
</span><a href="Agda.TypeChecking.Substitute.Class.html#apply"><span class="hs-operator hs-var">`apply`</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Term -&gt; Arg Term
forall e. e -&gt; Arg e
</span><a href="Agda.TypeChecking.Primitive.Base.html#argN"><span class="hs-identifier hs-var">argN</span></a></span><span> </span><span class="annot"><span class="annottext">(Term -&gt; Arg Term) -&gt; Term -&gt; Arg Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term -&gt; Term -&gt; Term
</span><a href="#local-6989586621681035445"><span class="hs-identifier hs-var">iMin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Nat -&gt; Term
</span><a href="Agda.Syntax.Internal.html#var"><span class="hs-identifier hs-var">var</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Nat -&gt; Term
</span><a href="Agda.Syntax.Internal.html#var"><span class="hs-identifier hs-var">var</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Term]
</span><a href="#local-6989586621681035421"><span class="hs-identifier hs-var">ds</span></a></span><span>
</span><span id="line-1448"></span><span>         </span><span class="hs-keyword">where</span><span>
</span><span id="line-1449"></span><span>          </span><span class="hs-comment">-- &#926;, i : I</span><span>
</span><span id="line-1450"></span><span>          </span><span class="hs-special">(</span><span id="local-6989586621681035424"><span class="annot"><span class="annottext">[Term]
</span><a href="#local-6989586621681035424"><span class="hs-identifier hs-var">us</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681035423"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035423"><span class="hs-identifier hs-var">phi</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621681035421"><span class="annot"><span class="annottext">[Term]
</span><a href="#local-6989586621681035421"><span class="hs-identifier hs-var">ds</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Nat -&gt; [Term] -&gt; ([Term], [Term])
forall a. Nat -&gt; [a] -&gt; ([a], [a])
</span><span class="hs-identifier hs-var">splitAt</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Nat
forall a. Sized a =&gt; a -&gt; Nat
</span><a href="Agda.Utils.Size.html#size"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035454"><span class="hs-identifier hs-var">tel</span></a></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Nat -&gt; Nat
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Nat
forall a. Sized a =&gt; a -&gt; Nat
</span><a href="Agda.Utils.Size.html#size"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035457"><span class="hs-identifier hs-var">gamma'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([Term] -&gt; ([Term], [Term])) -&gt; [Term] -&gt; ([Term], [Term])
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Term] -&gt; [Term]
forall a. [a] -&gt; [a]
</span><span class="hs-identifier hs-var">reverse</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Nat -&gt; [Term] -&gt; [Term]
forall a. Subst a =&gt; Nat -&gt; a -&gt; a
</span><a href="Agda.TypeChecking.Substitute.Class.html#raise"><span class="hs-identifier hs-var">raise</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Arg Term -&gt; Term) -&gt; [Arg Term] -&gt; [Term]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Arg Term -&gt; Term
forall e. Arg e -&gt; e
</span><a href="Agda.Syntax.Common.html#unArg"><span class="hs-identifier hs-var">unArg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; [Arg Term]
forall a t. DeBruijn a =&gt; Tele (Dom t) -&gt; [Arg a]
</span><a href="Agda.TypeChecking.Telescope.html#teleArgs"><span class="hs-identifier hs-var">teleArgs</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035454"><span class="hs-identifier hs-var">tel</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1451"></span><span>
</span><span id="line-1452"></span><span>  </span><span class="hs-keyword">let</span><span>
</span><span id="line-1453"></span><span>    </span><span id="local-6989586621681035419"><span class="annot"><span class="annottext">go :: [Term] -&gt; [(Term, Dom CType)] -&gt; TCMT IO [Term]
</span><a href="#local-6989586621681035419"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621681035418"><span class="annot"><span class="annottext">[Term]
</span><a href="#local-6989586621681035418"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Term] -&gt; TCMT IO [Term]
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-1454"></span><span>    </span><span class="annot"><a href="#local-6989586621681035419"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621681035417"><span class="annot"><span class="annottext">[Term]
</span><a href="#local-6989586621681035417"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span id="local-6989586621681035416"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035416"><span class="hs-identifier hs-var">fname</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681035415"><span class="annot"><span class="annottext">Dom CType
</span><a href="#local-6989586621681035415"><span class="hs-identifier hs-var">field_ty</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621681035414"><span class="annot"><span class="annottext">[(Term, Dom CType)]
</span><a href="#local-6989586621681035414"><span class="hs-identifier hs-var">ps</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1455"></span><span>      </span><span class="hs-comment">-- &#926;, i : I, &#934;[&#948; i]|_f &#8866; &#934;_f = field_ty</span><span>
</span><span id="line-1456"></span><span>      </span><span class="hs-comment">-- &#926; &#8866; b : field_ty [i := i1][acc]</span><span>
</span><span id="line-1457"></span><span>      </span><span class="hs-comment">-- &#926; &#8866; parallesS acc : &#934;[&#948; i1]|_f</span><span>
</span><span id="line-1458"></span><span>      </span><span class="hs-comment">-- &#926; , i : I &#8866; &#964; = [(\ j &#8594; &#948; (i &#8744; j), &#966; &#8744; ~ i, us] : &#926;</span><span>
</span><span id="line-1459"></span><span>      </span><span class="hs-comment">-- &#926; , i : I &#8866; parallesS (acc[&#964;]) : &#934;[&#948; i1]|_f</span><span>
</span><span id="line-1460"></span><span>      </span><span class="hs-comment">-- &#926;, i : I &#8866; field_ty [parallesS (acc[&#964;])]</span><span>
</span><span id="line-1461"></span><span>      </span><span class="hs-keyword">let</span><span>
</span><span id="line-1462"></span><span>        </span><span id="local-6989586621681035413"><span class="annot"><span class="annottext">filled_ty :: Dom CType
</span><a href="#local-6989586621681035413"><span class="hs-identifier hs-var hs-var">filled_ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Term] -&gt; Substitution
forall a. DeBruijn a =&gt; [a] -&gt; Substitution' a
</span><a href="Agda.TypeChecking.Substitute.Class.html#parallelS"><span class="hs-identifier hs-var">parallelS</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Substitution
Substitution' (SubstArg [Term])
</span><a href="#local-6989586621681035425"><span class="hs-identifier hs-var">tau</span></a></span><span> </span><span class="annot"><span class="annottext">Substitution' (SubstArg [Term]) -&gt; [Term] -&gt; [Term]
forall a. Subst a =&gt; Substitution' (SubstArg a) -&gt; a -&gt; a
</span><a href="Agda.TypeChecking.Substitute.Class.html#applySubst"><span class="hs-operator hs-var">`applySubst`</span></a></span><span> </span><span class="annot"><span class="annottext">[Term]
</span><a href="#local-6989586621681035417"><span class="hs-identifier hs-var">acc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Substitution' (SubstArg (Dom CType)) -&gt; Dom CType -&gt; Dom CType
forall a. Subst a =&gt; Substitution' (SubstArg a) -&gt; a -&gt; a
</span><a href="Agda.TypeChecking.Substitute.Class.html#applySubst"><span class="hs-operator hs-var">`applySubst`</span></a></span><span> </span><span class="annot"><span class="annottext">Dom CType
</span><a href="#local-6989586621681035415"><span class="hs-identifier hs-var">field_ty</span></a></span><span>
</span><span id="line-1463"></span><span>      </span><span id="local-6989586621681035412"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035412"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Term, Dom CType) -&gt; TCMT IO Term
</span><a href="#local-6989586621681035437"><span class="hs-identifier hs-var">mkBody</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035416"><span class="hs-identifier hs-var">fname</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Dom CType
</span><a href="#local-6989586621681035413"><span class="hs-identifier hs-var">filled_ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1464"></span><span>      </span><span id="local-6989586621681035411"><span class="annot"><span class="annottext">[Term]
</span><a href="#local-6989586621681035411"><span class="hs-identifier hs-var">bs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Term] -&gt; [(Term, Dom CType)] -&gt; TCMT IO [Term]
</span><a href="#local-6989586621681035419"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035412"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; [Term] -&gt; [Term]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[Term]
</span><a href="#local-6989586621681035417"><span class="hs-identifier hs-var">acc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(Term, Dom CType)]
</span><a href="#local-6989586621681035414"><span class="hs-identifier hs-var">ps</span></a></span><span>
</span><span id="line-1465"></span><span>      </span><span class="annot"><span class="annottext">[Term] -&gt; TCMT IO [Term]
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">([Term] -&gt; TCMT IO [Term]) -&gt; [Term] -&gt; TCMT IO [Term]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035412"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; [Term] -&gt; [Term]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[Term]
</span><a href="#local-6989586621681035411"><span class="hs-identifier hs-var">bs</span></a></span><span>
</span><span id="line-1466"></span><span>
</span><span id="line-1467"></span><span>  </span><span id="local-6989586621681035410"><span class="annot"><span class="annottext">[Term]
</span><a href="#local-6989586621681035410"><span class="hs-identifier hs-var">bodys</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Term] -&gt; [(Term, Dom CType)] -&gt; TCMT IO [Term]
</span><a href="#local-6989586621681035419"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Term] -&gt; [Dom CType] -&gt; [(Term, Dom CType)]
forall a b. [a] -&gt; [b] -&gt; [(a, b)]
</span><span class="hs-identifier hs-var">zip</span></span><span> </span><span class="annot"><span class="annottext">[Term]
</span><a href="#local-6989586621681035450"><span class="hs-identifier hs-var">the_fields</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Dom' Term (ArgName, CType) -&gt; Dom CType)
-&gt; [Dom' Term (ArgName, CType)] -&gt; [Dom CType]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((ArgName, CType) -&gt; CType)
-&gt; Dom' Term (ArgName, CType) -&gt; Dom CType
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">(ArgName, CType) -&gt; CType
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([Dom' Term (ArgName, CType)] -&gt; [Dom CType])
-&gt; [Dom' Term (ArgName, CType)] -&gt; [Dom CType]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Tele (Dom CType) -&gt; [Dom' Term (ArgName, CType)]
forall t. Tele (Dom t) -&gt; [Dom (ArgName, t)]
</span><a href="Agda.Syntax.Internal.html#telToList"><span class="hs-identifier hs-var">telToList</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom CType)
</span><a href="#local-6989586621681035446"><span class="hs-identifier hs-var">fsT_tel</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- &#8704; f.  &#926;, i : I, &#934;[&#948; i]|_f &#8866; &#934;[&#948; i]_f</span><span>
</span><span id="line-1468"></span><span>  </span><span class="hs-keyword">let</span><span>
</span><span id="line-1469"></span><span>    </span><span class="hs-comment">-- &#926;, i : I &#8866; ... : &#916;.&#934;</span><span>
</span><span id="line-1470"></span><span>    </span><span id="local-6989586621681035409"><span class="annot"><span class="annottext">theSubst :: Substitution
</span><a href="#local-6989586621681035409"><span class="hs-identifier hs-var hs-var">theSubst</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Term] -&gt; [Term]
forall a. [a] -&gt; [a]
</span><span class="hs-identifier hs-var">reverse</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Substitution
Substitution' (SubstArg [Term])
</span><a href="#local-6989586621681035425"><span class="hs-identifier hs-var">tau</span></a></span><span> </span><span class="annot"><span class="annottext">Substitution' (SubstArg [Term]) -&gt; [Term] -&gt; [Term]
forall a. Subst a =&gt; Substitution' (SubstArg a) -&gt; a -&gt; a
</span><a href="Agda.TypeChecking.Substitute.Class.html#applySubst"><span class="hs-operator hs-var">`applySubst`</span></a></span><span> </span><span class="annot"><span class="annottext">[Term]
</span><a href="#local-6989586621681035410"><span class="hs-identifier hs-var">bodys</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Term] -&gt; Substitution -&gt; Substitution
forall a. DeBruijn a =&gt; [a] -&gt; Substitution' a -&gt; Substitution' a
</span><a href="Agda.TypeChecking.Substitute.Class.html#%2B%2B%23"><span class="hs-operator hs-var">++#</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Nat -&gt; Substitution -&gt; Substitution
forall a. Nat -&gt; Substitution' a -&gt; Substitution' a
</span><a href="Agda.TypeChecking.Substitute.Class.html#liftS"><span class="hs-identifier hs-var">liftS</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Nat -&gt; Substitution
forall a. Nat -&gt; Substitution' a
</span><a href="Agda.TypeChecking.Substitute.Class.html#raiseS"><span class="hs-identifier hs-var">raiseS</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Nat
forall a. Sized a =&gt; a -&gt; Nat
</span><a href="Agda.Utils.Size.html#size"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035454"><span class="hs-identifier hs-var">tel</span></a></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Nat -&gt; Nat
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Nat
forall a. Sized a =&gt; a -&gt; Nat
</span><a href="Agda.Utils.Size.html#size"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035492"><span class="hs-identifier hs-var">deltaI</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Substitution -&gt; Substitution -&gt; Substitution
forall a.
EndoSubst a =&gt;
Substitution' a -&gt; Substitution' a -&gt; Substitution' a
</span><a href="Agda.TypeChecking.Substitute.Class.html#composeS"><span class="hs-operator hs-var">`composeS`</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Substitution
forall {a}. Sized a =&gt; a -&gt; Substitution
</span><a href="#local-6989586621681035459"><span class="hs-identifier hs-var">sub</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035497"><span class="hs-identifier hs-var">params</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1471"></span><span>  </span><span class="annot"><span class="annottext">((QName, Tele (Dom Type), Type, [Dom Type], [Term]), Substitution)
-&gt; TCMT
     IO
     ((QName, Tele (Dom Type), Type, [Dom Type], [Term]), Substitution)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(((QName, Tele (Dom Type), Type, [Dom Type], [Term]), Substitution)
 -&gt; TCMT
      IO
      ((QName, Tele (Dom Type), Type, [Dom Type], [Term]), Substitution))
-&gt; ((QName, Tele (Dom Type), Type, [Dom Type], [Term]),
    Substitution)
-&gt; TCMT
     IO
     ((QName, Tele (Dom Type), Type, [Dom Type], [Term]), Substitution)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681035483"><span class="hs-identifier hs-var">theName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035454"><span class="hs-identifier hs-var">tel</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Substitution
Substitution' (SubstArg Type)
</span><a href="#local-6989586621681035453"><span class="hs-identifier hs-var">theta</span></a></span><span> </span><span class="annot"><span class="annottext">Substitution' (SubstArg Type) -&gt; Type -&gt; Type
forall a. Subst a =&gt; Substitution' (SubstArg a) -&gt; a -&gt; a
</span><a href="Agda.TypeChecking.Substitute.Class.html#applySubst"><span class="hs-operator hs-var">`applySubst`</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035467"><span class="hs-identifier hs-var">rtype</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(Dom CType -&gt; Dom Type) -&gt; [Dom CType] -&gt; [Dom Type]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(CType -&gt; Type) -&gt; Dom CType -&gt; Dom Type
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">CType -&gt; Type
</span><a href="Agda.TypeChecking.Primitive.Cubical.html#fromCType"><span class="hs-identifier hs-var">fromCType</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Dom CType]
</span><a href="#local-6989586621681035465"><span class="hs-identifier hs-var">clause_types</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Term]
</span><a href="#local-6989586621681035410"><span class="hs-identifier hs-var">bodys</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Substitution
</span><a href="#local-6989586621681035409"><span class="hs-identifier hs-var">theSubst</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1472"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1473"></span><span>    </span><span class="hs-comment">-- record type in 'exponentiated' context</span><span>
</span><span id="line-1474"></span><span>    </span><span class="hs-comment">-- (params : &#916;^I), i : I |- T[params i]</span><span>
</span><span id="line-1475"></span><span>    </span><span id="local-6989586621681035471"><span class="annot"><span class="annottext">rect' :: Type
</span><a href="#local-6989586621681035471"><span class="hs-identifier hs-var hs-var">rect'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Substitution
forall {a}. Sized a =&gt; a -&gt; Substitution
</span><a href="#local-6989586621681035459"><span class="hs-identifier hs-var">sub</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035497"><span class="hs-identifier hs-var">params</span></a></span><span> </span><span class="annot"><span class="annottext">Substitution' (SubstArg Type) -&gt; Type -&gt; Type
forall a. Subst a =&gt; Substitution' (SubstArg a) -&gt; a -&gt; a
</span><a href="Agda.TypeChecking.Substitute.Class.html#applySubst"><span class="hs-operator hs-var">`applySubst`</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035494"><span class="hs-identifier hs-var">rect</span></a></span><span>
</span><span id="line-1476"></span><span>    </span><span class="hs-comment">-- &#916;^I, i : I |- sub &#916; : &#916;</span><span>
</span><span id="line-1477"></span><span>    </span><span id="local-6989586621681035459"><span class="annot"><span class="annottext">sub :: a -&gt; Substitution
</span><a href="#local-6989586621681035459"><span class="hs-identifier hs-var hs-var">sub</span></a></span></span><span> </span><span id="local-6989586621681035406"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681035406"><span class="hs-identifier hs-var">tel</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Substitution
</span><a href="Agda.TypeChecking.Primitive.Cubical.html#expS"><span class="hs-identifier hs-var">expS</span></a></span><span> </span><span class="annot"><span class="annottext">(Nat -&gt; Substitution) -&gt; Nat -&gt; Substitution
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; Nat
forall a. Sized a =&gt; a -&gt; Nat
</span><a href="Agda.Utils.Size.html#size"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681035406"><span class="hs-identifier hs-var">tel</span></a></span><span>
</span><span id="line-1478"></span><span>
</span><span id="line-1479"></span><span class="hs-comment">-- invariant: resulting tel &#915; is such that &#915; = (&#948; : &#916;), (&#966; : I), (u : ...), (a0 : R &#948;))</span><span>
</span><span id="line-1480"></span><span class="hs-comment">--            where u and a0 have types matching the arguments of primHComp.</span><span>
</span><span id="line-1481"></span><span class="annot"><a href="Agda.TypeChecking.Rules.Data.html#defineHCompForFields"><span class="hs-identifier hs-type">defineHCompForFields</span></a></span><span>
</span><span id="line-1482"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Abstract.Name.html#QName"><span class="hs-identifier hs-type">QName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- ^ how to apply a &quot;projection&quot; to a term</span><span>
</span><span id="line-1483"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Abstract.Name.html#QName"><span class="hs-identifier hs-type">QName</span></a></span><span>       </span><span class="hs-comment">-- ^ some name, e.g. record name</span><span>
</span><span id="line-1484"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Telescope"><span class="hs-identifier hs-type">Telescope</span></a></span><span>   </span><span class="hs-comment">-- ^ param types &#916;</span><span>
</span><span id="line-1485"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Tele"><span class="hs-identifier hs-type">Tele</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Internal.html#Dom"><span class="hs-identifier hs-type">Dom</span></a></span><span> </span><span class="annot"><a href="Agda.TypeChecking.Primitive.Cubical.html#LType"><span class="hs-identifier hs-type">LType</span></a></span><span class="hs-special">)</span><span>   </span><span class="hs-comment">-- ^ fields' types &#916; &#8866; &#934;</span><span>
</span><span id="line-1486"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Agda.Syntax.Common.html#Arg"><span class="hs-identifier hs-type">Arg</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Abstract.Name.html#QName"><span class="hs-identifier hs-type">QName</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-comment">-- ^ fields' names</span><span>
</span><span id="line-1487"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Primitive.Cubical.html#LType"><span class="hs-identifier hs-type">LType</span></a></span><span>        </span><span class="hs-comment">-- ^ record type (&#948; : &#916;) &#8866; R[&#948;]</span><span>
</span><span id="line-1488"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#TCM"><span class="hs-identifier hs-type">TCM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Abstract.Name.html#QName"><span class="hs-identifier hs-type">QName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Telescope"><span class="hs-identifier hs-type">Telescope</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Agda.Syntax.Internal.html#Dom"><span class="hs-identifier hs-type">Dom</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">,</span><span class="annot"><a href="Agda.Syntax.Internal.html#Substitution"><span class="hs-identifier hs-type">Substitution</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1489"></span><span id="defineHCompForFields"><span class="annot"><span class="annottext">defineHCompForFields :: (Term -&gt; QName -&gt; Term)
-&gt; QName
-&gt; Tele (Dom Type)
-&gt; Tele (Dom LType)
-&gt; [Arg QName]
-&gt; LType
-&gt; TCMT
     IO
     ((QName, Tele (Dom Type), Type, [Dom Type], [Term]), Substitution)
</span><a href="Agda.TypeChecking.Rules.Data.html#defineHCompForFields"><span class="hs-identifier hs-var hs-var">defineHCompForFields</span></a></span></span><span> </span><span id="local-6989586621681035405"><span class="annot"><span class="annottext">Term -&gt; QName -&gt; Term
</span><a href="#local-6989586621681035405"><span class="hs-identifier hs-var">applyProj</span></a></span></span><span> </span><span id="local-6989586621681035404"><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681035404"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span id="local-6989586621681035403"><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035403"><span class="hs-identifier hs-var">params</span></a></span></span><span> </span><span id="local-6989586621681035402"><span class="annot"><span class="annottext">Tele (Dom LType)
</span><a href="#local-6989586621681035402"><span class="hs-identifier hs-var">fsT</span></a></span></span><span> </span><span id="local-6989586621681035401"><span class="annot"><span class="annottext">[Arg QName]
</span><a href="#local-6989586621681035401"><span class="hs-identifier hs-var">fns</span></a></span></span><span> </span><span id="local-6989586621681035400"><span class="annot"><span class="annottext">LType
</span><a href="#local-6989586621681035400"><span class="hs-identifier hs-var">rect</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1490"></span><span>  </span><span id="local-6989586621681035399"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035399"><span class="hs-identifier hs-var">interval</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TCMT IO Type
forall (m :: * -&gt; *).
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
m Type
</span><a href="Agda.TypeChecking.Primitive.Cubical.html#primIntervalType"><span class="hs-identifier hs-var">primIntervalType</span></a></span><span>
</span><span id="line-1491"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681035398"><span class="annot"><span class="annottext">delta :: Tele (Dom Type)
</span><a href="#local-6989586621681035398"><span class="hs-identifier hs-var hs-var">delta</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035403"><span class="hs-identifier hs-var">params</span></a></span><span>
</span><span id="line-1492"></span><span>  </span><span id="local-6989586621681035397"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035397"><span class="hs-identifier hs-var">iz</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TCMT IO Term
forall (m :: * -&gt; *).
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
m Term
</span><a href="Agda.TypeChecking.Monad.Builtin.html#primIZero"><span class="hs-identifier hs-var">primIZero</span></a></span><span>
</span><span id="line-1493"></span><span>  </span><span id="local-6989586621681035396"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035396"><span class="hs-identifier hs-var">io</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TCMT IO Term
forall (m :: * -&gt; *).
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
m Term
</span><a href="Agda.TypeChecking.Monad.Builtin.html#primIOne"><span class="hs-identifier hs-var">primIOne</span></a></span><span>
</span><span id="line-1494"></span><span>  </span><span id="local-6989586621681035395"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035395"><span class="hs-identifier hs-var">imin</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; TCMT IO Term
forall (m :: * -&gt; *).
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
ArgName -&gt; m Term
</span><a href="Agda.TypeChecking.Monad.Builtin.html#getPrimitiveTerm"><span class="hs-identifier hs-var">getPrimitiveTerm</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;primIMin&quot;</span></span><span>
</span><span id="line-1495"></span><span>  </span><span id="local-6989586621681035394"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035394"><span class="hs-identifier hs-var">imax</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; TCMT IO Term
forall (m :: * -&gt; *).
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
ArgName -&gt; m Term
</span><a href="Agda.TypeChecking.Monad.Builtin.html#getPrimitiveTerm"><span class="hs-identifier hs-var">getPrimitiveTerm</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;primIMax&quot;</span></span><span>
</span><span id="line-1496"></span><span>  </span><span id="local-6989586621681035393"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035393"><span class="hs-identifier hs-var">tIMax</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; TCMT IO Term
forall (m :: * -&gt; *).
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
ArgName -&gt; m Term
</span><a href="Agda.TypeChecking.Monad.Builtin.html#getPrimitiveTerm"><span class="hs-identifier hs-var">getPrimitiveTerm</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;primIMax&quot;</span></span><span>
</span><span id="line-1497"></span><span>  </span><span id="local-6989586621681035392"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035392"><span class="hs-identifier hs-var">ineg</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; TCMT IO Term
forall (m :: * -&gt; *).
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
ArgName -&gt; m Term
</span><a href="Agda.TypeChecking.Monad.Builtin.html#getPrimitiveTerm"><span class="hs-identifier hs-var">getPrimitiveTerm</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;primINeg&quot;</span></span><span>
</span><span id="line-1498"></span><span>  </span><span id="local-6989586621681035391"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035391"><span class="hs-identifier hs-var">hcomp</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; TCMT IO Term
forall (m :: * -&gt; *).
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
ArgName -&gt; m Term
</span><a href="Agda.TypeChecking.Monad.Builtin.html#getPrimitiveTerm"><span class="hs-identifier hs-var">getPrimitiveTerm</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><a href="Agda.Syntax.Builtin.html#builtinHComp"><span class="hs-identifier hs-var">builtinHComp</span></a></span><span>
</span><span id="line-1499"></span><span>  </span><span id="local-6989586621681035390"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035390"><span class="hs-identifier hs-var">transp</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; TCMT IO Term
forall (m :: * -&gt; *).
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
ArgName -&gt; m Term
</span><a href="Agda.TypeChecking.Monad.Builtin.html#getPrimitiveTerm"><span class="hs-identifier hs-var">getPrimitiveTerm</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><a href="Agda.Syntax.Builtin.html#builtinTrans"><span class="hs-identifier hs-var">builtinTrans</span></a></span><span>
</span><span id="line-1500"></span><span>  </span><span id="local-6989586621681035389"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035389"><span class="hs-identifier hs-var">por</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; TCMT IO Term
forall (m :: * -&gt; *).
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
ArgName -&gt; m Term
</span><a href="Agda.TypeChecking.Monad.Builtin.html#getPrimitiveTerm"><span class="hs-identifier hs-var">getPrimitiveTerm</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;primPOr&quot;</span></span><span>
</span><span id="line-1501"></span><span>  </span><span id="local-6989586621681035388"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035388"><span class="hs-identifier hs-var">one</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TCMT IO Term
forall (m :: * -&gt; *).
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
m Term
</span><a href="Agda.TypeChecking.Monad.Builtin.html#primItIsOne"><span class="hs-identifier hs-var">primItIsOne</span></a></span><span>
</span><span id="line-1502"></span><span>  </span><span class="annot"><span class="annottext">ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; TCM ()
forall (m :: * -&gt; *).
MonadDebug m =&gt;
ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; m ()
</span><a href="Agda.TypeChecking.Monad.Debug.html#reportSDoc"><span class="hs-identifier hs-var">reportSDoc</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;comp.rec&quot;</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">20</span></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Doc -&gt; TCM ()) -&gt; TCMT IO Doc -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; ArgName -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">(ArgName -&gt; TCMT IO Doc) -&gt; ArgName -&gt; TCMT IO Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; ArgName
forall a. Show a =&gt; a -&gt; ArgName
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035403"><span class="hs-identifier hs-var">params</span></a></span><span>
</span><span id="line-1503"></span><span>  </span><span class="annot"><span class="annottext">ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; TCM ()
forall (m :: * -&gt; *).
MonadDebug m =&gt;
ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; m ()
</span><a href="Agda.TypeChecking.Monad.Debug.html#reportSDoc"><span class="hs-identifier hs-var">reportSDoc</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;comp.rec&quot;</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">20</span></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Doc -&gt; TCM ()) -&gt; TCMT IO Doc -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; ArgName -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">(ArgName -&gt; TCMT IO Doc) -&gt; ArgName -&gt; TCMT IO Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; ArgName
forall a. Show a =&gt; a -&gt; ArgName
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035398"><span class="hs-identifier hs-var">delta</span></a></span><span>
</span><span id="line-1504"></span><span>  </span><span class="annot"><span class="annottext">ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; TCM ()
forall (m :: * -&gt; *).
MonadDebug m =&gt;
ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; m ()
</span><a href="Agda.TypeChecking.Monad.Debug.html#reportSDoc"><span class="hs-identifier hs-var">reportSDoc</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;comp.rec&quot;</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">10</span></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Doc -&gt; TCM ()) -&gt; TCMT IO Doc -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; ArgName -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">(ArgName -&gt; TCMT IO Doc) -&gt; ArgName -&gt; TCMT IO Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Tele (Dom LType) -&gt; ArgName
forall a. Show a =&gt; a -&gt; ArgName
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Tele (Dom LType)
</span><a href="#local-6989586621681035402"><span class="hs-identifier hs-var">fsT</span></a></span><span>
</span><span id="line-1505"></span><span>
</span><span id="line-1506"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681035386"><span class="annot"><span class="annottext">thePrefix :: ArgName
</span><a href="#local-6989586621681035386"><span class="hs-identifier hs-var hs-var">thePrefix</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;hcomp-&quot;</span></span><span>
</span><span id="line-1507"></span><span>  </span><span id="local-6989586621681035385"><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681035385"><span class="hs-identifier hs-var">theName</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; TCMT IO QName
</span><a href="Agda.TypeChecking.Rules.Data.html#freshAbstractQName%27_"><span class="hs-identifier hs-var">freshAbstractQName'_</span></a></span><span> </span><span class="annot"><span class="annottext">(ArgName -&gt; TCMT IO QName) -&gt; ArgName -&gt; TCMT IO QName
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><a href="#local-6989586621681035386"><span class="hs-identifier hs-var">thePrefix</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; ArgName -&gt; ArgName
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; ArgName
forall a. Pretty a =&gt; a -&gt; ArgName
</span><a href="Agda.Utils.Pretty.html#prettyShow"><span class="hs-identifier hs-var">P.prettyShow</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">QName -&gt; Name
</span><a href="Agda.Syntax.Abstract.Name.html#qnameName"><span class="hs-identifier hs-var">A.qnameName</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681035404"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1508"></span><span>
</span><span id="line-1509"></span><span>  </span><span class="annot"><span class="annottext">ArgName -&gt; Nat -&gt; ArgName -&gt; TCM ()
forall (m :: * -&gt; *).
MonadDebug m =&gt;
ArgName -&gt; Nat -&gt; ArgName -&gt; m ()
</span><a href="Agda.TypeChecking.Monad.Debug.html#reportSLn"><span class="hs-identifier hs-var">reportSLn</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;hcomp.rec&quot;</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">5</span></span><span> </span><span class="annot"><span class="annottext">(ArgName -&gt; TCM ()) -&gt; ArgName -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;Generated name: &quot;</span></span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; ArgName -&gt; ArgName
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">QName -&gt; ArgName
forall a. Show a =&gt; a -&gt; ArgName
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681035385"><span class="hs-identifier hs-var">theName</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; ArgName -&gt; ArgName
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot; &quot;</span></span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; ArgName -&gt; ArgName
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">QName -&gt; ArgName
</span><a href="Agda.Syntax.Abstract.Name.html#showQNameId"><span class="hs-identifier hs-var">showQNameId</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681035385"><span class="hs-identifier hs-var">theName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1510"></span><span>
</span><span id="line-1511"></span><span>  </span><span id="local-6989586621681035384"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035384"><span class="hs-identifier hs-var">theType</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Type -&gt; Type
forall t. Abstract t =&gt; Tele (Dom Type) -&gt; t -&gt; t
</span><a href="Agda.TypeChecking.Substitute.Class.html#abstract"><span class="hs-identifier hs-var">abstract</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035398"><span class="hs-identifier hs-var">delta</span></a></span><span> </span><span class="annot"><span class="annottext">(Type -&gt; Type) -&gt; TCMT IO Type -&gt; TCMT IO Type
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(TCMT IO Type -&gt; TCMT IO Type) -&gt; TCMT IO Type -&gt; TCMT IO Type
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[ArgName] -&gt; NamesT (TCMT IO) Type -&gt; TCMT IO Type
forall (m :: * -&gt; *) a. [ArgName] -&gt; NamesT m a -&gt; m a
</span><a href="Agda.TypeChecking.Names.html#runNamesT"><span class="hs-identifier hs-var">runNamesT</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">(NamesT (TCMT IO) Type -&gt; TCMT IO Type)
-&gt; NamesT (TCMT IO) Type -&gt; TCMT IO Type
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1512"></span><span>              </span><span id="local-6989586621681035383"><span class="annot"><span class="annottext">NamesT (TCMT IO) Type
</span><a href="#local-6989586621681035383"><span class="hs-identifier hs-var">rect</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Type -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) Type)
forall (m :: * -&gt; *) a.
(MonadFail m, Subst a) =&gt;
a -&gt; NamesT m (NamesT m a)
</span><a href="Agda.TypeChecking.Names.html#open"><span class="hs-identifier hs-var">open</span></a></span><span> </span><span class="annot"><span class="annottext">(Type -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) Type))
-&gt; Type -&gt; NamesT (TCMT IO) (NamesT (TCMT IO) Type)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">LType -&gt; Type
</span><a href="Agda.TypeChecking.Primitive.Cubical.html#fromLType"><span class="hs-identifier hs-var">fromLType</span></a></span><span> </span><span class="annot"><span class="annottext">LType
</span><a href="#local-6989586621681035400"><span class="hs-identifier hs-var">rect</span></a></span><span>
</span><span id="line-1513"></span><span>              </span><span class="annot"><span class="annottext">ArgName
-&gt; NamesT (TCMT IO) Type
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Type)
-&gt; NamesT (TCMT IO) Type
forall (m :: * -&gt; *).
(MonadFail m, MonadAddContext m, MonadDebug m) =&gt;
ArgName
-&gt; NamesT m Type
-&gt; (NamesT m Term -&gt; NamesT m Type)
-&gt; NamesT m Type
</span><a href="Agda.TypeChecking.Primitive.Base.html#nPi%27"><span class="hs-identifier hs-var">nPi'</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;phi&quot;</span></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Type
forall (m :: * -&gt; *).
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
m Type
</span><a href="Agda.TypeChecking.Primitive.Cubical.html#primIntervalType"><span class="hs-identifier hs-var">primIntervalType</span></a></span><span> </span><span class="annot"><span class="annottext">((NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Type)
 -&gt; NamesT (TCMT IO) Type)
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Type)
-&gt; NamesT (TCMT IO) Type
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035381"><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035381"><span class="hs-identifier hs-var">phi</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1514"></span><span>               </span><span class="annot"><span class="annottext">ArgName
-&gt; NamesT (TCMT IO) Type
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Type)
-&gt; NamesT (TCMT IO) Type
forall (m :: * -&gt; *).
(MonadFail m, MonadAddContext m, MonadDebug m) =&gt;
ArgName
-&gt; NamesT m Type
-&gt; (NamesT m Term -&gt; NamesT m Type)
-&gt; NamesT m Type
</span><a href="Agda.TypeChecking.Primitive.Base.html#nPi%27"><span class="hs-identifier hs-var">nPi'</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;i&quot;</span></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Type
forall (m :: * -&gt; *).
(HasBuiltins m, MonadError TCErr m, MonadTCEnv m, ReadTCState m) =&gt;
m Type
</span><a href="Agda.TypeChecking.Primitive.Cubical.html#primIntervalType"><span class="hs-identifier hs-var">primIntervalType</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035380"><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035380"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1515"></span><span>                </span><span class="annot"><span class="annottext">ArgName
-&gt; NamesT (TCMT IO) Term
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Type)
-&gt; NamesT (TCMT IO) Type
forall (m :: * -&gt; *).
(MonadAddContext m, HasBuiltins m, MonadDebug m) =&gt;
ArgName
-&gt; NamesT m Term
-&gt; (NamesT m Term -&gt; NamesT m Type)
-&gt; NamesT m Type
</span><a href="Agda.TypeChecking.Primitive.Base.html#pPi%27"><span class="hs-identifier hs-var">pPi'</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;o&quot;</span></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><a href="#local-6989586621681035381"><span class="hs-identifier hs-var">phi</span></a></span><span> </span><span class="annot"><span class="annottext">((NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Type)
 -&gt; NamesT (TCMT IO) Type)
-&gt; (NamesT (TCMT IO) Term -&gt; NamesT (TCMT IO) Type)
-&gt; NamesT (TCMT IO) Type
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Term
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Type
</span><a href="#local-6989586621681035383"><span class="hs-identifier hs-var">rect</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Type
-&gt; NamesT (TCMT IO) Type -&gt; NamesT (TCMT IO) Type
forall (m :: * -&gt; *). Applicative m =&gt; m Type -&gt; m Type -&gt; m Type
</span><a href="Agda.TypeChecking.Primitive.Base.html#--%3E"><span class="hs-operator hs-var">--&gt;</span></a></span><span>
</span><span id="line-1516"></span><span>               </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Type
</span><a href="#local-6989586621681035383"><span class="hs-identifier hs-var">rect</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Type
-&gt; NamesT (TCMT IO) Type -&gt; NamesT (TCMT IO) Type
forall (m :: * -&gt; *). Applicative m =&gt; m Type -&gt; m Type -&gt; m Type
</span><a href="Agda.TypeChecking.Primitive.Base.html#--%3E"><span class="hs-operator hs-var">--&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT (TCMT IO) Type
</span><a href="#local-6989586621681035383"><span class="hs-identifier hs-var">rect</span></a></span><span>
</span><span id="line-1517"></span><span>
</span><span id="line-1518"></span><span>  </span><span class="annot"><span class="annottext">ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; TCM ()
forall (m :: * -&gt; *).
MonadDebug m =&gt;
ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; m ()
</span><a href="Agda.TypeChecking.Monad.Debug.html#reportSDoc"><span class="hs-identifier hs-var">reportSDoc</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;hcomp.rec&quot;</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">20</span></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Doc -&gt; TCM ()) -&gt; TCMT IO Doc -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Type -&gt; TCMT IO Doc
forall a (m :: * -&gt; *). (PrettyTCM a, MonadPretty m) =&gt; a -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#prettyTCM"><span class="hs-identifier hs-var">prettyTCM</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035384"><span class="hs-identifier hs-var">theType</span></a></span><span>
</span><span id="line-1519"></span><span>  </span><span class="annot"><span class="annottext">ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; TCM ()
forall (m :: * -&gt; *).
MonadDebug m =&gt;
ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; m ()
</span><a href="Agda.TypeChecking.Monad.Debug.html#reportSDoc"><span class="hs-identifier hs-var">reportSDoc</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;hcomp.rec&quot;</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">60</span></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Doc -&gt; TCM ()) -&gt; TCMT IO Doc -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; ArgName -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">(ArgName -&gt; TCMT IO Doc) -&gt; ArgName -&gt; TCMT IO Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;sort = &quot;</span></span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; ArgName -&gt; ArgName
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Level -&gt; ArgName
forall a. Show a =&gt; a -&gt; ArgName
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LType -&gt; Level
</span><a href="Agda.TypeChecking.Primitive.Cubical.html#lTypeLevel"><span class="hs-identifier hs-var">lTypeLevel</span></a></span><span> </span><span class="annot"><span class="annottext">LType
</span><a href="#local-6989586621681035400"><span class="hs-identifier hs-var">rect</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1520"></span><span>
</span><span id="line-1521"></span><span>  </span><span id="local-6989586621681035377"><span class="annot"><span class="annottext">Language
</span><a href="#local-6989586621681035377"><span class="hs-identifier hs-var">lang</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TCMT IO Language
forall (m :: * -&gt; *). HasOptions m =&gt; m Language
</span><a href="Agda.TypeChecking.Monad.Options.html#getLanguage"><span class="hs-identifier hs-var">getLanguage</span></a></span><span>
</span><span id="line-1522"></span><span>  </span><span class="annot"><span class="annottext">TCM () -&gt; TCM ()
forall a. TCM a -&gt; TCM a
</span><a href="Agda.TypeChecking.Monad.Mutual.html#noMutualBlock"><span class="hs-identifier hs-var">noMutualBlock</span></a></span><span> </span><span class="annot"><span class="annottext">(TCM () -&gt; TCM ()) -&gt; TCM () -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">QName -&gt; Definition -&gt; TCM ()
</span><a href="Agda.TypeChecking.Monad.Signature.html#addConstant"><span class="hs-identifier hs-var">addConstant</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681035385"><span class="hs-identifier hs-var">theName</span></a></span><span> </span><span class="annot"><span class="annottext">(Definition -&gt; TCM ()) -&gt; Definition -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1523"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ArgInfo -&gt; QName -&gt; Type -&gt; Language -&gt; Defn -&gt; Definition
</span><a href="Agda.TypeChecking.Monad.Base.html#defaultDefn"><span class="hs-identifier hs-var">defaultDefn</span></a></span><span> </span><span class="annot"><span class="annottext">ArgInfo
</span><a href="Agda.Syntax.Common.html#defaultArgInfo"><span class="hs-identifier hs-var">defaultArgInfo</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681035385"><span class="hs-identifier hs-var">theName</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035384"><span class="hs-identifier hs-var">theType</span></a></span><span> </span><span class="annot"><span class="annottext">Language
</span><a href="#local-6989586621681035377"><span class="hs-identifier hs-var">lang</span></a></span><span>
</span><span id="line-1524"></span><span>       </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Defn
</span><a href="Agda.TypeChecking.Monad.Base.html#emptyFunction"><span class="hs-identifier hs-var">emptyFunction</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">funTerminates :: Maybe Bool
</span><a href="Agda.TypeChecking.Monad.Base.html#funTerminates"><span class="hs-identifier hs-var">funTerminates</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Maybe Bool
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1525"></span><span>      </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">defNoCompilation :: Bool
</span><a href="Agda.TypeChecking.Monad.Base.html#defNoCompilation"><span class="hs-identifier hs-var">defNoCompilation</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1526"></span><span>  </span><span class="hs-comment">--   &#8866; &#915; = gamma = (&#948; : &#916;) (&#966; : I) (_ : (i : I) -&gt; Partial &#966; (R &#948;)) (_ : R &#948;)</span><span>
</span><span id="line-1527"></span><span>  </span><span class="hs-comment">-- &#915; &#8866;     rtype = R &#948;</span><span>
</span><span id="line-1528"></span><span>  </span><span class="annot"><a href="Agda.TypeChecking.Substitute.html#TelV"><span class="hs-identifier hs-type">TelV</span></a></span><span> </span><span id="local-6989586621681035376"><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035376"><span class="hs-identifier hs-var">gamma</span></a></span></span><span> </span><span id="local-6989586621681035375"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035375"><span class="hs-identifier hs-var">rtype</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Type -&gt; TCMT IO (TelV Type)
forall (m :: * -&gt; *).
(MonadReduce m, MonadAddContext m) =&gt;
Type -&gt; m (TelV Type)
</span><a href="Agda.TypeChecking.Telescope.html#telView"><span class="hs-identifier hs-var">telView</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035384"><span class="hs-identifier hs-var">theType</span></a></span><span>
</span><span id="line-1529"></span><span>
</span><span id="line-1530"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span class="hs-comment">-- &#915; &#8866; R &#948;</span><span>
</span><span id="line-1531"></span><span>      </span><span id="local-6989586621681035374"><span class="annot"><span class="annottext">drect_gamma :: LType
</span><a href="#local-6989586621681035374"><span class="hs-identifier hs-var hs-var">drect_gamma</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Substitution
forall a. Nat -&gt; Substitution' a
</span><a href="Agda.TypeChecking.Substitute.Class.html#raiseS"><span class="hs-identifier hs-var">raiseS</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Nat
forall a. Sized a =&gt; a -&gt; Nat
</span><a href="Agda.Utils.Size.html#size"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035376"><span class="hs-identifier hs-var">gamma</span></a></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Nat -&gt; Nat
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Nat
forall a. Sized a =&gt; a -&gt; Nat
</span><a href="Agda.Utils.Size.html#size"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035398"><span class="hs-identifier hs-var">delta</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Substitution' (SubstArg LType) -&gt; LType -&gt; LType
forall a. Subst a =&gt; Substitution' (SubstArg a) -&gt; a -&gt; a
</span><a href="Agda.TypeChecking.Substitute.Class.html#applySubst"><span class="hs-operator hs-var">`applySubst`</span></a></span><span> </span><span class="annot"><span class="annottext">LType
</span><a href="#local-6989586621681035400"><span class="hs-identifier hs-var">rect</span></a></span><span>
</span><span id="line-1532"></span><span>
</span><span id="line-1533"></span><span>  </span><span class="annot"><span class="annottext">ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; TCM ()
forall (m :: * -&gt; *).
MonadDebug m =&gt;
ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; m ()
</span><a href="Agda.TypeChecking.Monad.Debug.html#reportSDoc"><span class="hs-identifier hs-var">reportSDoc</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;hcomp.rec&quot;</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">60</span></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Doc -&gt; TCM ()) -&gt; TCMT IO Doc -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; ArgName -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">(ArgName -&gt; TCMT IO Doc) -&gt; ArgName -&gt; TCMT IO Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;sort = &quot;</span></span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; ArgName -&gt; ArgName
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Level -&gt; ArgName
forall a. Show a =&gt; a -&gt; ArgName
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LType -&gt; Level
</span><a href="Agda.TypeChecking.Primitive.Cubical.html#lTypeLevel"><span class="hs-identifier hs-var">lTypeLevel</span></a></span><span> </span><span class="annot"><span class="annottext">LType
</span><a href="#local-6989586621681035374"><span class="hs-identifier hs-var">drect_gamma</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1534"></span><span>
</span><span id="line-1535"></span><span>  </span><span class="hs-keyword">let</span><span>
</span><span id="line-1536"></span><span>
</span><span id="line-1537"></span><span>      </span><span class="hs-comment">-- (&#947; : &#915;) &#8866; hcompR &#947; : rtype</span><span>
</span><span id="line-1538"></span><span>      </span><span id="local-6989586621681035373"><span class="annot"><span class="annottext">compTerm :: Term
</span><a href="#local-6989586621681035373"><span class="hs-identifier hs-var hs-var">compTerm</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">QName -&gt; [Elim' Term] -&gt; Term
</span><a href="Agda.Syntax.Internal.html#Def"><span class="hs-identifier hs-var">Def</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681035385"><span class="hs-identifier hs-var">theName</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">Term -&gt; [Arg Term] -&gt; Term
forall t. Apply t =&gt; t -&gt; [Arg Term] -&gt; t
</span><a href="Agda.TypeChecking.Substitute.Class.html#apply"><span class="hs-operator hs-var">`apply`</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; [Arg Term]
forall a t. DeBruijn a =&gt; Tele (Dom t) -&gt; [Arg a]
</span><a href="Agda.TypeChecking.Telescope.html#teleArgs"><span class="hs-identifier hs-var">teleArgs</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035376"><span class="hs-identifier hs-var">gamma</span></a></span><span>
</span><span id="line-1539"></span><span>
</span><span id="line-1540"></span><span>      </span><span class="hs-comment">-- (&#948;, &#966;, u, u0) : &#915; &#8866; &#966; : I</span><span>
</span><span id="line-1541"></span><span>      </span><span id="local-6989586621681035372"><span class="annot"><span class="annottext">the_phi :: Term
</span><a href="#local-6989586621681035372"><span class="hs-identifier hs-var hs-var">the_phi</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Term
</span><a href="Agda.Syntax.Internal.html#var"><span class="hs-identifier hs-var">var</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">2</span></span><span>
</span><span id="line-1542"></span><span>      </span><span class="hs-comment">-- (&#948;, &#966;, u, u0) : &#915; &#8866; u : (i : I) &#8594; [&#966;] &#8594; R (&#948; i)</span><span>
</span><span id="line-1543"></span><span>      </span><span id="local-6989586621681035371"><span class="annot"><span class="annottext">the_u :: Term
</span><a href="#local-6989586621681035371"><span class="hs-identifier hs-var hs-var">the_u</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Term
</span><a href="Agda.Syntax.Internal.html#var"><span class="hs-identifier hs-var">var</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">1</span></span><span>
</span><span id="line-1544"></span><span>      </span><span class="hs-comment">-- (&#948;, &#966;, u, u0) : &#915; &#8866; u0 : R (&#948; i0)</span><span>
</span><span id="line-1545"></span><span>      </span><span id="local-6989586621681035370"><span class="annot"><span class="annottext">the_u0 :: Term
</span><a href="#local-6989586621681035370"><span class="hs-identifier hs-var hs-var">the_u0</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Term
</span><a href="Agda.Syntax.Internal.html#var"><span class="hs-identifier hs-var">var</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">0</span></span><span>
</span><span id="line-1546"></span><span>
</span><span id="line-1547"></span><span>      </span><span class="hs-comment">-- ' (&#948;, &#966;, u, u0) : &#915; &#8866; fillR &#915; : (i : I) &#8594; rtype[ &#948; &#8614; (\ j &#8594; &#948; (i &#8743; j))]</span><span>
</span><span id="line-1548"></span><span>      </span><span id="local-6989586621681035369"><span class="annot"><span class="annottext">fillTerm :: Term
</span><a href="#local-6989586621681035369"><span class="hs-identifier hs-var hs-var">fillTerm</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[ArgName] -&gt; NamesT Fail Term -&gt; Term
forall a. [ArgName] -&gt; NamesT Fail a -&gt; a
</span><a href="Agda.TypeChecking.Names.html#runNames"><span class="hs-identifier hs-var">runNames</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">(NamesT Fail Term -&gt; Term) -&gt; NamesT Fail Term -&gt; Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1549"></span><span>        </span><span id="local-6989586621681035368"><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035368"><span class="hs-identifier hs-var">rect</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Term -&gt; NamesT Fail (NamesT Fail Term)
forall (m :: * -&gt; *) a.
(MonadFail m, Subst a) =&gt;
a -&gt; NamesT m (NamesT m a)
</span><a href="Agda.TypeChecking.Names.html#open"><span class="hs-identifier hs-var">open</span></a></span><span> </span><span class="annot"><span class="annottext">(Term -&gt; NamesT Fail (NamesT Fail Term))
-&gt; (LType -&gt; Term) -&gt; LType -&gt; NamesT Fail (NamesT Fail Term)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Type -&gt; Term
forall t a. Type'' t a -&gt; a
</span><a href="Agda.Syntax.Internal.html#unEl"><span class="hs-identifier hs-var">unEl</span></a></span><span>  </span><span class="annot"><span class="annottext">(Type -&gt; Term) -&gt; (LType -&gt; Type) -&gt; LType -&gt; Term
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">LType -&gt; Type
</span><a href="Agda.TypeChecking.Primitive.Cubical.html#fromLType"><span class="hs-identifier hs-var">fromLType</span></a></span><span>  </span><span class="annot"><span class="annottext">(LType -&gt; NamesT Fail (NamesT Fail Term))
-&gt; LType -&gt; NamesT Fail (NamesT Fail Term)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">LType
</span><a href="#local-6989586621681035374"><span class="hs-identifier hs-var">drect_gamma</span></a></span><span>
</span><span id="line-1550"></span><span>        </span><span id="local-6989586621681035367"><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035367"><span class="hs-identifier hs-var">lvl</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Term -&gt; NamesT Fail (NamesT Fail Term)
forall (m :: * -&gt; *) a.
(MonadFail m, Subst a) =&gt;
a -&gt; NamesT m (NamesT m a)
</span><a href="Agda.TypeChecking.Names.html#open"><span class="hs-identifier hs-var">open</span></a></span><span> </span><span class="annot"><span class="annottext">(Term -&gt; NamesT Fail (NamesT Fail Term))
-&gt; (LType -&gt; Term) -&gt; LType -&gt; NamesT Fail (NamesT Fail Term)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Level -&gt; Term
</span><a href="Agda.Syntax.Internal.html#Level"><span class="hs-identifier hs-var">Level</span></a></span><span> </span><span class="annot"><span class="annottext">(Level -&gt; Term) -&gt; (LType -&gt; Level) -&gt; LType -&gt; Term
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">LType -&gt; Level
</span><a href="Agda.TypeChecking.Primitive.Cubical.html#lTypeLevel"><span class="hs-identifier hs-var">lTypeLevel</span></a></span><span> </span><span class="annot"><span class="annottext">(LType -&gt; NamesT Fail (NamesT Fail Term))
-&gt; LType -&gt; NamesT Fail (NamesT Fail Term)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">LType
</span><a href="#local-6989586621681035374"><span class="hs-identifier hs-var">drect_gamma</span></a></span><span>
</span><span id="line-1551"></span><span>        </span><span id="local-6989586621681035366"><span class="annot"><span class="annottext">[NamesT Fail (Arg Term)]
</span><a href="#local-6989586621681035366"><span class="hs-identifier hs-var">params</span></a></span></span><span>     </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Arg Term -&gt; NamesT Fail (NamesT Fail (Arg Term)))
-&gt; [Arg Term] -&gt; NamesT Fail [NamesT Fail (Arg Term)]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">Arg Term -&gt; NamesT Fail (NamesT Fail (Arg Term))
forall (m :: * -&gt; *) a.
(MonadFail m, Subst a) =&gt;
a -&gt; NamesT m (NamesT m a)
</span><a href="Agda.TypeChecking.Names.html#open"><span class="hs-identifier hs-var">open</span></a></span><span> </span><span class="annot"><span class="annottext">([Arg Term] -&gt; NamesT Fail [NamesT Fail (Arg Term)])
-&gt; [Arg Term] -&gt; NamesT Fail [NamesT Fail (Arg Term)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; [Arg Term] -&gt; [Arg Term]
forall a. Nat -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">take</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Nat
forall a. Sized a =&gt; a -&gt; Nat
</span><a href="Agda.Utils.Size.html#size"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035398"><span class="hs-identifier hs-var">delta</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([Arg Term] -&gt; [Arg Term]) -&gt; [Arg Term] -&gt; [Arg Term]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; [Arg Term]
forall a t. DeBruijn a =&gt; Tele (Dom t) -&gt; [Arg a]
</span><a href="Agda.TypeChecking.Telescope.html#teleArgs"><span class="hs-identifier hs-var">teleArgs</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035376"><span class="hs-identifier hs-var">gamma</span></a></span><span>
</span><span id="line-1552"></span><span>        </span><span class="hs-special">[</span><span id="local-6989586621681035365"><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035365"><span class="hs-identifier hs-var">phi</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681035364"><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035364"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681035363"><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035363"><span class="hs-identifier hs-var">w0</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Term -&gt; NamesT Fail (NamesT Fail Term))
-&gt; [Term] -&gt; NamesT Fail [NamesT Fail Term]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">Term -&gt; NamesT Fail (NamesT Fail Term)
forall (m :: * -&gt; *) a.
(MonadFail m, Subst a) =&gt;
a -&gt; NamesT m (NamesT m a)
</span><a href="Agda.TypeChecking.Names.html#open"><span class="hs-identifier hs-var">open</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035372"><span class="hs-identifier hs-var">the_phi</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035371"><span class="hs-identifier hs-var">the_u</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035370"><span class="hs-identifier hs-var">the_u0</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1553"></span><span>        </span><span class="hs-comment">-- (&#948; : &#916;, &#966; : I, w : .., w0 : R &#948;) &#8866;</span><span>
</span><span id="line-1554"></span><span>        </span><span class="hs-comment">-- ' fillR &#915; = &#955; i &#8594; hcompR &#948; (&#966; &#8744; ~ i) (\ j &#8594; [ &#966; &#8614; w (i &#8743; j) , ~ i &#8614; w0 ]) w0</span><span>
</span><span id="line-1555"></span><span>        </span><span class="hs-comment">--           = hfillR &#948; &#966; w w0</span><span>
</span><span id="line-1556"></span><span>        </span><span class="annot"><span class="annottext">ArgName
-&gt; (NamesT Fail Term -&gt; NamesT Fail Term) -&gt; NamesT Fail Term
forall (m :: * -&gt; *).
MonadFail m =&gt;
ArgName -&gt; (NamesT m Term -&gt; NamesT m Term) -&gt; NamesT m Term
</span><a href="Agda.TypeChecking.Names.html#lam"><span class="hs-identifier hs-var">lam</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;i&quot;</span></span><span> </span><span class="annot"><span class="annottext">((NamesT Fail Term -&gt; NamesT Fail Term) -&gt; NamesT Fail Term)
-&gt; (NamesT Fail Term -&gt; NamesT Fail Term) -&gt; NamesT Fail Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035362"><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035362"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1557"></span><span>          </span><span id="local-6989586621681035361"><span class="annot"><span class="annottext">[Arg Term]
</span><a href="#local-6989586621681035361"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[NamesT Fail (Arg Term)] -&gt; NamesT Fail [Arg Term]
forall (t :: * -&gt; *) (m :: * -&gt; *) a.
(Traversable t, Monad m) =&gt;
t (m a) -&gt; m (t a)
</span><span class="hs-identifier hs-var">sequence</span></span><span> </span><span class="annot"><span class="annottext">[NamesT Fail (Arg Term)]
</span><a href="#local-6989586621681035366"><span class="hs-identifier hs-var">params</span></a></span><span>
</span><span id="line-1558"></span><span>          </span><span id="local-6989586621681035360"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035360"><span class="hs-identifier hs-var">psi</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Term -&gt; NamesT Fail Term
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035394"><span class="hs-identifier hs-var">imax</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT Fail Term -&gt; NamesT Fail Term -&gt; NamesT Fail Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035365"><span class="hs-identifier hs-var">phi</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT Fail Term -&gt; NamesT Fail Term -&gt; NamesT Fail Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term -&gt; NamesT Fail Term
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035392"><span class="hs-identifier hs-var">ineg</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT Fail Term -&gt; NamesT Fail Term -&gt; NamesT Fail Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035362"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1559"></span><span>          </span><span id="local-6989586621681035359"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035359"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ArgName
-&gt; (NamesT Fail Term -&gt; NamesT Fail Term) -&gt; NamesT Fail Term
forall (m :: * -&gt; *).
MonadFail m =&gt;
ArgName -&gt; (NamesT m Term -&gt; NamesT m Term) -&gt; NamesT m Term
</span><a href="Agda.TypeChecking.Names.html#lam"><span class="hs-identifier hs-var">lam</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;j&quot;</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035358"><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035358"><span class="hs-identifier hs-var">j</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term -&gt; NamesT Fail Term
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035389"><span class="hs-identifier hs-var">por</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT Fail Term -&gt; NamesT Fail Term -&gt; NamesT Fail Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%23%3E"><span class="hs-operator hs-var">&lt;#&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035367"><span class="hs-identifier hs-var">lvl</span></a></span><span>
</span><span id="line-1560"></span><span>                                        </span><span class="annot"><span class="annottext">NamesT Fail Term -&gt; NamesT Fail Term -&gt; NamesT Fail Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035365"><span class="hs-identifier hs-var">phi</span></a></span><span>
</span><span id="line-1561"></span><span>                                        </span><span class="annot"><span class="annottext">NamesT Fail Term -&gt; NamesT Fail Term -&gt; NamesT Fail Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term -&gt; NamesT Fail Term
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035392"><span class="hs-identifier hs-var">ineg</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT Fail Term -&gt; NamesT Fail Term -&gt; NamesT Fail Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035362"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1562"></span><span>                                        </span><span class="annot"><span class="annottext">NamesT Fail Term -&gt; NamesT Fail Term -&gt; NamesT Fail Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%23%3E"><span class="hs-operator hs-var">&lt;#&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
-&gt; (NamesT Fail Term -&gt; NamesT Fail Term) -&gt; NamesT Fail Term
forall (m :: * -&gt; *).
MonadFail m =&gt;
ArgName -&gt; (NamesT m Term -&gt; NamesT m Term) -&gt; NamesT m Term
</span><a href="Agda.TypeChecking.Names.html#lam"><span class="hs-identifier hs-var">lam</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;_&quot;</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035357"><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035357"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035368"><span class="hs-identifier hs-var">rect</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1563"></span><span>                                        </span><span class="annot"><span class="annottext">NamesT Fail Term -&gt; NamesT Fail Term -&gt; NamesT Fail Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035364"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT Fail Term -&gt; NamesT Fail Term -&gt; NamesT Fail Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term -&gt; NamesT Fail Term
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035395"><span class="hs-identifier hs-var">imin</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT Fail Term -&gt; NamesT Fail Term -&gt; NamesT Fail Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035362"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT Fail Term -&gt; NamesT Fail Term -&gt; NamesT Fail Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035358"><span class="hs-identifier hs-var">j</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1564"></span><span>                                        </span><span class="annot"><span class="annottext">NamesT Fail Term -&gt; NamesT Fail Term -&gt; NamesT Fail Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
-&gt; (NamesT Fail Term -&gt; NamesT Fail Term) -&gt; NamesT Fail Term
forall (m :: * -&gt; *).
MonadFail m =&gt;
ArgName -&gt; (NamesT m Term -&gt; NamesT m Term) -&gt; NamesT m Term
</span><a href="Agda.TypeChecking.Names.html#lam"><span class="hs-identifier hs-var">lam</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;_&quot;</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035356"><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035356"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035363"><span class="hs-identifier hs-var">w0</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- TODO wait for i = 0</span><span>
</span><span id="line-1565"></span><span>                       </span><span class="hs-special">)</span><span>
</span><span id="line-1566"></span><span>          </span><span id="local-6989586621681035355"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035355"><span class="hs-identifier hs-var">u0</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035363"><span class="hs-identifier hs-var">w0</span></a></span><span>
</span><span id="line-1567"></span><span>          </span><span class="annot"><span class="annottext">Term -&gt; NamesT Fail Term
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(Term -&gt; NamesT Fail Term) -&gt; Term -&gt; NamesT Fail Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">QName -&gt; [Elim' Term] -&gt; Term
</span><a href="Agda.Syntax.Internal.html#Def"><span class="hs-identifier hs-var">Def</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681035385"><span class="hs-identifier hs-var">theName</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">Term -&gt; [Arg Term] -&gt; Term
forall t. Apply t =&gt; t -&gt; [Arg Term] -&gt; t
</span><a href="Agda.TypeChecking.Substitute.Class.html#apply"><span class="hs-operator hs-var">`apply`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Arg Term]
</span><a href="#local-6989586621681035361"><span class="hs-identifier hs-var">args</span></a></span><span> </span><span class="annot"><span class="annottext">[Arg Term] -&gt; [Arg Term] -&gt; [Arg Term]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Term -&gt; Arg Term
forall e. e -&gt; Arg e
</span><a href="Agda.TypeChecking.Primitive.Base.html#argN"><span class="hs-identifier hs-var">argN</span></a></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035360"><span class="hs-identifier hs-var">psi</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term -&gt; Arg Term
forall e. e -&gt; Arg e
</span><a href="Agda.TypeChecking.Primitive.Base.html#argN"><span class="hs-identifier hs-var">argN</span></a></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035359"><span class="hs-identifier hs-var">u</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term -&gt; Arg Term
forall e. e -&gt; Arg e
</span><a href="Agda.TypeChecking.Primitive.Base.html#argN"><span class="hs-identifier hs-var">argN</span></a></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035355"><span class="hs-identifier hs-var">u0</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-1568"></span><span>
</span><span id="line-1569"></span><span>      </span><span class="hs-comment">-- (&#947; : &#915;) &#8866; (flatten &#934;)[n &#8614; f_n (compR &#947;)]</span><span>
</span><span id="line-1570"></span><span>      </span><span id="local-6989586621681035354"><span class="annot"><span class="annottext">clause_types :: [Dom LType]
</span><a href="#local-6989586621681035354"><span class="hs-identifier hs-var hs-var">clause_types</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Term] -&gt; Substitution
forall a. DeBruijn a =&gt; [a] -&gt; Substitution' a
</span><a href="Agda.TypeChecking.Substitute.Class.html#parallelS"><span class="hs-identifier hs-var">parallelS</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035373"><span class="hs-identifier hs-var">compTerm</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; QName -&gt; Term
</span><a href="#local-6989586621681035405"><span class="hs-operator hs-var">`applyProj`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Arg QName -&gt; QName
forall e. Arg e -&gt; e
</span><a href="Agda.Syntax.Common.html#unArg"><span class="hs-identifier hs-var">unArg</span></a></span><span> </span><span class="annot"><span class="annottext">Arg QName
</span><a href="#local-6989586621681035353"><span class="hs-identifier hs-var">fn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1571"></span><span>                               </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621681035353"><span class="annot"><span class="annottext">Arg QName
</span><a href="#local-6989586621681035353"><span class="hs-identifier hs-var">fn</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Arg QName] -&gt; [Arg QName]
forall a. [a] -&gt; [a]
</span><span class="hs-identifier hs-var">reverse</span></span><span> </span><span class="annot"><span class="annottext">[Arg QName]
</span><a href="#local-6989586621681035401"><span class="hs-identifier hs-var">fns</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">Substitution' (SubstArg [Dom LType]) -&gt; [Dom LType] -&gt; [Dom LType]
forall a. Subst a =&gt; Substitution' (SubstArg a) -&gt; a -&gt; a
</span><a href="Agda.TypeChecking.Substitute.Class.html#applySubst"><span class="hs-operator hs-var">`applySubst`</span></a></span><span>
</span><span id="line-1572"></span><span>                       </span><span class="annot"><span class="annottext">Tele (Dom LType) -&gt; [Dom LType]
forall a. TermSubst a =&gt; Tele (Dom a) -&gt; [Dom a]
</span><a href="Agda.TypeChecking.Telescope.html#flattenTel"><span class="hs-identifier hs-var">flattenTel</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Nat -&gt; Substitution
forall a. Nat -&gt; Substitution' a
</span><a href="Agda.TypeChecking.Substitute.Class.html#raiseS"><span class="hs-identifier hs-var">raiseS</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Nat
forall a. Sized a =&gt; a -&gt; Nat
</span><a href="Agda.Utils.Size.html#size"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035376"><span class="hs-identifier hs-var">gamma</span></a></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Nat -&gt; Nat
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Nat
forall a. Sized a =&gt; a -&gt; Nat
</span><a href="Agda.Utils.Size.html#size"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035398"><span class="hs-identifier hs-var">delta</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Substitution' (SubstArg (Tele (Dom LType)))
-&gt; Tele (Dom LType) -&gt; Tele (Dom LType)
forall a. Subst a =&gt; Substitution' (SubstArg a) -&gt; a -&gt; a
</span><a href="Agda.TypeChecking.Substitute.Class.html#applySubst"><span class="hs-operator hs-var">`applySubst`</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom LType)
</span><a href="#local-6989586621681035402"><span class="hs-identifier hs-var">fsT</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- &#915;, &#934; &#8866; flatten &#934;</span><span>
</span><span id="line-1573"></span><span>      </span><span class="hs-comment">-- &#916; &#8866; &#934; = fsT</span><span>
</span><span id="line-1574"></span><span>      </span><span class="hs-comment">-- &#915;, i : I &#8866; &#934;'</span><span>
</span><span id="line-1575"></span><span>      </span><span id="local-6989586621681035352"><span class="annot"><span class="annottext">fsT' :: Tele (Dom LType)
</span><a href="#local-6989586621681035352"><span class="hs-identifier hs-var hs-var">fsT'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Substitution
forall a. Nat -&gt; Substitution' a
</span><a href="Agda.TypeChecking.Substitute.Class.html#raiseS"><span class="hs-identifier hs-var">raiseS</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Nat
forall a. Sized a =&gt; a -&gt; Nat
</span><a href="Agda.Utils.Size.html#size"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035376"><span class="hs-identifier hs-var">gamma</span></a></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Nat -&gt; Nat
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Nat
forall a. Sized a =&gt; a -&gt; Nat
</span><a href="Agda.Utils.Size.html#size"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035398"><span class="hs-identifier hs-var">delta</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Nat -&gt; Nat
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Substitution' (SubstArg (Tele (Dom LType)))
-&gt; Tele (Dom LType) -&gt; Tele (Dom LType)
forall a. Subst a =&gt; Substitution' (SubstArg a) -&gt; a -&gt; a
</span><a href="Agda.TypeChecking.Substitute.Class.html#applySubst"><span class="hs-operator hs-var">`applySubst`</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom LType)
</span><a href="#local-6989586621681035402"><span class="hs-identifier hs-var">fsT</span></a></span><span>
</span><span id="line-1576"></span><span>
</span><span id="line-1577"></span><span>      </span><span class="hs-comment">-- &#915;, i : I &#8866; (flatten &#934;')[n &#8614; f_n (fillR &#915; i)]</span><span>
</span><span id="line-1578"></span><span>      </span><span id="local-6989586621681035351"><span class="annot"><span class="annottext">filled_types :: [Dom LType]
</span><a href="#local-6989586621681035351"><span class="hs-identifier hs-var hs-var">filled_types</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Term] -&gt; Substitution
forall a. DeBruijn a =&gt; [a] -&gt; Substitution' a
</span><a href="Agda.TypeChecking.Substitute.Class.html#parallelS"><span class="hs-identifier hs-var">parallelS</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Nat -&gt; Term -&gt; Term
forall a. Subst a =&gt; Nat -&gt; a -&gt; a
</span><a href="Agda.TypeChecking.Substitute.Class.html#raise"><span class="hs-identifier hs-var">raise</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035369"><span class="hs-identifier hs-var">fillTerm</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; [Arg Term] -&gt; Term
forall t. Apply t =&gt; t -&gt; [Arg Term] -&gt; t
</span><a href="Agda.TypeChecking.Substitute.Class.html#apply"><span class="hs-operator hs-var">`apply`</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Term -&gt; Arg Term
forall e. e -&gt; Arg e
</span><a href="Agda.TypeChecking.Primitive.Base.html#argN"><span class="hs-identifier hs-var">argN</span></a></span><span> </span><span class="annot"><span class="annottext">(Term -&gt; Arg Term) -&gt; Term -&gt; Arg Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Term
</span><a href="Agda.Syntax.Internal.html#var"><span class="hs-identifier hs-var">var</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">0</span></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">Term -&gt; QName -&gt; Term
</span><a href="#local-6989586621681035405"><span class="hs-operator hs-var">`applyProj`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Arg QName -&gt; QName
forall e. Arg e -&gt; e
</span><a href="Agda.Syntax.Common.html#unArg"><span class="hs-identifier hs-var">unArg</span></a></span><span> </span><span class="annot"><span class="annottext">Arg QName
</span><a href="#local-6989586621681035350"><span class="hs-identifier hs-var">fn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1579"></span><span>                               </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621681035350"><span class="annot"><span class="annottext">Arg QName
</span><a href="#local-6989586621681035350"><span class="hs-identifier hs-var">fn</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Arg QName] -&gt; [Arg QName]
forall a. [a] -&gt; [a]
</span><span class="hs-identifier hs-var">reverse</span></span><span> </span><span class="annot"><span class="annottext">[Arg QName]
</span><a href="#local-6989586621681035401"><span class="hs-identifier hs-var">fns</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">Substitution' (SubstArg [Dom LType]) -&gt; [Dom LType] -&gt; [Dom LType]
forall a. Subst a =&gt; Substitution' (SubstArg a) -&gt; a -&gt; a
</span><a href="Agda.TypeChecking.Substitute.Class.html#applySubst"><span class="hs-operator hs-var">`applySubst`</span></a></span><span>
</span><span id="line-1580"></span><span>                       </span><span class="annot"><span class="annottext">Tele (Dom LType) -&gt; [Dom LType]
forall a. TermSubst a =&gt; Tele (Dom a) -&gt; [Dom a]
</span><a href="Agda.TypeChecking.Telescope.html#flattenTel"><span class="hs-identifier hs-var">flattenTel</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom LType)
</span><a href="#local-6989586621681035352"><span class="hs-identifier hs-var">fsT'</span></a></span><span> </span><span class="hs-comment">-- &#915;, i : I, &#934;' &#8866; flatten &#934;'</span><span>
</span><span id="line-1581"></span><span>
</span><span id="line-1582"></span><span>
</span><span id="line-1583"></span><span>  </span><span id="local-6989586621681035349"><span class="annot"><span class="annottext">NamesT Fail Term
-&gt; NamesT Fail Term
-&gt; NamesT Fail Term
-&gt; NamesT Fail Term
-&gt; NamesT Fail Term
-&gt; NamesT Fail Term
</span><a href="#local-6989586621681035349"><span class="hs-identifier hs-var">comp</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1584"></span><span>        </span><span class="hs-keyword">let</span><span>
</span><span id="line-1585"></span><span>          </span><span id="local-6989586621681035348"><span class="annot"><span class="annottext">imax :: NamesT Fail Term -&gt; NamesT Fail Term -&gt; NamesT Fail Term
</span><a href="#local-6989586621681035348"><span class="hs-identifier hs-var hs-var">imax</span></a></span></span><span> </span><span id="local-6989586621681035347"><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035347"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621681035346"><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035346"><span class="hs-identifier hs-var">j</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term -&gt; NamesT Fail Term
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035393"><span class="hs-identifier hs-var">tIMax</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT Fail Term -&gt; NamesT Fail Term -&gt; NamesT Fail Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035347"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT Fail Term -&gt; NamesT Fail Term -&gt; NamesT Fail Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035346"><span class="hs-identifier hs-var">j</span></a></span><span>
</span><span id="line-1586"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681035345"><span class="annot"><span class="annottext">forward :: NamesT Fail Term
-&gt; NamesT Fail Term
-&gt; NamesT Fail Term
-&gt; NamesT Fail Term
-&gt; NamesT Fail Term
</span><a href="#local-6989586621681035345"><span class="hs-identifier hs-var hs-var">forward</span></a></span></span><span> </span><span id="local-6989586621681035344"><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035344"><span class="hs-identifier hs-var">la</span></a></span></span><span> </span><span id="local-6989586621681035343"><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035343"><span class="hs-identifier hs-var">bA</span></a></span></span><span> </span><span id="local-6989586621681035342"><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035342"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span id="local-6989586621681035341"><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035341"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term -&gt; NamesT Fail Term
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035390"><span class="hs-identifier hs-var">transp</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT Fail Term -&gt; NamesT Fail Term -&gt; NamesT Fail Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%23%3E"><span class="hs-operator hs-var">&lt;#&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
-&gt; (NamesT Fail Term -&gt; NamesT Fail Term) -&gt; NamesT Fail Term
forall (m :: * -&gt; *).
MonadFail m =&gt;
ArgName -&gt; (NamesT m Term -&gt; NamesT m Term) -&gt; NamesT m Term
</span><a href="Agda.TypeChecking.Names.html#lam"><span class="hs-identifier hs-var">lam</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;i&quot;</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035340"><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035340"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035344"><span class="hs-identifier hs-var">la</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT Fail Term -&gt; NamesT Fail Term -&gt; NamesT Fail Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035340"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT Fail Term -&gt; NamesT Fail Term -&gt; NamesT Fail Term
</span><a href="#local-6989586621681035348"><span class="hs-operator hs-var">`imax`</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035342"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1587"></span><span>                                            </span><span class="annot"><span class="annottext">NamesT Fail Term -&gt; NamesT Fail Term -&gt; NamesT Fail Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
-&gt; (NamesT Fail Term -&gt; NamesT Fail Term) -&gt; NamesT Fail Term
forall (m :: * -&gt; *).
MonadFail m =&gt;
ArgName -&gt; (NamesT m Term -&gt; NamesT m Term) -&gt; NamesT m Term
</span><a href="Agda.TypeChecking.Names.html#lam"><span class="hs-identifier hs-var">lam</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;i&quot;</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035339"><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035339"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035343"><span class="hs-identifier hs-var">bA</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT Fail Term -&gt; NamesT Fail Term -&gt; NamesT Fail Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035339"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT Fail Term -&gt; NamesT Fail Term -&gt; NamesT Fail Term
</span><a href="#local-6989586621681035348"><span class="hs-operator hs-var">`imax`</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035342"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1588"></span><span>                                            </span><span class="annot"><span class="annottext">NamesT Fail Term -&gt; NamesT Fail Term -&gt; NamesT Fail Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035342"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-1589"></span><span>                                            </span><span class="annot"><span class="annottext">NamesT Fail Term -&gt; NamesT Fail Term -&gt; NamesT Fail Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035341"><span class="hs-identifier hs-var">u</span></a></span><span>
</span><span id="line-1590"></span><span>        </span><span class="annot"><span class="annottext">(NamesT Fail Term
 -&gt; NamesT Fail Term
 -&gt; NamesT Fail Term
 -&gt; NamesT Fail Term
 -&gt; NamesT Fail Term
 -&gt; NamesT Fail Term)
-&gt; TCMT
     IO
     (NamesT Fail Term
      -&gt; NamesT Fail Term
      -&gt; NamesT Fail Term
      -&gt; NamesT Fail Term
      -&gt; NamesT Fail Term
      -&gt; NamesT Fail Term)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">((NamesT Fail Term
  -&gt; NamesT Fail Term
  -&gt; NamesT Fail Term
  -&gt; NamesT Fail Term
  -&gt; NamesT Fail Term
  -&gt; NamesT Fail Term)
 -&gt; TCMT
      IO
      (NamesT Fail Term
       -&gt; NamesT Fail Term
       -&gt; NamesT Fail Term
       -&gt; NamesT Fail Term
       -&gt; NamesT Fail Term
       -&gt; NamesT Fail Term))
-&gt; (NamesT Fail Term
    -&gt; NamesT Fail Term
    -&gt; NamesT Fail Term
    -&gt; NamesT Fail Term
    -&gt; NamesT Fail Term
    -&gt; NamesT Fail Term)
-&gt; TCMT
     IO
     (NamesT Fail Term
      -&gt; NamesT Fail Term
      -&gt; NamesT Fail Term
      -&gt; NamesT Fail Term
      -&gt; NamesT Fail Term
      -&gt; NamesT Fail Term)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035338"><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035338"><span class="hs-identifier hs-var">la</span></a></span></span><span> </span><span id="local-6989586621681035337"><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035337"><span class="hs-identifier hs-var">bA</span></a></span></span><span> </span><span id="local-6989586621681035336"><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035336"><span class="hs-identifier hs-var">phi</span></a></span></span><span> </span><span id="local-6989586621681035335"><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035335"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span id="local-6989586621681035334"><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035334"><span class="hs-identifier hs-var">u0</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1591"></span><span>          </span><span class="annot"><span class="annottext">Term -&gt; NamesT Fail Term
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035391"><span class="hs-identifier hs-var">hcomp</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT Fail Term -&gt; NamesT Fail Term -&gt; NamesT Fail Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%23%3E"><span class="hs-operator hs-var">&lt;#&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035338"><span class="hs-identifier hs-var">la</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT Fail Term -&gt; NamesT Fail Term -&gt; NamesT Fail Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; NamesT Fail Term
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035396"><span class="hs-identifier hs-var">io</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">NamesT Fail Term -&gt; NamesT Fail Term -&gt; NamesT Fail Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%23%3E"><span class="hs-operator hs-var">&lt;#&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035337"><span class="hs-identifier hs-var">bA</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT Fail Term -&gt; NamesT Fail Term -&gt; NamesT Fail Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; NamesT Fail Term
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035396"><span class="hs-identifier hs-var">io</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">NamesT Fail Term -&gt; NamesT Fail Term -&gt; NamesT Fail Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%23%3E"><span class="hs-operator hs-var">&lt;#&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035336"><span class="hs-identifier hs-var">phi</span></a></span><span>
</span><span id="line-1592"></span><span>                      </span><span class="annot"><span class="annottext">NamesT Fail Term -&gt; NamesT Fail Term -&gt; NamesT Fail Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
-&gt; (NamesT Fail Term -&gt; NamesT Fail Term) -&gt; NamesT Fail Term
forall (m :: * -&gt; *).
MonadFail m =&gt;
ArgName -&gt; (NamesT m Term -&gt; NamesT m Term) -&gt; NamesT m Term
</span><a href="Agda.TypeChecking.Names.html#lam"><span class="hs-identifier hs-var">lam</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;i&quot;</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035333"><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035333"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ArgName
-&gt; (NamesT Fail Term -&gt; NamesT Fail Term) -&gt; NamesT Fail Term
forall (m :: * -&gt; *).
MonadFail m =&gt;
ArgName -&gt; (NamesT m Term -&gt; NamesT m Term) -&gt; NamesT m Term
</span><a href="Agda.TypeChecking.Names.html#ilam"><span class="hs-identifier hs-var">ilam</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;o&quot;</span></span><span> </span><span class="annot"><span class="annottext">((NamesT Fail Term -&gt; NamesT Fail Term) -&gt; NamesT Fail Term)
-&gt; (NamesT Fail Term -&gt; NamesT Fail Term) -&gt; NamesT Fail Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035332"><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035332"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1593"></span><span>                              </span><span class="annot"><span class="annottext">NamesT Fail Term
-&gt; NamesT Fail Term
-&gt; NamesT Fail Term
-&gt; NamesT Fail Term
-&gt; NamesT Fail Term
</span><a href="#local-6989586621681035345"><span class="hs-identifier hs-var">forward</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035338"><span class="hs-identifier hs-var">la</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035337"><span class="hs-identifier hs-var">bA</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035333"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035335"><span class="hs-identifier hs-var">u</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT Fail Term -&gt; NamesT Fail Term -&gt; NamesT Fail Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035333"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT Fail Term -&gt; NamesT Fail Term -&gt; NamesT Fail Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C..%3E"><span class="hs-operator hs-var">&lt;..&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035332"><span class="hs-identifier hs-var">o</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1594"></span><span>                      </span><span class="annot"><span class="annottext">NamesT Fail Term -&gt; NamesT Fail Term -&gt; NamesT Fail Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT Fail Term
-&gt; NamesT Fail Term
-&gt; NamesT Fail Term
-&gt; NamesT Fail Term
-&gt; NamesT Fail Term
</span><a href="#local-6989586621681035345"><span class="hs-identifier hs-var">forward</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035338"><span class="hs-identifier hs-var">la</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035337"><span class="hs-identifier hs-var">bA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term -&gt; NamesT Fail Term
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035397"><span class="hs-identifier hs-var">iz</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035334"><span class="hs-identifier hs-var">u0</span></a></span><span>
</span><span id="line-1595"></span><span>  </span><span class="hs-keyword">let</span><span>
</span><span id="line-1596"></span><span>      </span><span id="local-6989586621681035331"><span class="annot"><span class="annottext">mkBody :: (Arg QName, Dom LType) -&gt; TCMT IO Term
</span><a href="#local-6989586621681035331"><span class="hs-identifier hs-var hs-var">mkBody</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681035330"><span class="annot"><span class="annottext">Arg QName
</span><a href="#local-6989586621681035330"><span class="hs-identifier hs-var">fname</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681035329"><span class="annot"><span class="annottext">Dom LType
</span><a href="#local-6989586621681035329"><span class="hs-identifier hs-var">filled_ty'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1597"></span><span>        </span><span class="hs-keyword">let</span><span>
</span><span id="line-1598"></span><span>          </span><span id="local-6989586621681035328"><span class="annot"><span class="annottext">proj :: NamesT Fail Term -&gt; NamesT Fail Term
</span><a href="#local-6989586621681035328"><span class="hs-identifier hs-var hs-var">proj</span></a></span></span><span> </span><span id="local-6989586621681035327"><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035327"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term -&gt; QName -&gt; Term
</span><a href="#local-6989586621681035405"><span class="hs-operator hs-var">`applyProj`</span></a></span><span> </span><span class="annot"><span class="annottext">Arg QName -&gt; QName
forall e. Arg e -&gt; e
</span><a href="Agda.Syntax.Common.html#unArg"><span class="hs-identifier hs-var">unArg</span></a></span><span> </span><span class="annot"><span class="annottext">Arg QName
</span><a href="#local-6989586621681035330"><span class="hs-identifier hs-var">fname</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Term -&gt; Term) -&gt; NamesT Fail Term -&gt; NamesT Fail Term
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035327"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-1599"></span><span>          </span><span id="local-6989586621681035326"><span class="annot"><span class="annottext">filled_ty :: Term
</span><a href="#local-6989586621681035326"><span class="hs-identifier hs-var hs-var">filled_ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ArgInfo -&gt; Abs Term -&gt; Term
</span><a href="Agda.Syntax.Internal.html#Lam"><span class="hs-identifier hs-var">Lam</span></a></span><span> </span><span class="annot"><span class="annottext">ArgInfo
</span><a href="Agda.Syntax.Common.html#defaultArgInfo"><span class="hs-identifier hs-var">defaultArgInfo</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ArgName -&gt; Term -&gt; Abs Term
forall a. ArgName -&gt; a -&gt; Abs a
</span><a href="Agda.Syntax.Internal.html#Abs"><span class="hs-identifier hs-var">Abs</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;i&quot;</span></span><span> </span><span class="annot"><span class="annottext">(Term -&gt; Abs Term) -&gt; Term -&gt; Abs Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type -&gt; Term
forall t a. Type'' t a -&gt; a
</span><a href="Agda.Syntax.Internal.html#unEl"><span class="hs-identifier hs-var">unEl</span></a></span><span> </span><span class="annot"><span class="annottext">(Type -&gt; Term) -&gt; (Dom LType -&gt; Type) -&gt; Dom LType -&gt; Term
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">LType -&gt; Type
</span><a href="Agda.TypeChecking.Primitive.Cubical.html#fromLType"><span class="hs-identifier hs-var">fromLType</span></a></span><span> </span><span class="annot"><span class="annottext">(LType -&gt; Type) -&gt; (Dom LType -&gt; LType) -&gt; Dom LType -&gt; Type
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Dom LType -&gt; LType
forall t e. Dom' t e -&gt; e
</span><a href="Agda.Syntax.Internal.html#unDom"><span class="hs-identifier hs-var">unDom</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Dom LType
</span><a href="#local-6989586621681035329"><span class="hs-identifier hs-var">filled_ty'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1600"></span><span>          </span><span class="hs-comment">-- &#915; &#8866; l : I -&gt; Level of filled_ty</span><span>
</span><span id="line-1601"></span><span>        </span><span id="local-6989586621681035325"><span class="annot"><span class="annottext">Level
</span><a href="#local-6989586621681035325"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Level -&gt; TCMT IO Level
forall a (m :: * -&gt; *). (Reduce a, MonadReduce m) =&gt; a -&gt; m a
</span><a href="Agda.TypeChecking.Reduce.html#reduce"><span class="hs-identifier hs-var">reduce</span></a></span><span> </span><span class="annot"><span class="annottext">(Level -&gt; TCMT IO Level) -&gt; Level -&gt; TCMT IO Level
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">LType -&gt; Level
</span><a href="Agda.TypeChecking.Primitive.Cubical.html#lTypeLevel"><span class="hs-identifier hs-var">lTypeLevel</span></a></span><span> </span><span class="annot"><span class="annottext">(LType -&gt; Level) -&gt; LType -&gt; Level
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Dom LType -&gt; LType
forall t e. Dom' t e -&gt; e
</span><a href="Agda.Syntax.Internal.html#unDom"><span class="hs-identifier hs-var">unDom</span></a></span><span> </span><span class="annot"><span class="annottext">Dom LType
</span><a href="#local-6989586621681035329"><span class="hs-identifier hs-var">filled_ty'</span></a></span><span>
</span><span id="line-1602"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681035324"><span class="annot"><span class="annottext">lvl :: Term
</span><a href="#local-6989586621681035324"><span class="hs-identifier hs-var hs-var">lvl</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ArgInfo -&gt; Abs Term -&gt; Term
</span><a href="Agda.Syntax.Internal.html#Lam"><span class="hs-identifier hs-var">Lam</span></a></span><span> </span><span class="annot"><span class="annottext">ArgInfo
</span><a href="Agda.Syntax.Common.html#defaultArgInfo"><span class="hs-identifier hs-var">defaultArgInfo</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ArgName -&gt; Term -&gt; Abs Term
forall a. ArgName -&gt; a -&gt; Abs a
</span><a href="Agda.Syntax.Internal.html#Abs"><span class="hs-identifier hs-var">Abs</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;i&quot;</span></span><span> </span><span class="annot"><span class="annottext">(Term -&gt; Abs Term) -&gt; Term -&gt; Abs Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Level -&gt; Term
</span><a href="Agda.Syntax.Internal.html#Level"><span class="hs-identifier hs-var">Level</span></a></span><span> </span><span class="annot"><span class="annottext">Level
</span><a href="#local-6989586621681035325"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1603"></span><span>        </span><span class="annot"><span class="annottext">Term -&gt; TCMT IO Term
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Term -&gt; TCMT IO Term) -&gt; Term -&gt; TCMT IO Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[ArgName] -&gt; NamesT Fail Term -&gt; Term
forall a. [ArgName] -&gt; NamesT Fail a -&gt; a
</span><a href="Agda.TypeChecking.Names.html#runNames"><span class="hs-identifier hs-var">runNames</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">(NamesT Fail Term -&gt; Term) -&gt; NamesT Fail Term -&gt; Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1604"></span><span>             </span><span id="local-6989586621681035323"><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035323"><span class="hs-identifier hs-var">lvl</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Term -&gt; NamesT Fail (NamesT Fail Term)
forall (m :: * -&gt; *) a.
(MonadFail m, Subst a) =&gt;
a -&gt; NamesT m (NamesT m a)
</span><a href="Agda.TypeChecking.Names.html#open"><span class="hs-identifier hs-var">open</span></a></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035324"><span class="hs-identifier hs-var">lvl</span></a></span><span>
</span><span id="line-1605"></span><span>             </span><span class="hs-special">[</span><span id="local-6989586621681035322"><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035322"><span class="hs-identifier hs-var">phi</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681035321"><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035321"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681035320"><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035320"><span class="hs-identifier hs-var">w0</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Term -&gt; NamesT Fail (NamesT Fail Term))
-&gt; [Term] -&gt; NamesT Fail [NamesT Fail Term]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">Term -&gt; NamesT Fail (NamesT Fail Term)
forall (m :: * -&gt; *) a.
(MonadFail m, Subst a) =&gt;
a -&gt; NamesT m (NamesT m a)
</span><a href="Agda.TypeChecking.Names.html#open"><span class="hs-identifier hs-var">open</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035372"><span class="hs-identifier hs-var">the_phi</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035371"><span class="hs-identifier hs-var">the_u</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035370"><span class="hs-identifier hs-var">the_u0</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1606"></span><span>             </span><span id="local-6989586621681035319"><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035319"><span class="hs-identifier hs-var">filled_ty</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Term -&gt; NamesT Fail (NamesT Fail Term)
forall (m :: * -&gt; *) a.
(MonadFail m, Subst a) =&gt;
a -&gt; NamesT m (NamesT m a)
</span><a href="Agda.TypeChecking.Names.html#open"><span class="hs-identifier hs-var">open</span></a></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035326"><span class="hs-identifier hs-var">filled_ty</span></a></span><span>
</span><span id="line-1607"></span><span>
</span><span id="line-1608"></span><span>             </span><span class="annot"><span class="annottext">NamesT Fail Term
-&gt; NamesT Fail Term
-&gt; NamesT Fail Term
-&gt; NamesT Fail Term
-&gt; NamesT Fail Term
-&gt; NamesT Fail Term
</span><a href="#local-6989586621681035349"><span class="hs-identifier hs-var">comp</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035323"><span class="hs-identifier hs-var">lvl</span></a></span><span>
</span><span id="line-1609"></span><span>                  </span><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035319"><span class="hs-identifier hs-var">filled_ty</span></a></span><span>
</span><span id="line-1610"></span><span>                  </span><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035322"><span class="hs-identifier hs-var">phi</span></a></span><span>
</span><span id="line-1611"></span><span>                  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ArgName
-&gt; (NamesT Fail Term -&gt; NamesT Fail Term) -&gt; NamesT Fail Term
forall (m :: * -&gt; *).
MonadFail m =&gt;
ArgName -&gt; (NamesT m Term -&gt; NamesT m Term) -&gt; NamesT m Term
</span><a href="Agda.TypeChecking.Names.html#lam"><span class="hs-identifier hs-var">lam</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;i&quot;</span></span><span> </span><span class="annot"><span class="annottext">((NamesT Fail Term -&gt; NamesT Fail Term) -&gt; NamesT Fail Term)
-&gt; (NamesT Fail Term -&gt; NamesT Fail Term) -&gt; NamesT Fail Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035318"><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035318"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ArgName
-&gt; (NamesT Fail Term -&gt; NamesT Fail Term) -&gt; NamesT Fail Term
forall (m :: * -&gt; *).
MonadFail m =&gt;
ArgName -&gt; (NamesT m Term -&gt; NamesT m Term) -&gt; NamesT m Term
</span><a href="Agda.TypeChecking.Names.html#ilam"><span class="hs-identifier hs-var">ilam</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;o&quot;</span></span><span> </span><span class="annot"><span class="annottext">((NamesT Fail Term -&gt; NamesT Fail Term) -&gt; NamesT Fail Term)
-&gt; (NamesT Fail Term -&gt; NamesT Fail Term) -&gt; NamesT Fail Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035317"><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035317"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">NamesT Fail Term -&gt; NamesT Fail Term
</span><a href="#local-6989586621681035328"><span class="hs-identifier hs-var">proj</span></a></span><span> </span><span class="annot"><span class="annottext">(NamesT Fail Term -&gt; NamesT Fail Term)
-&gt; NamesT Fail Term -&gt; NamesT Fail Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035321"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT Fail Term -&gt; NamesT Fail Term -&gt; NamesT Fail Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035318"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT Fail Term -&gt; NamesT Fail Term -&gt; NamesT Fail Term
forall (m :: * -&gt; *). Applicative m =&gt; m Term -&gt; m Term -&gt; m Term
</span><a href="Agda.TypeChecking.Primitive.Base.html#%3C..%3E"><span class="hs-operator hs-var">&lt;..&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035317"><span class="hs-identifier hs-var">o</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- TODO wait for phi = 1</span><span>
</span><span id="line-1612"></span><span>                  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NamesT Fail Term -&gt; NamesT Fail Term
</span><a href="#local-6989586621681035328"><span class="hs-identifier hs-var">proj</span></a></span><span> </span><span class="annot"><span class="annottext">NamesT Fail Term
</span><a href="#local-6989586621681035320"><span class="hs-identifier hs-var">w0</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1613"></span><span>
</span><span id="line-1614"></span><span>  </span><span class="annot"><span class="annottext">ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; TCM ()
forall (m :: * -&gt; *).
MonadDebug m =&gt;
ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; m ()
</span><a href="Agda.TypeChecking.Monad.Debug.html#reportSDoc"><span class="hs-identifier hs-var">reportSDoc</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;hcomp.rec&quot;</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">60</span></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Doc -&gt; TCM ()) -&gt; TCMT IO Doc -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; ArgName -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">(ArgName -&gt; TCMT IO Doc) -&gt; ArgName -&gt; TCMT IO Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;filled_types sorts:&quot;</span></span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; ArgName -&gt; ArgName
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[Sort' Term] -&gt; ArgName
forall a. Show a =&gt; a -&gt; ArgName
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Dom LType -&gt; Sort' Term) -&gt; [Dom LType] -&gt; [Sort' Term]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type -&gt; Sort' Term
forall a. LensSort a =&gt; a -&gt; Sort' Term
</span><a href="Agda.Syntax.Internal.html#getSort"><span class="hs-identifier hs-var">getSort</span></a></span><span> </span><span class="annot"><span class="annottext">(Type -&gt; Sort' Term)
-&gt; (Dom LType -&gt; Type) -&gt; Dom LType -&gt; Sort' Term
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">LType -&gt; Type
</span><a href="Agda.TypeChecking.Primitive.Cubical.html#fromLType"><span class="hs-identifier hs-var">fromLType</span></a></span><span> </span><span class="annot"><span class="annottext">(LType -&gt; Type) -&gt; (Dom LType -&gt; LType) -&gt; Dom LType -&gt; Type
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Dom LType -&gt; LType
forall t e. Dom' t e -&gt; e
</span><a href="Agda.Syntax.Internal.html#unDom"><span class="hs-identifier hs-var">unDom</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Dom LType]
</span><a href="#local-6989586621681035351"><span class="hs-identifier hs-var">filled_types</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1615"></span><span>
</span><span id="line-1616"></span><span>  </span><span id="local-6989586621681035316"><span class="annot"><span class="annottext">[Term]
</span><a href="#local-6989586621681035316"><span class="hs-identifier hs-var">bodys</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((Arg QName, Dom LType) -&gt; TCMT IO Term)
-&gt; [(Arg QName, Dom LType)] -&gt; TCMT IO [Term]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">(Arg QName, Dom LType) -&gt; TCMT IO Term
</span><a href="#local-6989586621681035331"><span class="hs-identifier hs-var">mkBody</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Arg QName] -&gt; [Dom LType] -&gt; [(Arg QName, Dom LType)]
forall a b. [a] -&gt; [b] -&gt; [(a, b)]
</span><span class="hs-identifier hs-var">zip</span></span><span> </span><span class="annot"><span class="annottext">[Arg QName]
</span><a href="#local-6989586621681035401"><span class="hs-identifier hs-var">fns</span></a></span><span> </span><span class="annot"><span class="annottext">[Dom LType]
</span><a href="#local-6989586621681035351"><span class="hs-identifier hs-var">filled_types</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1617"></span><span>  </span><span class="annot"><span class="annottext">((QName, Tele (Dom Type), Type, [Dom Type], [Term]), Substitution)
-&gt; TCMT
     IO
     ((QName, Tele (Dom Type), Type, [Dom Type], [Term]), Substitution)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(((QName, Tele (Dom Type), Type, [Dom Type], [Term]), Substitution)
 -&gt; TCMT
      IO
      ((QName, Tele (Dom Type), Type, [Dom Type], [Term]), Substitution))
-&gt; ((QName, Tele (Dom Type), Type, [Dom Type], [Term]),
    Substitution)
-&gt; TCMT
     IO
     ((QName, Tele (Dom Type), Type, [Dom Type], [Term]), Substitution)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681035385"><span class="hs-identifier hs-var">theName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035376"><span class="hs-identifier hs-var">gamma</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035375"><span class="hs-identifier hs-var">rtype</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(Dom LType -&gt; Dom Type) -&gt; [Dom LType] -&gt; [Dom Type]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(LType -&gt; Type) -&gt; Dom LType -&gt; Dom Type
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">LType -&gt; Type
</span><a href="Agda.TypeChecking.Primitive.Cubical.html#fromLType"><span class="hs-identifier hs-var">fromLType</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Dom LType]
</span><a href="#local-6989586621681035354"><span class="hs-identifier hs-var">clause_types</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Term]
</span><a href="#local-6989586621681035316"><span class="hs-identifier hs-var">bodys</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span class="annot"><span class="annottext">Substitution
forall a. Substitution' a
</span><a href="Agda.Syntax.Internal.html#IdS"><span class="hs-identifier hs-var">IdS</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1618"></span><span>
</span><span id="line-1619"></span><span>
</span><span id="line-1620"></span><span class="annot"><a href="Agda.TypeChecking.Rules.Data.html#getGeneralizedParameters"><span class="hs-identifier hs-type">getGeneralizedParameters</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Set</span></span><span> </span><span class="annot"><a href="Agda.Syntax.Abstract.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Abstract.Name.html#QName"><span class="hs-identifier hs-type">QName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#TCM"><span class="hs-identifier hs-type">TCM</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Agda.Syntax.Abstract.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1621"></span><span id="getGeneralizedParameters"><span class="annot"><span class="annottext">getGeneralizedParameters :: Set Name -&gt; QName -&gt; TCM [Maybe Name]
</span><a href="Agda.TypeChecking.Rules.Data.html#getGeneralizedParameters"><span class="hs-identifier hs-var hs-var">getGeneralizedParameters</span></a></span></span><span> </span><span id="local-6989586621681035315"><span class="annot"><span class="annottext">Set Name
</span><a href="#local-6989586621681035315"><span class="hs-identifier hs-var">gpars</span></a></span></span><span> </span><span id="local-6989586621681035314"><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681035314"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Set Name -&gt; Bool
forall a. Set a -&gt; Bool
</span><span class="hs-identifier hs-var">Set.null</span></span><span> </span><span class="annot"><span class="annottext">Set Name
</span><a href="#local-6989586621681035315"><span class="hs-identifier hs-var">gpars</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Maybe Name] -&gt; TCM [Maybe Name]
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-1622"></span><span class="annot"><a href="Agda.TypeChecking.Rules.Data.html#getGeneralizedParameters"><span class="hs-identifier hs-var">getGeneralizedParameters</span></a></span><span> </span><span id="local-6989586621681035312"><span class="annot"><span class="annottext">Set Name
</span><a href="#local-6989586621681035312"><span class="hs-identifier hs-var">gpars</span></a></span></span><span> </span><span id="local-6989586621681035311"><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681035311"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1623"></span><span>  </span><span class="hs-comment">-- Drop the named parameters that shouldn't be in scope (if the user</span><span>
</span><span id="line-1624"></span><span>  </span><span class="hs-comment">-- wrote a split data type)</span><span>
</span><span id="line-1625"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681035310"><span class="annot"><span class="annottext">inscope :: Name -&gt; Maybe Name
</span><a href="#local-6989586621681035310"><span class="hs-identifier hs-var hs-var">inscope</span></a></span></span><span> </span><span id="local-6989586621681035309"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681035309"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681035309"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Maybe () -&gt; Maybe Name
forall (f :: * -&gt; *) a b. Functor f =&gt; a -&gt; f b -&gt; f a
</span><span class="hs-operator hs-var">&lt;$</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Maybe ()
forall (f :: * -&gt; *). Alternative f =&gt; Bool -&gt; f ()
</span><span class="hs-identifier hs-var">guard</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; Set Name -&gt; Bool
forall a. Ord a =&gt; a -&gt; Set a -&gt; Bool
</span><span class="hs-identifier hs-var">Set.member</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681035309"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Set Name
</span><a href="#local-6989586621681035312"><span class="hs-identifier hs-var">gpars</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1626"></span><span>  </span><span class="annot"><span class="annottext">(Maybe Name -&gt; Maybe Name) -&gt; [Maybe Name] -&gt; [Maybe Name]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Name -&gt; (Name -&gt; Maybe Name) -&gt; Maybe Name
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Maybe Name
</span><a href="#local-6989586621681035310"><span class="hs-identifier hs-var">inscope</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([Maybe Name] -&gt; [Maybe Name])
-&gt; (Definition -&gt; [Maybe Name]) -&gt; Definition -&gt; [Maybe Name]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Definition -&gt; [Maybe Name]
</span><a href="Agda.TypeChecking.Monad.Base.html#defGeneralizedParams"><span class="hs-identifier hs-var">defGeneralizedParams</span></a></span><span> </span><span class="annot"><span class="annottext">(Definition -&gt; [Maybe Name])
-&gt; TCMT IO Definition -&gt; TCM [Maybe Name]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Definition -&gt; TCMT IO Definition
forall (m :: * -&gt; *).
(Functor m, HasConstInfo m, HasOptions m, ReadTCState m,
 MonadTCEnv m, MonadDebug m) =&gt;
Definition -&gt; m Definition
</span><a href="Agda.TypeChecking.Monad.Signature.html#instantiateDef"><span class="hs-identifier hs-var">instantiateDef</span></a></span><span> </span><span class="annot"><span class="annottext">(Definition -&gt; TCMT IO Definition)
-&gt; TCMT IO Definition -&gt; TCMT IO Definition
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span> </span><span class="annot"><span class="annottext">QName -&gt; TCMT IO Definition
forall (m :: * -&gt; *). HasConstInfo m =&gt; QName -&gt; m Definition
</span><a href="Agda.TypeChecking.Monad.Signature.html#getConstInfo"><span class="hs-identifier hs-var">getConstInfo</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681035311"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1627"></span><span>
</span><span id="line-1628"></span><span class="hs-comment">-- | Bind the named generalized parameters.</span><span>
</span><span id="line-1629"></span><span id="local-6989586621681039999"><span class="annot"><a href="Agda.TypeChecking.Rules.Data.html#bindGeneralizedParameters"><span class="hs-identifier hs-type">bindGeneralizedParameters</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Agda.Syntax.Abstract.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Internal.html#Telescope"><span class="hs-identifier hs-type">Telescope</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#TCM"><span class="hs-identifier hs-type">TCM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681039999"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#TCM"><span class="hs-identifier hs-type">TCM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681039999"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-1630"></span><span id="bindGeneralizedParameters"><span class="annot"><span class="annottext">bindGeneralizedParameters :: forall a.
[Maybe Name] -&gt; Type -&gt; (Tele (Dom Type) -&gt; Type -&gt; TCM a) -&gt; TCM a
</span><a href="Agda.TypeChecking.Rules.Data.html#bindGeneralizedParameters"><span class="hs-identifier hs-var hs-var">bindGeneralizedParameters</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span id="local-6989586621681035298"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035298"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621681035297"><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Type -&gt; TCM a
</span><a href="#local-6989586621681035297"><span class="hs-identifier hs-var">ret</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Type -&gt; TCM a
</span><a href="#local-6989586621681035297"><span class="hs-identifier hs-var">ret</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
forall a. Tele a
</span><a href="Agda.Syntax.Internal.html#EmptyTel"><span class="hs-identifier hs-var">EmptyTel</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035298"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-1631"></span><span class="annot"><a href="Agda.TypeChecking.Rules.Data.html#bindGeneralizedParameters"><span class="hs-identifier hs-var">bindGeneralizedParameters</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681035296"><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621681035296"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621681035295"><span class="annot"><span class="annottext">[Maybe Name]
</span><a href="#local-6989586621681035295"><span class="hs-identifier hs-var">names</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681035294"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035294"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621681035293"><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Type -&gt; TCM a
</span><a href="#local-6989586621681035293"><span class="hs-identifier hs-var">ret</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1632"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Type -&gt; Term
forall t a. Type'' t a -&gt; a
</span><a href="Agda.Syntax.Internal.html#unEl"><span class="hs-identifier hs-var">unEl</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035294"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1633"></span><span>    </span><span class="annot"><a href="Agda.Syntax.Internal.html#Pi"><span class="hs-identifier hs-type">Pi</span></a></span><span> </span><span id="local-6989586621681035291"><span class="annot"><span class="annottext">Dom Type
</span><a href="#local-6989586621681035291"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681035290"><span class="annot"><span class="annottext">Abs Type
</span><a href="#local-6989586621681035290"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TCM a -&gt; TCM a
</span><a href="#local-6989586621681035289"><span class="hs-identifier hs-var">ext</span></a></span><span> </span><span class="annot"><span class="annottext">(TCM a -&gt; TCM a) -&gt; TCM a -&gt; TCM a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Maybe Name] -&gt; Type -&gt; (Tele (Dom Type) -&gt; Type -&gt; TCM a) -&gt; TCM a
forall a.
[Maybe Name] -&gt; Type -&gt; (Tele (Dom Type) -&gt; Type -&gt; TCM a) -&gt; TCM a
</span><a href="Agda.TypeChecking.Rules.Data.html#bindGeneralizedParameters"><span class="hs-identifier hs-var">bindGeneralizedParameters</span></a></span><span> </span><span class="annot"><span class="annottext">[Maybe Name]
</span><a href="#local-6989586621681035295"><span class="hs-identifier hs-var">names</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Abs Type -&gt; Type
forall a. Abs a -&gt; a
</span><a href="Agda.Syntax.Internal.html#unAbs"><span class="hs-identifier hs-var">unAbs</span></a></span><span> </span><span class="annot"><span class="annottext">Abs Type
</span><a href="#local-6989586621681035290"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((Tele (Dom Type) -&gt; Type -&gt; TCM a) -&gt; TCM a)
-&gt; (Tele (Dom Type) -&gt; Type -&gt; TCM a) -&gt; TCM a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035287"><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035287"><span class="hs-identifier hs-var">tel</span></a></span></span><span> </span><span id="local-6989586621681035286"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035286"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Type -&gt; TCM a
</span><a href="#local-6989586621681035293"><span class="hs-identifier hs-var">ret</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Dom Type -&gt; Abs (Tele (Dom Type)) -&gt; Tele (Dom Type)
forall a. a -&gt; Abs (Tele a) -&gt; Tele a
</span><a href="Agda.Syntax.Internal.html#ExtendTel"><span class="hs-identifier hs-var">ExtendTel</span></a></span><span> </span><span class="annot"><span class="annottext">Dom Type
</span><a href="#local-6989586621681035291"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035287"><span class="hs-identifier hs-var">tel</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Abs Type -&gt; Abs (Tele (Dom Type))
forall (f :: * -&gt; *) a b. Functor f =&gt; a -&gt; f b -&gt; f a
</span><span class="hs-operator hs-var">&lt;$</span></span><span> </span><span class="annot"><span class="annottext">Abs Type
</span><a href="#local-6989586621681035290"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035286"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-1634"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-1635"></span><span>        </span><span id="local-6989586621681035289"><span class="annot"><span class="annottext">ext :: TCM a -&gt; TCM a
</span><a href="#local-6989586621681035289"><span class="hs-identifier hs-var hs-var">ext</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681035285"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681035285"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621681035296"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Name, Dom Type) -&gt; TCM a -&gt; TCM a
forall b (m :: * -&gt; *) a.
(AddContext b, MonadAddContext m) =&gt;
b -&gt; m a -&gt; m a
</span><a href="Agda.TypeChecking.Monad.Context.html#addContext"><span class="hs-identifier hs-var">addContext</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681035285"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Dom Type
</span><a href="#local-6989586621681035291"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1636"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ArgName, Dom Type) -&gt; TCM a -&gt; TCM a
forall b (m :: * -&gt; *) a.
(AddContext b, MonadAddContext m) =&gt;
b -&gt; m a -&gt; m a
</span><a href="Agda.TypeChecking.Monad.Context.html#addContext"><span class="hs-identifier hs-var">addContext</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Abs Type -&gt; ArgName
forall a. Abs a -&gt; ArgName
</span><a href="Agda.Syntax.Internal.html#absName"><span class="hs-identifier hs-var">absName</span></a></span><span> </span><span class="annot"><span class="annottext">Abs Type
</span><a href="#local-6989586621681035290"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Dom Type
</span><a href="#local-6989586621681035291"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1637"></span><span>    </span><span class="annot"><span class="annottext">Term
</span><span class="hs-identifier">_</span></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TCM a
forall a. HasCallStack =&gt; a
</span><a href="Agda.Utils.Impossible.html#__IMPOSSIBLE__"><span class="hs-identifier hs-var">__IMPOSSIBLE__</span></a></span><span>
</span><span id="line-1638"></span><span>
</span><span id="line-1639"></span><span class="hs-comment">-- | Bind the parameters of a datatype.</span><span>
</span><span id="line-1640"></span><span class="hs-comment">--</span><span>
</span><span id="line-1641"></span><span class="hs-comment">--   We allow omission of hidden parameters at the definition site.</span><span>
</span><span id="line-1642"></span><span class="hs-comment">--   Example:</span><span>
</span><span id="line-1643"></span><span class="hs-comment">--   @</span><span>
</span><span id="line-1644"></span><span class="hs-comment">--     data D {a} (A : Set a) : Set a</span><span>
</span><span id="line-1645"></span><span class="hs-comment">--     data D A where</span><span>
</span><span id="line-1646"></span><span class="hs-comment">--       c : A -&gt; D A</span><span>
</span><span id="line-1647"></span><span class="hs-comment">--   @</span><span>
</span><span id="line-1648"></span><span>
</span><span id="line-1649"></span><span id="local-6989586621681039998"><span class="annot"><a href="Agda.TypeChecking.Rules.Data.html#bindParameters"><span class="hs-identifier hs-type">bindParameters</span></a></span><span>
</span><span id="line-1650"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>            </span><span class="hs-comment">-- ^ Number of parameters</span><span>
</span><span id="line-1651"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Agda.Syntax.Abstract.html#LamBinding"><span class="hs-identifier hs-type">A.LamBinding</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-comment">-- ^ Bindings from definition site.</span><span>
</span><span id="line-1652"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span>           </span><span class="hs-comment">-- ^ Pi-type of bindings coming from signature site.</span><span>
</span><span id="line-1653"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Internal.html#Telescope"><span class="hs-identifier hs-type">Telescope</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#TCM"><span class="hs-identifier hs-type">TCM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681039998"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1654"></span><span>     </span><span class="hs-comment">-- ^ Continuation, accepting parameter telescope and rest of type.</span><span>
</span><span id="line-1655"></span><span>     </span><span class="hs-comment">--   The parameters are part of the context when the continutation is invoked.</span><span>
</span><span id="line-1656"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#TCM"><span class="hs-identifier hs-type">TCM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681039998"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-1657"></span><span>
</span><span id="line-1658"></span><span id="bindParameters"><span class="annot"><span class="annottext">bindParameters :: forall a.
Nat
-&gt; [LamBinding]
-&gt; Type
-&gt; (Tele (Dom Type) -&gt; Type -&gt; TCM a)
-&gt; TCM a
</span><a href="Agda.TypeChecking.Rules.Data.html#bindParameters"><span class="hs-identifier hs-var hs-var">bindParameters</span></a></span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">0</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span id="local-6989586621681035165"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035165"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681035164"><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Type -&gt; TCM a
</span><a href="#local-6989586621681035164"><span class="hs-identifier hs-var">ret</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Type -&gt; TCM a
</span><a href="#local-6989586621681035164"><span class="hs-identifier hs-var">ret</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
forall a. Tele a
</span><a href="Agda.Syntax.Internal.html#EmptyTel"><span class="hs-identifier hs-var">EmptyTel</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035165"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-1659"></span><span>
</span><span id="line-1660"></span><span class="annot"><a href="Agda.TypeChecking.Rules.Data.html#bindParameters"><span class="hs-identifier hs-var">bindParameters</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">0</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681035163"><span class="annot"><span class="annottext">LamBinding
</span><a href="#local-6989586621681035163"><span class="hs-identifier hs-var">par</span></a></span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><span class="annottext">[LamBinding]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Type
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Type -&gt; TCM a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LamBinding -&gt; TCM a -&gt; TCM a
forall (m :: * -&gt; *) x a.
(MonadTrace m, HasRange x) =&gt;
x -&gt; m a -&gt; m a
</span><a href="Agda.TypeChecking.Monad.Trace.html#setCurrentRange"><span class="hs-identifier hs-var">setCurrentRange</span></a></span><span> </span><span class="annot"><span class="annottext">LamBinding
</span><a href="#local-6989586621681035163"><span class="hs-identifier hs-var">par</span></a></span><span> </span><span class="annot"><span class="annottext">(TCM a -&gt; TCM a) -&gt; TCM a -&gt; TCM a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1661"></span><span>  </span><span class="annot"><span class="annottext">TypeError -&gt; TCM a
forall (m :: * -&gt; *) a.
(HasCallStack, MonadTCError m) =&gt;
TypeError -&gt; m a
</span><a href="Agda.TypeChecking.Monad.Base.html#typeError"><span class="hs-identifier hs-var">typeError</span></a></span><span> </span><span class="annot"><span class="annottext">(TypeError -&gt; TCM a) -&gt; (Doc -&gt; TypeError) -&gt; Doc -&gt; TCM a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; TypeError
</span><a href="Agda.TypeChecking.Monad.Base.html#GenericDocError"><span class="hs-identifier hs-var">GenericDocError</span></a></span><span> </span><span class="annot"><span class="annottext">(Doc -&gt; TCM a) -&gt; TCMT IO Doc -&gt; TCM a
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1662"></span><span>    </span><span class="annot"><span class="annottext">ArgName -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; ArgName -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;Unexpected parameter&quot;</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; m Doc -&gt; m Doc -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">LamBinding -&gt; TCMT IO Doc
forall a (m :: * -&gt; *).
(ToConcrete a, Pretty (ConOfAbs a), MonadAbsToCon m) =&gt;
a -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#prettyA"><span class="hs-identifier hs-var">prettyA</span></a></span><span> </span><span class="annot"><span class="annottext">LamBinding
</span><a href="#local-6989586621681035163"><span class="hs-identifier hs-var">par</span></a></span><span>
</span><span id="line-1663"></span><span>
</span><span id="line-1664"></span><span class="annot"><a href="Agda.TypeChecking.Rules.Data.html#bindParameters"><span class="hs-identifier hs-var">bindParameters</span></a></span><span> </span><span id="local-6989586621681035161"><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681035161"><span class="hs-identifier hs-var">npars</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span id="local-6989586621681035160"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035160"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621681035159"><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Type -&gt; TCM a
</span><a href="#local-6989586621681035159"><span class="hs-identifier hs-var">ret</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1665"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Type -&gt; Term
forall t a. Type'' t a -&gt; a
</span><a href="Agda.Syntax.Internal.html#unEl"><span class="hs-identifier hs-var">unEl</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035160"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1666"></span><span>    </span><span class="annot"><a href="Agda.Syntax.Internal.html#Pi"><span class="hs-identifier hs-type">Pi</span></a></span><span> </span><span id="local-6989586621681035158"><span class="annot"><span class="annottext">Dom Type
</span><a href="#local-6989586621681035158"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681035157"><span class="annot"><span class="annottext">Abs Type
</span><a href="#local-6989586621681035157"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Dom Type -&gt; Bool
forall a. LensHiding a =&gt; a -&gt; Bool
</span><a href="Agda.Syntax.Common.html#visible"><span class="hs-identifier hs-var">visible</span></a></span><span> </span><span class="annot"><span class="annottext">Dom Type
</span><a href="#local-6989586621681035158"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1667"></span><span>              </span><span id="local-6989586621681035155"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681035155"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; TCMT IO Name
forall a (m :: * -&gt; *).
(FreshName a, MonadFresh NameId m) =&gt;
a -&gt; m Name
</span><a href="Agda.TypeChecking.Monad.Base.html#freshName_"><span class="hs-identifier hs-var">freshName_</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Abs Type -&gt; ArgName
forall a. Abs a -&gt; ArgName
</span><a href="Agda.Syntax.Internal.html#absName"><span class="hs-identifier hs-var">absName</span></a></span><span> </span><span class="annot"><span class="annottext">Abs Type
</span><a href="#local-6989586621681035157"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1668"></span><span>              </span><span class="annot"><span class="annottext">Nat
-&gt; [LamBinding]
-&gt; Name
-&gt; Dom Type
-&gt; Abs Type
-&gt; (Tele (Dom Type) -&gt; Type -&gt; TCM a)
-&gt; TCM a
forall a.
Nat
-&gt; [LamBinding]
-&gt; Name
-&gt; Dom Type
-&gt; Abs Type
-&gt; (Tele (Dom Type) -&gt; Type -&gt; TCM a)
-&gt; TCM a
</span><a href="Agda.TypeChecking.Rules.Data.html#bindParameter"><span class="hs-identifier hs-var">bindParameter</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681035161"><span class="hs-identifier hs-var">npars</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681035155"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Dom Type
</span><a href="#local-6989586621681035158"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Abs Type
</span><a href="#local-6989586621681035157"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Type -&gt; TCM a
</span><a href="#local-6989586621681035159"><span class="hs-identifier hs-var">ret</span></a></span><span>
</span><span id="line-1669"></span><span>           </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1670"></span><span>              </span><span class="annot"><span class="annottext">TypeError -&gt; TCM a
forall (m :: * -&gt; *) a.
(HasCallStack, MonadTCError m) =&gt;
TypeError -&gt; m a
</span><a href="Agda.TypeChecking.Monad.Base.html#typeError"><span class="hs-identifier hs-var">typeError</span></a></span><span> </span><span class="annot"><span class="annottext">(TypeError -&gt; TCM a) -&gt; (Doc -&gt; TypeError) -&gt; Doc -&gt; TCM a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; TypeError
</span><a href="Agda.TypeChecking.Monad.Base.html#GenericDocError"><span class="hs-identifier hs-var">GenericDocError</span></a></span><span> </span><span class="annot"><span class="annottext">(Doc -&gt; TCM a) -&gt; TCMT IO Doc -&gt; TCM a
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span>
</span><span id="line-1671"></span><span>                </span><span class="annot"><span class="annottext">[TCMT IO Doc] -&gt; TCMT IO Doc
forall (m :: * -&gt; *) (t :: * -&gt; *).
(Applicative m, Foldable t) =&gt;
t (m Doc) -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#sep"><span class="hs-identifier hs-var">sep</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc
</span><span class="hs-string">&quot;Expected binding for parameter&quot;</span></span><span>
</span><span id="line-1672"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; ArgName -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Abs Type -&gt; ArgName
forall a. Abs a -&gt; ArgName
</span><a href="Agda.Syntax.Internal.html#absName"><span class="hs-identifier hs-var">absName</span></a></span><span> </span><span class="annot"><span class="annottext">Abs Type
</span><a href="#local-6989586621681035157"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; m Doc -&gt; m Doc -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; ArgName -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;:&quot;</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; m Doc -&gt; m Doc -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Type -&gt; TCMT IO Doc
forall a (m :: * -&gt; *). (PrettyTCM a, MonadPretty m) =&gt; a -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#prettyTCM"><span class="hs-identifier hs-var">prettyTCM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Dom Type -&gt; Type
forall t e. Dom' t e -&gt; e
</span><a href="Agda.Syntax.Internal.html#unDom"><span class="hs-identifier hs-var">unDom</span></a></span><span> </span><span class="annot"><span class="annottext">Dom Type
</span><a href="#local-6989586621681035158"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-1673"></span><span>    </span><span class="annot"><span class="annottext">Term
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TCM a
forall a. HasCallStack =&gt; a
</span><a href="Agda.Utils.Impossible.html#__IMPOSSIBLE__"><span class="hs-identifier hs-var">__IMPOSSIBLE__</span></a></span><span>
</span><span id="line-1674"></span><span>
</span><span id="line-1675"></span><span class="annot"><a href="Agda.TypeChecking.Rules.Data.html#bindParameters"><span class="hs-identifier hs-var">bindParameters</span></a></span><span> </span><span id="local-6989586621681035152"><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681035152"><span class="hs-identifier hs-var">npars</span></a></span></span><span> </span><span id="local-6989586621681035151"><span class="annot"><span class="annottext">par :: [LamBinding]
</span><a href="#local-6989586621681035151"><span class="hs-identifier hs-var">par</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Abstract.html#DomainFull"><span class="hs-identifier hs-type">A.DomainFull</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Abstract.html#TBind"><span class="hs-identifier hs-type">A.TBind</span></a></span><span> </span><span class="annot"><span class="annottext">Range
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">TacticAttr
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681035148"><span class="annot"><span class="annottext">List1 (NamedArg Binder)
</span><a href="#local-6989586621681035148"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span id="local-6989586621681035147"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035147"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621681035146"><span class="annot"><span class="annottext">[LamBinding]
</span><a href="#local-6989586621681035146"><span class="hs-identifier hs-var">bs</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681035145"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035145"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681035144"><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Type -&gt; TCM a
</span><a href="#local-6989586621681035144"><span class="hs-identifier hs-var">ret</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1676"></span><span>  </span><span class="annot"><span class="annottext">[LamBinding] -&gt; TCM a -&gt; TCM a
forall (m :: * -&gt; *) x a.
(MonadTrace m, HasRange x) =&gt;
x -&gt; m a -&gt; m a
</span><a href="Agda.TypeChecking.Monad.Trace.html#setCurrentRange"><span class="hs-identifier hs-var">setCurrentRange</span></a></span><span> </span><span class="annot"><span class="annottext">[LamBinding]
</span><a href="#local-6989586621681035151"><span class="hs-identifier hs-var">par</span></a></span><span> </span><span class="annot"><span class="annottext">(TCM a -&gt; TCM a) -&gt; TCM a -&gt; TCM a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1677"></span><span>  </span><span class="annot"><span class="annottext">TypeError -&gt; TCM a
forall (m :: * -&gt; *) a.
(HasCallStack, MonadTCError m) =&gt;
TypeError -&gt; m a
</span><a href="Agda.TypeChecking.Monad.Base.html#typeError"><span class="hs-identifier hs-var">typeError</span></a></span><span> </span><span class="annot"><span class="annottext">(TypeError -&gt; TCM a) -&gt; (Doc -&gt; TypeError) -&gt; Doc -&gt; TCM a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; TypeError
</span><a href="Agda.TypeChecking.Monad.Base.html#GenericDocError"><span class="hs-identifier hs-var">GenericDocError</span></a></span><span> </span><span class="annot"><span class="annottext">(Doc -&gt; TCM a) -&gt; TCMT IO Doc -&gt; TCM a
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1678"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681035143"><span class="annot"><span class="annottext">s :: ArgName
</span><a href="#local-6989586621681035143"><span class="hs-identifier hs-var hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">List1 (NamedArg Binder) -&gt; Nat
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Nat
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">List1 (NamedArg Binder)
</span><a href="#local-6989586621681035148"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Nat -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">1</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;s&quot;</span></span><span>
</span><span id="line-1679"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-1680"></span><span>    </span><span class="annot"><span class="annottext">ArgName -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; ArgName -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;Unexpected type signature for parameter&quot;</span></span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; ArgName -&gt; ArgName
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><a href="#local-6989586621681035143"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; m Doc -&gt; m Doc -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">NonEmpty (TCMT IO Doc) -&gt; TCMT IO Doc
forall (m :: * -&gt; *) (t :: * -&gt; *).
(Applicative m, Foldable t) =&gt;
t (m Doc) -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#sep"><span class="hs-identifier hs-var">sep</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(NamedArg Binder -&gt; TCMT IO Doc)
-&gt; List1 (NamedArg Binder) -&gt; NonEmpty (TCMT IO Doc)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">NamedArg Binder -&gt; TCMT IO Doc
forall a (m :: * -&gt; *).
(ToConcrete a, Pretty (ConOfAbs a), MonadAbsToCon m) =&gt;
a -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#prettyA"><span class="hs-identifier hs-var">prettyA</span></a></span><span> </span><span class="annot"><span class="annottext">List1 (NamedArg Binder)
</span><a href="#local-6989586621681035148"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1681"></span><span>
</span><span id="line-1682"></span><span class="annot"><a href="Agda.TypeChecking.Rules.Data.html#bindParameters"><span class="hs-identifier hs-var">bindParameters</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Abstract.html#DomainFull"><span class="hs-identifier hs-type">A.DomainFull</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Abstract.html#TLet"><span class="hs-identifier hs-type">A.TLet</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><span class="annottext">[LamBinding]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Type
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Type -&gt; TCM a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TCM a
forall a. HasCallStack =&gt; a
</span><a href="Agda.Utils.Impossible.html#__IMPOSSIBLE__"><span class="hs-identifier hs-var">__IMPOSSIBLE__</span></a></span><span>
</span><span id="line-1683"></span><span>
</span><span id="line-1684"></span><span class="annot"><a href="Agda.TypeChecking.Rules.Data.html#bindParameters"><span class="hs-identifier hs-var">bindParameters</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681035141"><span class="annot"><span class="annottext">par :: LamBinding
</span><a href="#local-6989586621681035141"><span class="hs-identifier hs-var">par</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Abstract.html#DomainFree"><span class="hs-identifier hs-type">A.DomainFree</span></a></span><span> </span><span class="annot"><span class="annottext">TacticAttr
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681035139"><span class="annot"><span class="annottext">NamedArg Binder
</span><a href="#local-6989586621681035139"><span class="hs-identifier hs-var">arg</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621681035138"><span class="annot"><span class="annottext">[LamBinding]
</span><a href="#local-6989586621681035138"><span class="hs-identifier hs-var">ps</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Type
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Type -&gt; TCM a
</span><span class="hs-identifier">_</span></span><span>
</span><span id="line-1685"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">NamedArg Binder -&gt; Modality
forall a. LensModality a =&gt; a -&gt; Modality
</span><a href="Agda.Syntax.Common.html#getModality"><span class="hs-identifier hs-var">getModality</span></a></span><span> </span><span class="annot"><span class="annottext">NamedArg Binder
</span><a href="#local-6989586621681035139"><span class="hs-identifier hs-var">arg</span></a></span><span> </span><span class="annot"><span class="annottext">Modality -&gt; Modality -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">Modality
</span><a href="Agda.Syntax.Common.html#defaultModality"><span class="hs-identifier hs-var">defaultModality</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LamBinding -&gt; TCM a -&gt; TCM a
forall (m :: * -&gt; *) x a.
(MonadTrace m, HasRange x) =&gt;
x -&gt; m a -&gt; m a
</span><a href="Agda.TypeChecking.Monad.Trace.html#setCurrentRange"><span class="hs-identifier hs-var">setCurrentRange</span></a></span><span> </span><span class="annot"><span class="annottext">LamBinding
</span><a href="#local-6989586621681035141"><span class="hs-identifier hs-var">par</span></a></span><span> </span><span class="annot"><span class="annottext">(TCM a -&gt; TCM a) -&gt; TCM a -&gt; TCM a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1686"></span><span>     </span><span class="annot"><span class="annottext">TypeError -&gt; TCM a
forall (m :: * -&gt; *) a.
(HasCallStack, MonadTCError m) =&gt;
TypeError -&gt; m a
</span><a href="Agda.TypeChecking.Monad.Base.html#typeError"><span class="hs-identifier hs-var">typeError</span></a></span><span> </span><span class="annot"><span class="annottext">(TypeError -&gt; TCM a) -&gt; (Doc -&gt; TypeError) -&gt; Doc -&gt; TCM a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; TypeError
</span><a href="Agda.TypeChecking.Monad.Base.html#GenericDocError"><span class="hs-identifier hs-var">GenericDocError</span></a></span><span> </span><span class="annot"><span class="annottext">(Doc -&gt; TCM a) -&gt; TCMT IO Doc -&gt; TCM a
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1687"></span><span>       </span><span class="annot"><span class="annottext">ArgName -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; ArgName -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;Unexpected modality/relevance annotation in&quot;</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; m Doc -&gt; m Doc -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">LamBinding -&gt; TCMT IO Doc
forall a (m :: * -&gt; *).
(ToConcrete a, Pretty (ConOfAbs a), MonadAbsToCon m) =&gt;
a -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#prettyA"><span class="hs-identifier hs-var">prettyA</span></a></span><span> </span><span class="annot"><span class="annottext">LamBinding
</span><a href="#local-6989586621681035141"><span class="hs-identifier hs-var">par</span></a></span><span>
</span><span id="line-1688"></span><span>
</span><span id="line-1689"></span><span class="annot"><a href="Agda.TypeChecking.Rules.Data.html#bindParameters"><span class="hs-identifier hs-var">bindParameters</span></a></span><span> </span><span id="local-6989586621681035135"><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681035135"><span class="hs-identifier hs-var">npars</span></a></span></span><span> </span><span id="local-6989586621681035134"><span class="annot"><span class="annottext">ps0 :: [LamBinding]
</span><a href="#local-6989586621681035134"><span class="hs-identifier hs-var">ps0</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span id="local-6989586621681035133"><span class="annot"><span class="annottext">par :: LamBinding
</span><a href="#local-6989586621681035133"><span class="hs-identifier hs-var">par</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Abstract.html#DomainFree"><span class="hs-identifier hs-type">A.DomainFree</span></a></span><span> </span><span class="annot"><span class="annottext">TacticAttr
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681035132"><span class="annot"><span class="annottext">NamedArg Binder
</span><a href="#local-6989586621681035132"><span class="hs-identifier hs-var">arg</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621681035131"><span class="annot"><span class="annottext">[LamBinding]
</span><a href="#local-6989586621681035131"><span class="hs-identifier hs-var">ps</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681035130"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035130"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621681035129"><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Type -&gt; TCM a
</span><a href="#local-6989586621681035129"><span class="hs-identifier hs-var">ret</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1690"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681035128"><span class="annot"><span class="annottext">x :: Binder
</span><a href="#local-6989586621681035128"><span class="hs-identifier hs-var hs-var">x</span></a></span></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NamedArg Binder -&gt; Binder
forall a. NamedArg a -&gt; a
</span><a href="Agda.Syntax.Common.html#namedArg"><span class="hs-identifier hs-var">namedArg</span></a></span><span> </span><span class="annot"><span class="annottext">NamedArg Binder
</span><a href="#local-6989586621681035132"><span class="hs-identifier hs-var">arg</span></a></span><span>
</span><span id="line-1691"></span><span>      </span><span class="annot"><a href="Agda.TypeChecking.Substitute.html#TelV"><span class="hs-identifier hs-type">TelV</span></a></span><span> </span><span id="local-6989586621681035126"><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035126"><span class="hs-identifier hs-var">tel</span></a></span></span><span> </span><span class="annot"><span class="annottext">Type
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type -&gt; TelV Type
</span><a href="Agda.TypeChecking.Substitute.html#telView%27"><span class="hs-identifier hs-var">telView'</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035130"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-1692"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">NamedArg Binder -&gt; [Dom' Term (ArgName, Type)] -&gt; ImplicitInsertion
forall e a. NamedArg e -&gt; [Dom a] -&gt; ImplicitInsertion
</span><a href="Agda.TypeChecking.Implicit.html#insertImplicit"><span class="hs-identifier hs-var">insertImplicit</span></a></span><span> </span><span class="annot"><span class="annottext">NamedArg Binder
</span><a href="#local-6989586621681035132"><span class="hs-identifier hs-var">arg</span></a></span><span> </span><span class="annot"><span class="annottext">([Dom' Term (ArgName, Type)] -&gt; ImplicitInsertion)
-&gt; [Dom' Term (ArgName, Type)] -&gt; ImplicitInsertion
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; [Dom' Term (ArgName, Type)]
forall t. Tele (Dom t) -&gt; [Dom (ArgName, t)]
</span><a href="Agda.Syntax.Internal.html#telToList"><span class="hs-identifier hs-var">telToList</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035126"><span class="hs-identifier hs-var">tel</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1693"></span><span>    </span><span class="annot"><span class="annottext">ImplicitInsertion
</span><a href="Agda.TypeChecking.Implicit.html#NoInsertNeeded"><span class="hs-identifier hs-var">NoInsertNeeded</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[LamBinding] -&gt; Name -&gt; TCM a
</span><a href="#local-6989586621681035123"><span class="hs-identifier hs-var">continue</span></a></span><span> </span><span class="annot"><span class="annottext">[LamBinding]
</span><a href="#local-6989586621681035131"><span class="hs-identifier hs-var">ps</span></a></span><span> </span><span class="annot"><span class="annottext">(Name -&gt; TCM a) -&gt; Name -&gt; TCM a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">BindName -&gt; Name
</span><a href="Agda.Syntax.Abstract.html#unBind"><span class="hs-identifier hs-var">A.unBind</span></a></span><span> </span><span class="annot"><span class="annottext">(BindName -&gt; Name) -&gt; BindName -&gt; Name
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Binder -&gt; BindName
forall a. Binder' a -&gt; a
</span><a href="Agda.Syntax.Abstract.html#binderName"><span class="hs-identifier hs-var">A.binderName</span></a></span><span> </span><span class="annot"><span class="annottext">Binder
</span><a href="#local-6989586621681035128"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-1694"></span><span>    </span><span class="annot"><a href="Agda.TypeChecking.Implicit.html#ImpInsert"><span class="hs-identifier hs-type">ImpInsert</span></a></span><span> </span><span class="annot"><span class="annottext">[Dom ()]
</span><span class="hs-identifier">_</span></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[LamBinding] -&gt; Name -&gt; TCM a
</span><a href="#local-6989586621681035123"><span class="hs-identifier hs-var">continue</span></a></span><span> </span><span class="annot"><span class="annottext">[LamBinding]
</span><a href="#local-6989586621681035134"><span class="hs-identifier hs-var">ps0</span></a></span><span> </span><span class="annot"><span class="annottext">(Name -&gt; TCM a) -&gt; TCMT IO Name -&gt; TCM a
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; TCMT IO Name
forall a (m :: * -&gt; *).
(FreshName a, MonadFresh NameId m) =&gt;
a -&gt; m Name
</span><a href="Agda.TypeChecking.Monad.Base.html#freshName_"><span class="hs-identifier hs-var">freshName_</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Abs Type -&gt; ArgName
forall a. Abs a -&gt; ArgName
</span><a href="Agda.Syntax.Internal.html#absName"><span class="hs-identifier hs-var">absName</span></a></span><span> </span><span class="annot"><span class="annottext">Abs Type
</span><a href="#local-6989586621681035119"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1695"></span><span>    </span><span class="annot"><span class="annottext">ImplicitInsertion
</span><a href="Agda.TypeChecking.Implicit.html#BadImplicits"><span class="hs-identifier hs-var">BadImplicits</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">LamBinding -&gt; TCM a -&gt; TCM a
forall (m :: * -&gt; *) x a.
(MonadTrace m, HasRange x) =&gt;
x -&gt; m a -&gt; m a
</span><a href="Agda.TypeChecking.Monad.Trace.html#setCurrentRange"><span class="hs-identifier hs-var">setCurrentRange</span></a></span><span> </span><span class="annot"><span class="annottext">LamBinding
</span><a href="#local-6989586621681035133"><span class="hs-identifier hs-var">par</span></a></span><span> </span><span class="annot"><span class="annottext">(TCM a -&gt; TCM a) -&gt; TCM a -&gt; TCM a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1696"></span><span>     </span><span class="annot"><span class="annottext">TypeError -&gt; TCM a
forall (m :: * -&gt; *) a.
(HasCallStack, MonadTCError m) =&gt;
TypeError -&gt; m a
</span><a href="Agda.TypeChecking.Monad.Base.html#typeError"><span class="hs-identifier hs-var">typeError</span></a></span><span> </span><span class="annot"><span class="annottext">(TypeError -&gt; TCM a) -&gt; (Doc -&gt; TypeError) -&gt; Doc -&gt; TCM a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; TypeError
</span><a href="Agda.TypeChecking.Monad.Base.html#GenericDocError"><span class="hs-identifier hs-var">GenericDocError</span></a></span><span> </span><span class="annot"><span class="annottext">(Doc -&gt; TCM a) -&gt; TCMT IO Doc -&gt; TCM a
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1697"></span><span>       </span><span class="annot"><span class="annottext">ArgName -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; ArgName -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;Unexpected parameter&quot;</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; m Doc -&gt; m Doc -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">LamBinding -&gt; TCMT IO Doc
forall a (m :: * -&gt; *).
(ToConcrete a, Pretty (ConOfAbs a), MonadAbsToCon m) =&gt;
a -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#prettyA"><span class="hs-identifier hs-var">prettyA</span></a></span><span> </span><span class="annot"><span class="annottext">LamBinding
</span><a href="#local-6989586621681035133"><span class="hs-identifier hs-var">par</span></a></span><span>
</span><span id="line-1698"></span><span>    </span><span class="annot"><a href="Agda.TypeChecking.Implicit.html#NoSuchName"><span class="hs-identifier hs-type">NoSuchName</span></a></span><span> </span><span id="local-6989586621681035116"><span class="annot"><span class="annottext">ArgName
</span><a href="#local-6989586621681035116"><span class="hs-identifier hs-var">x</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">LamBinding -&gt; TCM a -&gt; TCM a
forall (m :: * -&gt; *) x a.
(MonadTrace m, HasRange x) =&gt;
x -&gt; m a -&gt; m a
</span><a href="Agda.TypeChecking.Monad.Trace.html#setCurrentRange"><span class="hs-identifier hs-var">setCurrentRange</span></a></span><span> </span><span class="annot"><span class="annottext">LamBinding
</span><a href="#local-6989586621681035133"><span class="hs-identifier hs-var">par</span></a></span><span> </span><span class="annot"><span class="annottext">(TCM a -&gt; TCM a) -&gt; TCM a -&gt; TCM a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1699"></span><span>      </span><span class="annot"><span class="annottext">TypeError -&gt; TCM a
forall (m :: * -&gt; *) a.
(HasCallStack, MonadTCError m) =&gt;
TypeError -&gt; m a
</span><a href="Agda.TypeChecking.Monad.Base.html#typeError"><span class="hs-identifier hs-var">typeError</span></a></span><span> </span><span class="annot"><span class="annottext">(TypeError -&gt; TCM a) -&gt; (Doc -&gt; TypeError) -&gt; Doc -&gt; TCM a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; TypeError
</span><a href="Agda.TypeChecking.Monad.Base.html#GenericDocError"><span class="hs-identifier hs-var">GenericDocError</span></a></span><span> </span><span class="annot"><span class="annottext">(Doc -&gt; TCM a) -&gt; TCMT IO Doc -&gt; TCM a
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1700"></span><span>        </span><span class="annot"><span class="annottext">ArgName -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; ArgName -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;No parameter of name &quot;</span></span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; ArgName -&gt; ArgName
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><a href="#local-6989586621681035116"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1701"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1702"></span><span>    </span><span class="annot"><a href="Agda.Syntax.Internal.html#Pi"><span class="hs-identifier hs-type">Pi</span></a></span><span> </span><span id="local-6989586621681035115"><span class="annot"><span class="annottext">dom :: Dom Type
</span><a href="#local-6989586621681035115"><span class="hs-identifier hs-var">dom</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Internal.html#Dom"><span class="hs-identifier hs-type">Dom</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">domInfo :: forall t e. Dom' t e -&gt; ArgInfo
</span><a href="Agda.Syntax.Internal.html#domInfo"><span class="hs-identifier hs-var">domInfo</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681035113"><span class="annot"><span class="annottext">ArgInfo
</span><a href="#local-6989586621681035113"><span class="hs-identifier hs-var">info'</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">unDom :: forall t e. Dom' t e -&gt; e
</span><a href="Agda.Syntax.Internal.html#unDom"><span class="hs-identifier hs-var">unDom</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681035112"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035112"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span id="local-6989586621681035119"><span class="annot"><span class="annottext">Abs Type
</span><a href="#local-6989586621681035119"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type -&gt; Term
forall t a. Type'' t a -&gt; a
</span><a href="Agda.Syntax.Internal.html#unEl"><span class="hs-identifier hs-var">unEl</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035130"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="hs-comment">-- TODO:: Defined but not used: info', a</span><span>
</span><span id="line-1703"></span><span>    </span><span id="local-6989586621681035123"><span class="annot"><span class="annottext">continue :: [LamBinding] -&gt; Name -&gt; TCM a
</span><a href="#local-6989586621681035123"><span class="hs-identifier hs-var hs-var">continue</span></a></span></span><span> </span><span id="local-6989586621681035111"><span class="annot"><span class="annottext">[LamBinding]
</span><a href="#local-6989586621681035111"><span class="hs-identifier hs-var">ps</span></a></span></span><span> </span><span id="local-6989586621681035110"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681035110"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Nat
-&gt; [LamBinding]
-&gt; Name
-&gt; Dom Type
-&gt; Abs Type
-&gt; (Tele (Dom Type) -&gt; Type -&gt; TCM a)
-&gt; TCM a
forall a.
Nat
-&gt; [LamBinding]
-&gt; Name
-&gt; Dom Type
-&gt; Abs Type
-&gt; (Tele (Dom Type) -&gt; Type -&gt; TCM a)
-&gt; TCM a
</span><a href="Agda.TypeChecking.Rules.Data.html#bindParameter"><span class="hs-identifier hs-var">bindParameter</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681035135"><span class="hs-identifier hs-var">npars</span></a></span><span> </span><span class="annot"><span class="annottext">[LamBinding]
</span><a href="#local-6989586621681035111"><span class="hs-identifier hs-var">ps</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681035110"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Dom Type
</span><a href="#local-6989586621681035115"><span class="hs-identifier hs-var">dom</span></a></span><span> </span><span class="annot"><span class="annottext">Abs Type
</span><a href="#local-6989586621681035119"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Type -&gt; TCM a
</span><a href="#local-6989586621681035129"><span class="hs-identifier hs-var">ret</span></a></span><span>
</span><span id="line-1704"></span><span>
</span><span id="line-1705"></span><span id="local-6989586621681039613"><span class="annot"><a href="Agda.TypeChecking.Rules.Data.html#bindParameter"><span class="hs-identifier hs-type">bindParameter</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Agda.Syntax.Abstract.html#LamBinding"><span class="hs-identifier hs-type">A.LamBinding</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Abstract.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Dom"><span class="hs-identifier hs-type">Dom</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Abs"><span class="hs-identifier hs-type">Abs</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Internal.html#Telescope"><span class="hs-identifier hs-type">Telescope</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#TCM"><span class="hs-identifier hs-type">TCM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681039613"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#TCM"><span class="hs-identifier hs-type">TCM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681039613"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-1706"></span><span id="bindParameter"><span class="annot"><span class="annottext">bindParameter :: forall a.
Nat
-&gt; [LamBinding]
-&gt; Name
-&gt; Dom Type
-&gt; Abs Type
-&gt; (Tele (Dom Type) -&gt; Type -&gt; TCM a)
-&gt; TCM a
</span><a href="Agda.TypeChecking.Rules.Data.html#bindParameter"><span class="hs-identifier hs-var hs-var">bindParameter</span></a></span></span><span> </span><span id="local-6989586621681035104"><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681035104"><span class="hs-identifier hs-var">npars</span></a></span></span><span> </span><span id="local-6989586621681035103"><span class="annot"><span class="annottext">[LamBinding]
</span><a href="#local-6989586621681035103"><span class="hs-identifier hs-var">ps</span></a></span></span><span> </span><span id="local-6989586621681035102"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681035102"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681035101"><span class="annot"><span class="annottext">Dom Type
</span><a href="#local-6989586621681035101"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681035100"><span class="annot"><span class="annottext">Abs Type
</span><a href="#local-6989586621681035100"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621681035099"><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Type -&gt; TCM a
</span><a href="#local-6989586621681035099"><span class="hs-identifier hs-var">ret</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1707"></span><span>  </span><span class="annot"><span class="annottext">(Name, Dom Type) -&gt; TCM a -&gt; TCM a
forall b (m :: * -&gt; *) a.
(AddContext b, MonadAddContext m) =&gt;
b -&gt; m a -&gt; m a
</span><a href="Agda.TypeChecking.Monad.Context.html#addContext"><span class="hs-identifier hs-var">addContext</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681035102"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Dom Type
</span><a href="#local-6989586621681035101"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(TCM a -&gt; TCM a) -&gt; TCM a -&gt; TCM a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1708"></span><span>    </span><span class="annot"><span class="annottext">Nat
-&gt; [LamBinding]
-&gt; Type
-&gt; (Tele (Dom Type) -&gt; Type -&gt; TCM a)
-&gt; TCM a
forall a.
Nat
-&gt; [LamBinding]
-&gt; Type
-&gt; (Tele (Dom Type) -&gt; Type -&gt; TCM a)
-&gt; TCM a
</span><a href="Agda.TypeChecking.Rules.Data.html#bindParameters"><span class="hs-identifier hs-var">bindParameters</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681035104"><span class="hs-identifier hs-var">npars</span></a></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Nat -&gt; Nat
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LamBinding]
</span><a href="#local-6989586621681035103"><span class="hs-identifier hs-var">ps</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Abs Type -&gt; Type
forall a. Subst a =&gt; Abs a -&gt; a
</span><a href="Agda.TypeChecking.Substitute.Class.html#absBody"><span class="hs-identifier hs-var">absBody</span></a></span><span> </span><span class="annot"><span class="annottext">Abs Type
</span><a href="#local-6989586621681035100"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((Tele (Dom Type) -&gt; Type -&gt; TCM a) -&gt; TCM a)
-&gt; (Tele (Dom Type) -&gt; Type -&gt; TCM a) -&gt; TCM a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035098"><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035098"><span class="hs-identifier hs-var">tel</span></a></span></span><span> </span><span id="local-6989586621681035097"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035097"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1709"></span><span>      </span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; Type -&gt; TCM a
</span><a href="#local-6989586621681035099"><span class="hs-identifier hs-var">ret</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Dom Type -&gt; Abs (Tele (Dom Type)) -&gt; Tele (Dom Type)
forall a. a -&gt; Abs (Tele a) -&gt; Tele a
</span><a href="Agda.Syntax.Internal.html#ExtendTel"><span class="hs-identifier hs-var">ExtendTel</span></a></span><span> </span><span class="annot"><span class="annottext">Dom Type
</span><a href="#local-6989586621681035101"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">(Abs (Tele (Dom Type)) -&gt; Tele (Dom Type))
-&gt; Abs (Tele (Dom Type)) -&gt; Tele (Dom Type)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; Tele (Dom Type) -&gt; Abs (Tele (Dom Type))
forall a. ArgName -&gt; a -&gt; Abs a
</span><a href="Agda.Syntax.Internal.html#Abs"><span class="hs-identifier hs-var">Abs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; ArgName
</span><a href="Agda.Syntax.Abstract.Name.html#nameToArgName"><span class="hs-identifier hs-var">nameToArgName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681035102"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035098"><span class="hs-identifier hs-var">tel</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035097"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-1710"></span><span>
</span><span id="line-1711"></span><span class="hs-comment">-- | Check that the arguments to a constructor fits inside the sort of the datatype.</span><span>
</span><span id="line-1712"></span><span class="hs-comment">--   The third argument is the type of the constructor.</span><span>
</span><span id="line-1713"></span><span class="hs-comment">--</span><span>
</span><span id="line-1714"></span><span class="hs-comment">--   When @--without-K@ is active and the type is fibrant the</span><span>
</span><span id="line-1715"></span><span class="hs-comment">--   procedure also checks that the type is usable at the current</span><span>
</span><span id="line-1716"></span><span class="hs-comment">--   modality. See #4784 and #5434.</span><span>
</span><span id="line-1717"></span><span class="hs-comment">--</span><span>
</span><span id="line-1718"></span><span class="hs-comment">--   As a side effect, return the arity of the constructor.</span><span>
</span><span id="line-1719"></span><span>
</span><span id="line-1720"></span><span class="annot"><a href="Agda.TypeChecking.Rules.Data.html#fitsIn"><span class="hs-identifier hs-type">fitsIn</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Common.html#UniverseCheck"><span class="hs-identifier hs-type">UniverseCheck</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#IsForced"><span class="hs-identifier hs-type">IsForced</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Sort"><span class="hs-identifier hs-type">Sort</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#TCM"><span class="hs-identifier hs-type">TCM</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-1721"></span><span id="fitsIn"><span class="annot"><span class="annottext">fitsIn :: UniverseCheck -&gt; [IsForced] -&gt; Type -&gt; Sort' Term -&gt; TCMT IO Nat
</span><a href="Agda.TypeChecking.Rules.Data.html#fitsIn"><span class="hs-identifier hs-var hs-var">fitsIn</span></a></span></span><span> </span><span id="local-6989586621681035095"><span class="annot"><span class="annottext">UniverseCheck
</span><a href="#local-6989586621681035095"><span class="hs-identifier hs-var">uc</span></a></span></span><span> </span><span id="local-6989586621681035094"><span class="annot"><span class="annottext">[IsForced]
</span><a href="#local-6989586621681035094"><span class="hs-identifier hs-var">forceds</span></a></span></span><span> </span><span id="local-6989586621681035093"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035093"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621681035092"><span class="annot"><span class="annottext">Sort' Term
</span><a href="#local-6989586621681035092"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1722"></span><span>  </span><span class="annot"><span class="annottext">ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; TCM ()
forall (m :: * -&gt; *).
MonadDebug m =&gt;
ArgName -&gt; Nat -&gt; TCMT IO Doc -&gt; m ()
</span><a href="Agda.TypeChecking.Monad.Debug.html#reportSDoc"><span class="hs-identifier hs-var">reportSDoc</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-string">&quot;tc.data.fits&quot;</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">10</span></span><span> </span><span class="annot"><span class="annottext">(TCMT IO Doc -&gt; TCM ()) -&gt; TCMT IO Doc -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1723"></span><span>    </span><span class="annot"><span class="annottext">[TCMT IO Doc] -&gt; TCMT IO Doc
forall (m :: * -&gt; *) (t :: * -&gt; *).
(Applicative m, Foldable t) =&gt;
t (m Doc) -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#sep"><span class="hs-identifier hs-var">sep</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc
</span><span class="hs-string">&quot;does&quot;</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; m Doc -&gt; m Doc -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Type -&gt; TCMT IO Doc
forall a (m :: * -&gt; *). (PrettyTCM a, MonadPretty m) =&gt; a -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#prettyTCM"><span class="hs-identifier hs-var">prettyTCM</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035093"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-1724"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc
</span><span class="hs-string">&quot;of sort&quot;</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; m Doc -&gt; m Doc -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Sort' Term -&gt; TCMT IO Doc
forall a (m :: * -&gt; *). (PrettyTCM a, MonadPretty m) =&gt; a -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#prettyTCM"><span class="hs-identifier hs-var">prettyTCM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type -&gt; Sort' Term
forall a. LensSort a =&gt; a -&gt; Sort' Term
</span><a href="Agda.Syntax.Internal.html#getSort"><span class="hs-identifier hs-var">getSort</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035093"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1725"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc
</span><span class="hs-string">&quot;fit in&quot;</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; m Doc -&gt; m Doc -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Sort' Term -&gt; TCMT IO Doc
forall a (m :: * -&gt; *). (PrettyTCM a, MonadPretty m) =&gt; a -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#prettyTCM"><span class="hs-identifier hs-var">prettyTCM</span></a></span><span> </span><span class="annot"><span class="annottext">Sort' Term
</span><a href="#local-6989586621681035092"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc -&gt; TCMT IO Doc -&gt; TCMT IO Doc
forall (m :: * -&gt; *). Applicative m =&gt; m Doc -&gt; m Doc -&gt; m Doc
</span><a href="Agda.TypeChecking.Pretty.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">TCMT IO Doc
</span><span class="hs-string">&quot;?&quot;</span></span><span>
</span><span id="line-1726"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-1727"></span><span>  </span><span class="hs-comment">-- The code below would be simpler, but doesn't allow datatypes</span><span>
</span><span id="line-1728"></span><span>  </span><span class="hs-comment">-- to be indexed by the universe level.</span><span>
</span><span id="line-1729"></span><span>  </span><span class="hs-comment">-- s' &lt;- instantiateFull (getSort t)</span><span>
</span><span id="line-1730"></span><span>  </span><span class="hs-comment">-- noConstraints $ s' `leqSort` s</span><span>
</span><span id="line-1731"></span><span>
</span><span id="line-1732"></span><span>  </span><span id="local-6989586621681035091"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681035091"><span class="hs-identifier hs-var">withoutK</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TCMT IO Bool
forall (m :: * -&gt; *). HasOptions m =&gt; m Bool
</span><a href="Agda.TypeChecking.Monad.Base.html#withoutKOption"><span class="hs-identifier hs-var">withoutKOption</span></a></span><span>
</span><span id="line-1733"></span><span>  </span><span class="annot"><span class="annottext">Bool -&gt; TCM () -&gt; TCM ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">when</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681035091"><span class="hs-identifier hs-var">withoutK</span></a></span><span> </span><span class="annot"><span class="annottext">(TCM () -&gt; TCM ()) -&gt; TCM () -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO Bool -&gt; TCM () -&gt; TCM ()
forall (m :: * -&gt; *). Monad m =&gt; m Bool -&gt; m () -&gt; m ()
</span><a href="Agda.Utils.Monad.html#whenM"><span class="hs-identifier hs-var">whenM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Sort' Term -&gt; TCMT IO Bool
forall a (m :: * -&gt; *).
(LensSort a, PureTCM m, MonadBlock m) =&gt;
a -&gt; m Bool
</span><a href="Agda.TypeChecking.Irrelevance.html#isFibrant"><span class="hs-identifier hs-var">isFibrant</span></a></span><span> </span><span class="annot"><span class="annottext">Sort' Term
</span><a href="#local-6989586621681035092"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(TCM () -&gt; TCM ()) -&gt; TCM () -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1734"></span><span>    </span><span id="local-6989586621681035088"><span class="annot"><span class="annottext">Quantity
</span><a href="#local-6989586621681035088"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Lens' Quantity TCEnv -&gt; TCMT IO Quantity
forall (m :: * -&gt; *) a. MonadTCEnv m =&gt; Lens' a TCEnv -&gt; m a
</span><a href="Agda.TypeChecking.Monad.Base.html#viewTC"><span class="hs-identifier hs-var">viewTC</span></a></span><span> </span><span class="annot"><span class="annottext">Lens' Quantity TCEnv
</span><a href="Agda.TypeChecking.Monad.Base.html#eQuantity"><span class="hs-identifier hs-var">eQuantity</span></a></span><span>
</span><span id="line-1735"></span><span>    </span><span class="annot"><span class="annottext">Modality -&gt; Term -&gt; TCM ()
MonadConstraint (TCMT IO) =&gt; Modality -&gt; Term -&gt; TCM ()
</span><a href="Agda.TypeChecking.Irrelevance.html#usableAtModality"><span class="hs-identifier hs-var">usableAtModality</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Quantity -&gt; Modality -&gt; Modality
forall a. LensQuantity a =&gt; Quantity -&gt; a -&gt; a
</span><a href="Agda.Syntax.Common.html#setQuantity"><span class="hs-identifier hs-var">setQuantity</span></a></span><span> </span><span class="annot"><span class="annottext">Quantity
</span><a href="#local-6989586621681035088"><span class="hs-identifier hs-var">q</span></a></span><span> </span><span class="annot"><span class="annottext">Modality
</span><a href="Agda.Syntax.Common.html#defaultModality"><span class="hs-identifier hs-var">defaultModality</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type -&gt; Term
forall t a. Type'' t a -&gt; a
</span><a href="Agda.Syntax.Internal.html#unEl"><span class="hs-identifier hs-var">unEl</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035093"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1736"></span><span>
</span><span id="line-1737"></span><span>  </span><span class="annot"><span class="annottext">Bool -&gt; [IsForced] -&gt; Type -&gt; Sort' Term -&gt; TCMT IO Nat
</span><a href="#local-6989586621681035081"><span class="hs-identifier hs-var">fitsIn'</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681035091"><span class="hs-identifier hs-var">withoutK</span></a></span><span> </span><span class="annot"><span class="annottext">[IsForced]
</span><a href="#local-6989586621681035094"><span class="hs-identifier hs-var">forceds</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035093"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Sort' Term
</span><a href="#local-6989586621681035092"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-1738"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1739"></span><span>  </span><span id="local-6989586621681035081"><span class="annot"><span class="annottext">fitsIn' :: Bool -&gt; [IsForced] -&gt; Type -&gt; Sort' Term -&gt; TCMT IO Nat
</span><a href="#local-6989586621681035081"><span class="hs-identifier hs-var hs-var">fitsIn'</span></a></span></span><span> </span><span id="local-6989586621681035080"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681035080"><span class="hs-identifier hs-var">withoutK</span></a></span></span><span> </span><span id="local-6989586621681035079"><span class="annot"><span class="annottext">[IsForced]
</span><a href="#local-6989586621681035079"><span class="hs-identifier hs-var">forceds</span></a></span></span><span> </span><span id="local-6989586621681035078"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035078"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621681035077"><span class="annot"><span class="annottext">Sort' Term
</span><a href="#local-6989586621681035077"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1740"></span><span>    </span><span id="local-6989586621681035076"><span class="annot"><span class="annottext">Maybe (Bool, Dom Type, Abs Type)
</span><a href="#local-6989586621681035076"><span class="hs-identifier hs-var">vt</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1741"></span><span>      </span><span id="local-6989586621681035075"><span class="annot"><span class="annottext">Either (Dom Type, Abs Type) Type
</span><a href="#local-6989586621681035075"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Type -&gt; TCMT IO (Either (Dom Type, Abs Type) Type)
forall (m :: * -&gt; *).
PureTCM m =&gt;
Type -&gt; m (Either (Dom Type, Abs Type) Type)
</span><a href="Agda.TypeChecking.Telescope.html#pathViewAsPi"><span class="hs-identifier hs-var">pathViewAsPi</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035078"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-1742"></span><span>      </span><span class="annot"><span class="annottext">Maybe (Bool, Dom Type, Abs Type)
-&gt; TCMT IO (Maybe (Bool, Dom Type, Abs Type))
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Maybe (Bool, Dom Type, Abs Type)
 -&gt; TCMT IO (Maybe (Bool, Dom Type, Abs Type)))
-&gt; Maybe (Bool, Dom Type, Abs Type)
-&gt; TCMT IO (Maybe (Bool, Dom Type, Abs Type))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Either (Dom Type, Abs Type) Type
</span><a href="#local-6989586621681035075"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1743"></span><span>                    </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681035073"><span class="annot"><span class="annottext">Dom Type
</span><a href="#local-6989586621681035073"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681035072"><span class="annot"><span class="annottext">Abs Type
</span><a href="#local-6989586621681035072"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Bool, Dom Type, Abs Type) -&gt; Maybe (Bool, Dom Type, Abs Type)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="hs-special">,</span><span class="annot"><span class="annottext">Dom Type
</span><a href="#local-6989586621681035073"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Abs Type
</span><a href="#local-6989586621681035072"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1744"></span><span>                    </span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Internal.html#El"><span class="hs-identifier hs-type">El</span></a></span><span> </span><span class="annot"><span class="annottext">Sort' Term
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681035071"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035071"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Pi"><span class="hs-identifier hs-type">Pi</span></a></span><span> </span><span id="local-6989586621681035070"><span class="annot"><span class="annottext">Dom Type
</span><a href="#local-6989586621681035070"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681035069"><span class="annot"><span class="annottext">Abs Type
</span><a href="#local-6989586621681035069"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681035071"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-1745"></span><span>                                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Bool, Dom Type, Abs Type) -&gt; Maybe (Bool, Dom Type, Abs Type)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Dom Type
</span><a href="#local-6989586621681035070"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Abs Type
</span><a href="#local-6989586621681035069"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1746"></span><span>                    </span><span class="annot"><span class="annottext">Either (Dom Type, Abs Type) Type
</span><span class="hs-identifier">_</span></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (Bool, Dom Type, Abs Type)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-1747"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe (Bool, Dom Type, Abs Type)
</span><a href="#local-6989586621681035076"><span class="hs-identifier hs-var">vt</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1748"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681035068"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681035068"><span class="hs-identifier hs-var">isPath</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681035067"><span class="annot"><span class="annottext">Dom Type
</span><a href="#local-6989586621681035067"><span class="hs-identifier hs-var">dom</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681035066"><span class="annot"><span class="annottext">Abs Type
</span><a href="#local-6989586621681035066"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1749"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681035065"><span class="annot"><span class="annottext">IsForced
</span><a href="#local-6989586621681035065"><span class="hs-identifier hs-var">forced</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681035064"><span class="annot"><span class="annottext">[IsForced]
</span><a href="#local-6989586621681035064"><span class="hs-identifier hs-var">forceds'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[IsForced] -&gt; (IsForced, [IsForced])
</span><a href="Agda.TypeChecking.Forcing.html#nextIsForced"><span class="hs-identifier hs-var">nextIsForced</span></a></span><span> </span><span class="annot"><span class="annottext">[IsForced]
</span><a href="#local-6989586621681035079"><span class="hs-identifier hs-var">forceds</span></a></span><span>
</span><span id="line-1750"></span><span>        </span><span class="annot"><span class="annottext">Bool -&gt; TCM () -&gt; TCM ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">unless</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IsForced -&gt; Bool
</span><a href="Agda.TypeChecking.Forcing.html#isForced"><span class="hs-identifier hs-var">isForced</span></a></span><span> </span><span class="annot"><span class="annottext">IsForced
</span><a href="#local-6989586621681035065"><span class="hs-identifier hs-var">forced</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681035080"><span class="hs-identifier hs-var">withoutK</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(TCM () -&gt; TCM ()) -&gt; TCM () -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1751"></span><span>          </span><span id="local-6989586621681035061"><span class="annot"><span class="annottext">Sort' Term
</span><a href="#local-6989586621681035061"><span class="hs-identifier hs-var">sa</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Sort' Term -&gt; TCMT IO (Sort' Term)
forall a (m :: * -&gt; *). (Reduce a, MonadReduce m) =&gt; a -&gt; m a
</span><a href="Agda.TypeChecking.Reduce.html#reduce"><span class="hs-identifier hs-var">reduce</span></a></span><span> </span><span class="annot"><span class="annottext">(Sort' Term -&gt; TCMT IO (Sort' Term))
-&gt; Sort' Term -&gt; TCMT IO (Sort' Term)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Dom Type -&gt; Sort' Term
forall a. LensSort a =&gt; a -&gt; Sort' Term
</span><a href="Agda.Syntax.Internal.html#getSort"><span class="hs-identifier hs-var">getSort</span></a></span><span> </span><span class="annot"><span class="annottext">Dom Type
</span><a href="#local-6989586621681035067"><span class="hs-identifier hs-var">dom</span></a></span><span>
</span><span id="line-1752"></span><span>          </span><span class="annot"><span class="annottext">Bool -&gt; TCM () -&gt; TCM ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">unless</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681035068"><span class="hs-identifier hs-var">isPath</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">UniverseCheck
</span><a href="#local-6989586621681035095"><span class="hs-identifier hs-var">uc</span></a></span><span> </span><span class="annot"><span class="annottext">UniverseCheck -&gt; UniverseCheck -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">UniverseCheck
</span><a href="Agda.Syntax.Common.html#NoUniverseCheck"><span class="hs-identifier hs-var">NoUniverseCheck</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Sort' Term
</span><a href="#local-6989586621681035061"><span class="hs-identifier hs-var">sa</span></a></span><span> </span><span class="annot"><span class="annottext">Sort' Term -&gt; Sort' Term -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Sort' Term
forall t. Sort' t
</span><a href="Agda.Syntax.Internal.html#SizeUniv"><span class="hs-identifier hs-var">SizeUniv</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(TCM () -&gt; TCM ()) -&gt; TCM () -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1753"></span><span>            </span><span class="annot"><span class="annottext">Sort' Term
</span><a href="#local-6989586621681035061"><span class="hs-identifier hs-var">sa</span></a></span><span> </span><span class="annot"><span class="annottext">Sort' Term -&gt; Sort' Term -&gt; TCM ()
forall (m :: * -&gt; *).
MonadConversion m =&gt;
Sort' Term -&gt; Sort' Term -&gt; m ()
</span><a href="Agda.TypeChecking.Conversion.html#leqSort"><span class="hs-operator hs-var">`leqSort`</span></a></span><span> </span><span class="annot"><span class="annottext">Sort' Term
</span><a href="#local-6989586621681035077"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-1754"></span><span>        </span><span class="annot"><span class="annottext">(ArgName, Dom Type) -&gt; TCMT IO Nat -&gt; TCMT IO Nat
forall b (m :: * -&gt; *) a.
(AddContext b, MonadAddContext m) =&gt;
b -&gt; m a -&gt; m a
</span><a href="Agda.TypeChecking.Monad.Context.html#addContext"><span class="hs-identifier hs-var">addContext</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Abs Type -&gt; ArgName
forall a. Abs a -&gt; ArgName
</span><a href="Agda.Syntax.Internal.html#absName"><span class="hs-identifier hs-var">absName</span></a></span><span> </span><span class="annot"><span class="annottext">Abs Type
</span><a href="#local-6989586621681035066"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Dom Type
</span><a href="#local-6989586621681035067"><span class="hs-identifier hs-var">dom</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(TCMT IO Nat -&gt; TCMT IO Nat) -&gt; TCMT IO Nat -&gt; TCMT IO Nat
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1755"></span><span>          </span><span class="annot"><span class="annottext">Nat -&gt; Nat
forall a. Enum a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">succ</span></span><span> </span><span class="annot"><span class="annottext">(Nat -&gt; Nat) -&gt; TCMT IO Nat -&gt; TCMT IO Nat
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; [IsForced] -&gt; Type -&gt; Sort' Term -&gt; TCMT IO Nat
</span><a href="#local-6989586621681035081"><span class="hs-identifier hs-var">fitsIn'</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681035080"><span class="hs-identifier hs-var">withoutK</span></a></span><span> </span><span class="annot"><span class="annottext">[IsForced]
</span><a href="#local-6989586621681035064"><span class="hs-identifier hs-var">forceds'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Abs Type -&gt; Type
forall a. Subst a =&gt; Abs a -&gt; a
</span><a href="Agda.TypeChecking.Substitute.Class.html#absBody"><span class="hs-identifier hs-var">absBody</span></a></span><span> </span><span class="annot"><span class="annottext">Abs Type
</span><a href="#local-6989586621681035066"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Nat -&gt; Sort' Term -&gt; Sort' Term
forall a. Subst a =&gt; Nat -&gt; a -&gt; a
</span><a href="Agda.TypeChecking.Substitute.Class.html#raise"><span class="hs-identifier hs-var">raise</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Sort' Term
</span><a href="#local-6989586621681035077"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1756"></span><span>      </span><span class="annot"><span class="annottext">Maybe (Bool, Dom Type, Abs Type)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1757"></span><span>        </span><span class="annot"><span class="annottext">Type -&gt; Sort' Term
forall a. LensSort a =&gt; a -&gt; Sort' Term
</span><a href="Agda.Syntax.Internal.html#getSort"><span class="hs-identifier hs-var">getSort</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035078"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Sort' Term -&gt; Sort' Term -&gt; TCM ()
forall (m :: * -&gt; *).
MonadConversion m =&gt;
Sort' Term -&gt; Sort' Term -&gt; m ()
</span><a href="Agda.TypeChecking.Conversion.html#leqSort"><span class="hs-operator hs-var">`leqSort`</span></a></span><span> </span><span class="annot"><span class="annottext">Sort' Term
</span><a href="#local-6989586621681035077"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-1758"></span><span>        </span><span class="annot"><span class="annottext">Nat -&gt; TCMT IO Nat
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">0</span></span><span>
</span><span id="line-1759"></span><span>
</span><span id="line-1760"></span><span class="hs-comment">-- | When --without-K is enabled, we should check that the sorts of</span><span>
</span><span id="line-1761"></span><span class="hs-comment">--   the index types fit into the sort of the datatype.</span><span>
</span><span id="line-1762"></span><span class="annot"><a href="Agda.TypeChecking.Rules.Data.html#checkIndexSorts"><span class="hs-identifier hs-type">checkIndexSorts</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Sort"><span class="hs-identifier hs-type">Sort</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Telescope"><span class="hs-identifier hs-type">Telescope</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#TCM"><span class="hs-identifier hs-type">TCM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1763"></span><span id="checkIndexSorts"><span class="annot"><span class="annottext">checkIndexSorts :: Sort' Term -&gt; Tele (Dom Type) -&gt; TCM ()
</span><a href="Agda.TypeChecking.Rules.Data.html#checkIndexSorts"><span class="hs-identifier hs-var hs-var">checkIndexSorts</span></a></span></span><span> </span><span id="local-6989586621681035058"><span class="annot"><span class="annottext">Sort' Term
</span><a href="#local-6989586621681035058"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-1764"></span><span>  </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="Agda.Syntax.Internal.html#EmptyTel"><span class="hs-identifier hs-var">EmptyTel</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; TCM ()
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1765"></span><span>  </span><span class="annot"><a href="Agda.Syntax.Internal.html#ExtendTel"><span class="hs-identifier hs-type">ExtendTel</span></a></span><span> </span><span id="local-6989586621681035057"><span class="annot"><span class="annottext">Dom Type
</span><a href="#local-6989586621681035057"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681035056"><span class="annot"><span class="annottext">Abs (Tele (Dom Type))
</span><a href="#local-6989586621681035056"><span class="hs-identifier hs-var">tel'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1766"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681035055"><span class="annot"><span class="annottext">sa :: Sort' Term
</span><a href="#local-6989586621681035055"><span class="hs-identifier hs-var hs-var">sa</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Dom Type -&gt; Sort' Term
forall a. LensSort a =&gt; a -&gt; Sort' Term
</span><a href="Agda.Syntax.Internal.html#getSort"><span class="hs-identifier hs-var">getSort</span></a></span><span> </span><span class="annot"><span class="annottext">Dom Type
</span><a href="#local-6989586621681035057"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-1767"></span><span>    </span><span class="hs-comment">-- Andreas, 2020-10-19, allow Size indices</span><span>
</span><span id="line-1768"></span><span>    </span><span class="annot"><span class="annottext">Bool -&gt; TCM () -&gt; TCM ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">unless</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Sort' Term
</span><a href="#local-6989586621681035055"><span class="hs-identifier hs-var">sa</span></a></span><span> </span><span class="annot"><span class="annottext">Sort' Term -&gt; Sort' Term -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Sort' Term
forall t. Sort' t
</span><a href="Agda.Syntax.Internal.html#SizeUniv"><span class="hs-identifier hs-var">SizeUniv</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(TCM () -&gt; TCM ()) -&gt; TCM () -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Sort' Term
</span><a href="#local-6989586621681035055"><span class="hs-identifier hs-var">sa</span></a></span><span> </span><span class="annot"><span class="annottext">Sort' Term -&gt; Sort' Term -&gt; TCM ()
forall (m :: * -&gt; *).
MonadConversion m =&gt;
Sort' Term -&gt; Sort' Term -&gt; m ()
</span><a href="Agda.TypeChecking.Conversion.html#leqSort"><span class="hs-operator hs-var">`leqSort`</span></a></span><span> </span><span class="annot"><span class="annottext">Sort' Term
</span><a href="#local-6989586621681035058"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-1769"></span><span>    </span><span class="annot"><span class="annottext">Dom Type
-&gt; Abs (Tele (Dom Type)) -&gt; (Tele (Dom Type) -&gt; TCM ()) -&gt; TCM ()
forall a (m :: * -&gt; *) b.
(Subst a, MonadAddContext m) =&gt;
Dom Type -&gt; Abs a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="Agda.TypeChecking.Monad.Context.html#underAbstraction"><span class="hs-identifier hs-var">underAbstraction</span></a></span><span> </span><span class="annot"><span class="annottext">Dom Type
</span><a href="#local-6989586621681035057"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Abs (Tele (Dom Type))
</span><a href="#local-6989586621681035056"><span class="hs-identifier hs-var">tel'</span></a></span><span> </span><span class="annot"><span class="annottext">((Tele (Dom Type) -&gt; TCM ()) -&gt; TCM ())
-&gt; (Tele (Dom Type) -&gt; TCM ()) -&gt; TCM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Sort' Term -&gt; Tele (Dom Type) -&gt; TCM ()
</span><a href="Agda.TypeChecking.Rules.Data.html#checkIndexSorts"><span class="hs-identifier hs-var">checkIndexSorts</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Nat -&gt; Sort' Term -&gt; Sort' Term
forall a. Subst a =&gt; Nat -&gt; a -&gt; a
</span><a href="Agda.TypeChecking.Substitute.Class.html#raise"><span class="hs-identifier hs-var">raise</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Sort' Term
</span><a href="#local-6989586621681035058"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1770"></span><span>
</span><span id="line-1771"></span><span class="hs-comment">-- | Return the parameters that share variables with the indices</span><span>
</span><span id="line-1772"></span><span class="hs-comment">-- nonLinearParameters :: Int -&gt; Type -&gt; TCM [Int]</span><span>
</span><span id="line-1773"></span><span class="hs-comment">-- nonLinearParameters nPars t =</span><span>
</span><span id="line-1774"></span><span>
</span><span id="line-1775"></span><span class="hs-keyword">data</span><span> </span><span id="IsPathCons"><span class="annot"><a href="Agda.TypeChecking.Rules.Data.html#IsPathCons"><span class="hs-identifier hs-var">IsPathCons</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="PathCons"><span class="annot"><a href="Agda.TypeChecking.Rules.Data.html#PathCons"><span class="hs-identifier hs-var">PathCons</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="PointCons"><span class="annot"><a href="Agda.TypeChecking.Rules.Data.html#PointCons"><span class="hs-identifier hs-var">PointCons</span></a></span></span><span>
</span><span id="line-1776"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681035050"><span id="local-6989586621681035052"><span class="annot"><span class="annottext">IsPathCons -&gt; IsPathCons -&gt; Bool
(IsPathCons -&gt; IsPathCons -&gt; Bool)
-&gt; (IsPathCons -&gt; IsPathCons -&gt; Bool) -&gt; Eq IsPathCons
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: IsPathCons -&gt; IsPathCons -&gt; Bool
$c/= :: IsPathCons -&gt; IsPathCons -&gt; Bool
== :: IsPathCons -&gt; IsPathCons -&gt; Bool
$c== :: IsPathCons -&gt; IsPathCons -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span id="local-6989586621681035043"><span id="local-6989586621681035045"><span id="local-6989586621681035047"><span class="annot"><span class="annottext">Nat -&gt; IsPathCons -&gt; ArgName -&gt; ArgName
[IsPathCons] -&gt; ArgName -&gt; ArgName
IsPathCons -&gt; ArgName
(Nat -&gt; IsPathCons -&gt; ArgName -&gt; ArgName)
-&gt; (IsPathCons -&gt; ArgName)
-&gt; ([IsPathCons] -&gt; ArgName -&gt; ArgName)
-&gt; Show IsPathCons
forall a.
(Nat -&gt; a -&gt; ArgName -&gt; ArgName)
-&gt; (a -&gt; ArgName) -&gt; ([a] -&gt; ArgName -&gt; ArgName) -&gt; Show a
showList :: [IsPathCons] -&gt; ArgName -&gt; ArgName
$cshowList :: [IsPathCons] -&gt; ArgName -&gt; ArgName
show :: IsPathCons -&gt; ArgName
$cshow :: IsPathCons -&gt; ArgName
showsPrec :: Nat -&gt; IsPathCons -&gt; ArgName -&gt; ArgName
$cshowsPrec :: Nat -&gt; IsPathCons -&gt; ArgName -&gt; ArgName
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-1777"></span><span>
</span><span id="line-1778"></span><span class="hs-comment">-- | Check that a type constructs something of the given datatype. The first</span><span>
</span><span id="line-1779"></span><span class="hs-comment">--   argument is the number of parameters to the datatype and the second the</span><span>
</span><span id="line-1780"></span><span class="hs-comment">--   number of additional non-parameters in the context (1 when generalizing, 0</span><span>
</span><span id="line-1781"></span><span class="hs-comment">--   otherwise).</span><span>
</span><span id="line-1782"></span><span class="hs-comment">--</span><span>
</span><span id="line-1783"></span><span class="annot"><a href="Agda.TypeChecking.Rules.Data.html#constructs"><span class="hs-identifier hs-type">constructs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Abstract.Name.html#QName"><span class="hs-identifier hs-type">QName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#TCM"><span class="hs-identifier hs-type">TCM</span></a></span><span> </span><span class="annot"><a href="Agda.TypeChecking.Rules.Data.html#IsPathCons"><span class="hs-identifier hs-type">IsPathCons</span></a></span><span>
</span><span id="line-1784"></span><span id="constructs"><span class="annot"><span class="annottext">constructs :: Nat -&gt; Nat -&gt; Type -&gt; QName -&gt; TCM IsPathCons
</span><a href="Agda.TypeChecking.Rules.Data.html#constructs"><span class="hs-identifier hs-var hs-var">constructs</span></a></span></span><span> </span><span id="local-6989586621681035041"><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681035041"><span class="hs-identifier hs-var">nofPars</span></a></span></span><span> </span><span id="local-6989586621681035040"><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681035040"><span class="hs-identifier hs-var">nofExtraVars</span></a></span></span><span> </span><span id="local-6989586621681035039"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035039"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621681035038"><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681035038"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Type -&gt; TCM IsPathCons
</span><a href="#local-6989586621681035037"><span class="hs-identifier hs-var">constrT</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681035040"><span class="hs-identifier hs-var">nofExtraVars</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035039"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-1785"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-1786"></span><span>        </span><span class="hs-comment">-- The number n counts the proper (non-parameter) constructor arguments.</span><span>
</span><span id="line-1787"></span><span>        </span><span class="annot"><a href="#local-6989586621681035037"><span class="hs-identifier hs-type">constrT</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Common.html#Nat"><span class="hs-identifier hs-type">Nat</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#TCM"><span class="hs-identifier hs-type">TCM</span></a></span><span> </span><span class="annot"><a href="Agda.TypeChecking.Rules.Data.html#IsPathCons"><span class="hs-identifier hs-type">IsPathCons</span></a></span><span>
</span><span id="line-1788"></span><span>        </span><span id="local-6989586621681035037"><span class="annot"><span class="annottext">constrT :: Nat -&gt; Type -&gt; TCM IsPathCons
</span><a href="#local-6989586621681035037"><span class="hs-identifier hs-var hs-var">constrT</span></a></span></span><span> </span><span id="local-6989586621681035036"><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681035036"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621681035035"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035035"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1789"></span><span>            </span><span id="local-6989586621681035034"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035034"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Type -&gt; TCMT IO Type
forall a (m :: * -&gt; *). (Reduce a, MonadReduce m) =&gt; a -&gt; m a
</span><a href="Agda.TypeChecking.Reduce.html#reduce"><span class="hs-identifier hs-var">reduce</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035035"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-1790"></span><span>            </span><span id="local-6989586621681035033"><span class="annot"><span class="annottext">Type -&gt; Either ((Dom Type, Abs Type), (Term, Term)) Type
</span><a href="#local-6989586621681035033"><span class="hs-identifier hs-var">pathV</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TCMT IO (Type -&gt; Either ((Dom Type, Abs Type), (Term, Term)) Type)
forall (m :: * -&gt; *).
HasBuiltins m =&gt;
m (Type -&gt; Either ((Dom Type, Abs Type), (Term, Term)) Type)
</span><a href="Agda.TypeChecking.Telescope.html#pathViewAsPi%27whnf"><span class="hs-identifier hs-var">pathViewAsPi'whnf</span></a></span><span>
</span><span id="line-1791"></span><span>            </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Type -&gt; Term
forall t a. Type'' t a -&gt; a
</span><a href="Agda.Syntax.Internal.html#unEl"><span class="hs-identifier hs-var">unEl</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035034"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1792"></span><span>                </span><span class="annot"><a href="Agda.Syntax.Internal.html#Pi"><span class="hs-identifier hs-type">Pi</span></a></span><span> </span><span class="annot"><span class="annottext">Dom Type
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Internal.html#NoAbs"><span class="hs-identifier hs-type">NoAbs</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681035031"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035031"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Type -&gt; TCM IsPathCons
</span><a href="#local-6989586621681035037"><span class="hs-identifier hs-var">constrT</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681035036"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035031"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-1793"></span><span>                </span><span class="annot"><a href="Agda.Syntax.Internal.html#Pi"><span class="hs-identifier hs-type">Pi</span></a></span><span> </span><span id="local-6989586621681035030"><span class="annot"><span class="annottext">Dom Type
</span><a href="#local-6989586621681035030"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681035029"><span class="annot"><span class="annottext">Abs Type
</span><a href="#local-6989586621681035029"><span class="hs-identifier hs-var">b</span></a></span></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Dom Type -&gt; Abs Type -&gt; (Type -&gt; TCM IsPathCons) -&gt; TCM IsPathCons
forall a (m :: * -&gt; *) b.
(Subst a, MonadAddContext m) =&gt;
Dom Type -&gt; Abs a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="Agda.TypeChecking.Monad.Context.html#underAbstraction"><span class="hs-identifier hs-var">underAbstraction</span></a></span><span> </span><span class="annot"><span class="annottext">Dom Type
</span><a href="#local-6989586621681035030"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Abs Type
</span><a href="#local-6989586621681035029"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">((Type -&gt; TCM IsPathCons) -&gt; TCM IsPathCons)
-&gt; (Type -&gt; TCM IsPathCons) -&gt; TCM IsPathCons
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Type -&gt; TCM IsPathCons
</span><a href="#local-6989586621681035037"><span class="hs-identifier hs-var">constrT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681035036"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Nat -&gt; Nat
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-1794"></span><span>                  </span><span class="hs-comment">-- OR: addCxtString (absName b) a $ constrT (n + 1) (absBody b)</span><span>
</span><span id="line-1795"></span><span>                </span><span class="annot"><span class="annottext">Term
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span id="local-6989586621681035028"><span class="annot"><span class="annottext">Dom Type
</span><a href="#local-6989586621681035028"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681035027"><span class="annot"><span class="annottext">Abs Type
</span><a href="#local-6989586621681035027"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span class="hs-special">,</span><span class="annot"><span class="annottext">(Term, Term)
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Type -&gt; Either ((Dom Type, Abs Type), (Term, Term)) Type
</span><a href="#local-6989586621681035033"><span class="hs-identifier hs-var">pathV</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035034"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1796"></span><span>                      </span><span class="annot"><span class="annottext">IsPathCons
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Abs Type
</span><a href="#local-6989586621681035027"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1797"></span><span>                             </span><span class="annot"><a href="Agda.Syntax.Internal.html#NoAbs"><span class="hs-identifier hs-type">NoAbs</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681035026"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035026"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Type -&gt; TCM IsPathCons
</span><a href="#local-6989586621681035037"><span class="hs-identifier hs-var">constrT</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681035036"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035026"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-1798"></span><span>                             </span><span id="local-6989586621681035025"><span class="annot"><span class="annottext">Abs Type
</span><a href="#local-6989586621681035025"><span class="hs-identifier hs-var">b</span></a></span></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Dom Type -&gt; Abs Type -&gt; (Type -&gt; TCM IsPathCons) -&gt; TCM IsPathCons
forall a (m :: * -&gt; *) b.
(Subst a, MonadAddContext m) =&gt;
Dom Type -&gt; Abs a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="Agda.TypeChecking.Monad.Context.html#underAbstraction"><span class="hs-identifier hs-var">underAbstraction</span></a></span><span> </span><span class="annot"><span class="annottext">Dom Type
</span><a href="#local-6989586621681035028"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Abs Type
</span><a href="#local-6989586621681035025"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">((Type -&gt; TCM IsPathCons) -&gt; TCM IsPathCons)
-&gt; (Type -&gt; TCM IsPathCons) -&gt; TCM IsPathCons
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Type -&gt; TCM IsPathCons
</span><a href="#local-6989586621681035037"><span class="hs-identifier hs-var">constrT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681035036"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Nat -&gt; Nat
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-1799"></span><span>                      </span><span class="annot"><span class="annottext">IsPathCons -&gt; TCM IsPathCons
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">IsPathCons
</span><a href="Agda.TypeChecking.Rules.Data.html#PathCons"><span class="hs-identifier hs-var">PathCons</span></a></span><span>
</span><span id="line-1800"></span><span>                </span><span class="annot"><a href="Agda.Syntax.Internal.html#Def"><span class="hs-identifier hs-type">Def</span></a></span><span> </span><span id="local-6989586621681035024"><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681035024"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span id="local-6989586621681035023"><span class="annot"><span class="annottext">[Elim' Term]
</span><a href="#local-6989586621681035023"><span class="hs-identifier hs-var">es</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681035024"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="annot"><span class="annottext">QName -&gt; QName -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681035038"><span class="hs-identifier hs-var">q</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1801"></span><span>                  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681035022"><span class="annot"><span class="annottext">vs :: [Arg Term]
</span><a href="#local-6989586621681035022"><span class="hs-identifier hs-var hs-var">vs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Arg Term] -&gt; Maybe [Arg Term] -&gt; [Arg Term]
forall a. a -&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromMaybe</span></span><span> </span><span class="annot"><span class="annottext">[Arg Term]
forall a. HasCallStack =&gt; a
</span><a href="Agda.Utils.Impossible.html#__IMPOSSIBLE__"><span class="hs-identifier hs-var">__IMPOSSIBLE__</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe [Arg Term] -&gt; [Arg Term]) -&gt; Maybe [Arg Term] -&gt; [Arg Term]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Elim' Term] -&gt; Maybe [Arg Term]
forall a. [Elim' a] -&gt; Maybe [Arg a]
</span><a href="Agda.Syntax.Internal.Elim.html#allApplyElims"><span class="hs-identifier hs-var">allApplyElims</span></a></span><span> </span><span class="annot"><span class="annottext">[Elim' Term]
</span><a href="#local-6989586621681035023"><span class="hs-identifier hs-var">es</span></a></span><span>
</span><span id="line-1802"></span><span>                  </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681035021"><span class="annot"><span class="annottext">[Arg Term]
</span><a href="#local-6989586621681035021"><span class="hs-identifier hs-var">pars</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681035020"><span class="annot"><span class="annottext">[Arg Term]
</span><a href="#local-6989586621681035020"><span class="hs-identifier hs-var">ixs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Nat -&gt; [Arg Term] -&gt; ([Arg Term], [Arg Term])
forall a. Nat -&gt; [a] -&gt; ([a], [a])
</span><span class="hs-identifier hs-var">splitAt</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681035041"><span class="hs-identifier hs-var">nofPars</span></a></span><span> </span><span class="annot"><span class="annottext">[Arg Term]
</span><a href="#local-6989586621681035022"><span class="hs-identifier hs-var">vs</span></a></span><span>
</span><span id="line-1803"></span><span>                  </span><span class="hs-comment">-- check that the constructor parameters are the data parameters</span><span>
</span><span id="line-1804"></span><span>                  </span><span class="annot"><span class="annottext">Nat -&gt; [Arg Term] -&gt; TCM ()
forall {m :: * -&gt; *}.
(MonadMetaSolver m, MonadWarning m, MonadStatistics m,
 MonadFresh ProblemId m, MonadFresh Nat m) =&gt;
Nat -&gt; [Arg Term] -&gt; m ()
</span><a href="#local-6989586621681035019"><span class="hs-identifier hs-var">checkParams</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681035036"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">[Arg Term]
</span><a href="#local-6989586621681035021"><span class="hs-identifier hs-var">pars</span></a></span><span>
</span><span id="line-1805"></span><span>                  </span><span class="annot"><span class="annottext">IsPathCons -&gt; TCM IsPathCons
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">IsPathCons
</span><a href="Agda.TypeChecking.Rules.Data.html#PointCons"><span class="hs-identifier hs-var">PointCons</span></a></span><span>
</span><span id="line-1806"></span><span>                </span><span class="annot"><a href="Agda.Syntax.Internal.html#MetaV"><span class="hs-identifier hs-type">MetaV</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1807"></span><span>                  </span><span id="local-6989586621681035017"><span class="annot"><span class="annottext">Definition
</span><a href="#local-6989586621681035017"><span class="hs-identifier hs-var">def</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">QName -&gt; TCMT IO Definition
forall (m :: * -&gt; *). HasConstInfo m =&gt; QName -&gt; m Definition
</span><a href="Agda.TypeChecking.Monad.Signature.html#getConstInfo"><span class="hs-identifier hs-var">getConstInfo</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681035038"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-1808"></span><span>                  </span><span class="hs-comment">-- Analyse the type of q (name of the data type)</span><span>
</span><span id="line-1809"></span><span>                  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681035016"><span class="annot"><span class="annottext">td :: Type
</span><a href="#local-6989586621681035016"><span class="hs-identifier hs-var hs-var">td</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Definition -&gt; Type
</span><a href="Agda.TypeChecking.Monad.Base.html#defType"><span class="hs-identifier hs-var">defType</span></a></span><span> </span><span class="annot"><span class="annottext">Definition
</span><a href="#local-6989586621681035017"><span class="hs-identifier hs-var">def</span></a></span><span>
</span><span id="line-1810"></span><span>                  </span><span class="annot"><a href="Agda.TypeChecking.Substitute.html#TelV"><span class="hs-identifier hs-type">TelV</span></a></span><span> </span><span id="local-6989586621681035015"><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035015"><span class="hs-identifier hs-var">tel</span></a></span></span><span> </span><span id="local-6989586621681035014"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035014"><span class="hs-identifier hs-var">core</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Type -&gt; TCMT IO (TelV Type)
forall (m :: * -&gt; *).
(MonadReduce m, MonadAddContext m) =&gt;
Type -&gt; m (TelV Type)
</span><a href="Agda.TypeChecking.Telescope.html#telView"><span class="hs-identifier hs-var">telView</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035016"><span class="hs-identifier hs-var">td</span></a></span><span>
</span><span id="line-1811"></span><span>                  </span><span class="hs-comment">-- Construct the parameter arguments</span><span>
</span><span id="line-1812"></span><span>                  </span><span class="hs-comment">-- The parameters are @n + nofPars - 1 .. n@</span><span>
</span><span id="line-1813"></span><span>                  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681035013"><span class="annot"><span class="annottext">us :: [Arg Term]
</span><a href="#local-6989586621681035013"><span class="hs-identifier hs-var hs-var">us</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Arg ArgName -&gt; Nat -&gt; Arg Term)
-&gt; [Arg ArgName] -&gt; [Nat] -&gt; [Arg Term]
forall a b c. (a -&gt; b -&gt; c) -&gt; [a] -&gt; [b] -&gt; [c]
</span><span class="hs-identifier hs-var">zipWith</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681035012"><span class="annot"><span class="annottext">Arg ArgName
</span><a href="#local-6989586621681035012"><span class="hs-identifier hs-var">arg</span></a></span></span><span> </span><span id="local-6989586621681035011"><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681035011"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Term
</span><a href="Agda.Syntax.Internal.html#var"><span class="hs-identifier hs-var">var</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681035011"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; Arg ArgName -&gt; Arg Term
forall (f :: * -&gt; *) a b. Functor f =&gt; a -&gt; f b -&gt; f a
</span><span class="hs-operator hs-var">&lt;$</span></span><span> </span><span class="annot"><span class="annottext">Arg ArgName
</span><a href="#local-6989586621681035012"><span class="hs-identifier hs-var">arg</span></a></span><span> </span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tele (Dom Type) -&gt; [Arg ArgName]
forall a. TelToArgs a =&gt; a -&gt; [Arg ArgName]
</span><a href="Agda.Syntax.Internal.html#telToArgs"><span class="hs-identifier hs-var">telToArgs</span></a></span><span> </span><span class="annot"><span class="annottext">Tele (Dom Type)
</span><a href="#local-6989586621681035015"><span class="hs-identifier hs-var">tel</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([Nat] -&gt; [Arg Term]) -&gt; [Nat] -&gt; [Arg Term]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1814"></span><span>                             </span><span class="annot"><span class="annottext">Nat -&gt; [Nat] -&gt; [Nat]
forall a. Nat -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">take</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681035041"><span class="hs-identifier hs-var">nofPars</span></a></span><span> </span><span class="annot"><span class="annottext">([Nat] -&gt; [Nat]) -&gt; [Nat] -&gt; [Nat]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; [Nat]
forall a. Integral a =&gt; a -&gt; [a]
</span><a href="Agda.Utils.List.html#downFrom"><span class="hs-identifier hs-var">downFrom</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681035041"><span class="hs-identifier hs-var">nofPars</span></a></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Nat -&gt; Nat
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681035036"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1815"></span><span>                  </span><span class="hs-comment">-- The indices are fresh metas</span><span>
</span><span id="line-1816"></span><span>                  </span><span id="local-6989586621681035009"><span class="annot"><span class="annottext">[Arg Term]
</span><a href="#local-6989586621681035009"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Type -&gt; TCMT IO [Arg Term]
forall (m :: * -&gt; *). MonadMetaSolver m =&gt; Type -&gt; m [Arg Term]
</span><a href="Agda.TypeChecking.MetaVars.html#newArgsMeta"><span class="hs-identifier hs-var">newArgsMeta</span></a></span><span> </span><span class="annot"><span class="annottext">(Type -&gt; TCMT IO [Arg Term]) -&gt; TCMT IO Type -&gt; TCMT IO [Arg Term]
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span> </span><span class="annot"><span class="annottext">Type -&gt; [Arg Term] -&gt; TCMT IO Type
forall a (m :: * -&gt; *).
(PiApplyM a, MonadReduce m, HasBuiltins m) =&gt;
Type -&gt; a -&gt; m Type
</span><a href="Agda.TypeChecking.Telescope.html#piApplyM"><span class="hs-identifier hs-var">piApplyM</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035016"><span class="hs-identifier hs-var">td</span></a></span><span> </span><span class="annot"><span class="annottext">[Arg Term]
</span><a href="#local-6989586621681035013"><span class="hs-identifier hs-var">us</span></a></span><span>
</span><span id="line-1817"></span><span>                  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681035007"><span class="annot"><span class="annottext">t' :: Type
</span><a href="#local-6989586621681035007"><span class="hs-identifier hs-var hs-var">t'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Sort' Term -&gt; Term -&gt; Type
forall t a. Sort' t -&gt; a -&gt; Type'' t a
</span><a href="Agda.Syntax.Internal.html#El"><span class="hs-identifier hs-var">El</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Nat -&gt; Sort' Term -&gt; Sort' Term
forall a. Subst a =&gt; Nat -&gt; a -&gt; a
</span><a href="Agda.TypeChecking.Substitute.Class.html#raise"><span class="hs-identifier hs-var">raise</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681035036"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">(Sort' Term -&gt; Sort' Term) -&gt; Sort' Term -&gt; Sort' Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Defn -&gt; Sort' Term
</span><a href="Agda.TypeChecking.Monad.Base.html#dataSort"><span class="hs-identifier hs-var">dataSort</span></a></span><span> </span><span class="annot"><span class="annottext">(Defn -&gt; Sort' Term) -&gt; Defn -&gt; Sort' Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Definition -&gt; Defn
</span><a href="Agda.TypeChecking.Monad.Base.html#theDef"><span class="hs-identifier hs-var">theDef</span></a></span><span> </span><span class="annot"><span class="annottext">Definition
</span><a href="#local-6989586621681035017"><span class="hs-identifier hs-var">def</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Term -&gt; Type) -&gt; Term -&gt; Type
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">QName -&gt; [Elim' Term] -&gt; Term
</span><a href="Agda.Syntax.Internal.html#Def"><span class="hs-identifier hs-var">Def</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681035038"><span class="hs-identifier hs-var">q</span></a></span><span> </span><span class="annot"><span class="annottext">([Elim' Term] -&gt; Term) -&gt; [Elim' Term] -&gt; Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Arg Term -&gt; Elim' Term) -&gt; [Arg Term] -&gt; [Elim' Term]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Arg Term -&gt; Elim' Term
forall a. Arg a -&gt; Elim' a
</span><a href="Agda.Syntax.Internal.Elim.html#Apply"><span class="hs-identifier hs-var">Apply</span></a></span><span> </span><span class="annot"><span class="annottext">([Arg Term] -&gt; [Elim' Term]) -&gt; [Arg Term] -&gt; [Elim' Term]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Arg Term]
</span><a href="#local-6989586621681035013"><span class="hs-identifier hs-var">us</span></a></span><span> </span><span class="annot"><span class="annottext">[Arg Term] -&gt; [Arg Term] -&gt; [Arg Term]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[Arg Term]
</span><a href="#local-6989586621681035009"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1818"></span><span>                  </span><span class="hs-comment">-- Andreas, 2017-11-07, issue #2840</span><span>
</span><span id="line-1819"></span><span>                  </span><span class="hs-comment">-- We should not postpone here, otherwise we might upset the positivity checker.</span><span>
</span><span id="line-1820"></span><span>                  </span><span class="annot"><span class="annottext">TCMT IO Bool -&gt; TCM IsPathCons -&gt; TCM IsPathCons -&gt; TCM IsPathCons
forall (m :: * -&gt; *) a. Monad m =&gt; m Bool -&gt; m a -&gt; m a -&gt; m a
</span><a href="Agda.Utils.Monad.html#ifM"><span class="hs-identifier hs-var">ifM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TCM () -&gt; TCMT IO Bool
forall (m :: * -&gt; *).
(MonadConstraint m, MonadWarning m, MonadError TCErr m,
 MonadFresh ProblemId m) =&gt;
m () -&gt; m Bool
</span><a href="Agda.TypeChecking.Conversion.html#tryConversion"><span class="hs-identifier hs-var">tryConversion</span></a></span><span> </span><span class="annot"><span class="annottext">(TCM () -&gt; TCMT IO Bool) -&gt; TCM () -&gt; TCMT IO Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Type -&gt; Type -&gt; TCM ()
forall (m :: * -&gt; *). MonadConversion m =&gt; Type -&gt; Type -&gt; m ()
</span><a href="Agda.TypeChecking.Conversion.html#equalType"><span class="hs-identifier hs-var">equalType</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035034"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035007"><span class="hs-identifier hs-var">t'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1821"></span><span>                      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Nat -&gt; Type -&gt; TCM IsPathCons
</span><a href="#local-6989586621681035037"><span class="hs-identifier hs-var">constrT</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681035036"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035007"><span class="hs-identifier hs-var">t'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1822"></span><span>                      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TypeError -&gt; TCM IsPathCons
forall (m :: * -&gt; *) a.
(HasCallStack, MonadTCError m) =&gt;
TypeError -&gt; m a
</span><a href="Agda.TypeChecking.Monad.Base.html#typeError"><span class="hs-identifier hs-var">typeError</span></a></span><span> </span><span class="annot"><span class="annottext">(TypeError -&gt; TCM IsPathCons) -&gt; TypeError -&gt; TCM IsPathCons
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Type -&gt; TypeError
</span><a href="Agda.TypeChecking.Monad.Base.html#ShouldEndInApplicationOfTheDatatype"><span class="hs-identifier hs-var">ShouldEndInApplicationOfTheDatatype</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035034"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1823"></span><span>                </span><span class="annot"><span class="annottext">Term
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TypeError -&gt; TCM IsPathCons
forall (m :: * -&gt; *) a.
(HasCallStack, MonadTCError m) =&gt;
TypeError -&gt; m a
</span><a href="Agda.TypeChecking.Monad.Base.html#typeError"><span class="hs-identifier hs-var">typeError</span></a></span><span> </span><span class="annot"><span class="annottext">(TypeError -&gt; TCM IsPathCons) -&gt; TypeError -&gt; TCM IsPathCons
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Type -&gt; TypeError
</span><a href="Agda.TypeChecking.Monad.Base.html#ShouldEndInApplicationOfTheDatatype"><span class="hs-identifier hs-var">ShouldEndInApplicationOfTheDatatype</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681035034"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-1824"></span><span>
</span><span id="line-1825"></span><span>        </span><span id="local-6989586621681035019"><span class="annot"><span class="annottext">checkParams :: Nat -&gt; [Arg Term] -&gt; m ()
</span><a href="#local-6989586621681035019"><span class="hs-identifier hs-var hs-var">checkParams</span></a></span></span><span> </span><span id="local-6989586621681034984"><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681034984"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621681034983"><span class="annot"><span class="annottext">[Arg Term]
</span><a href="#local-6989586621681034983"><span class="hs-identifier hs-var">vs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Arg Term -&gt; Nat -&gt; m ()) -&gt; [Arg Term] -&gt; [Nat] -&gt; m ()
forall (m :: * -&gt; *) a b c.
Applicative m =&gt;
(a -&gt; b -&gt; m c) -&gt; [a] -&gt; [b] -&gt; m ()
</span><span class="hs-identifier hs-var">zipWithM_</span></span><span> </span><span class="annot"><span class="annottext">Arg Term -&gt; Nat -&gt; m ()
forall {m :: * -&gt; *}.
(MonadMetaSolver m, MonadWarning m, MonadStatistics m,
 MonadFresh ProblemId m, MonadFresh Nat m) =&gt;
Arg Term -&gt; Nat -&gt; m ()
</span><a href="#local-6989586621681034981"><span class="hs-identifier hs-var">sameVar</span></a></span><span> </span><span class="annot"><span class="annottext">[Arg Term]
</span><a href="#local-6989586621681034983"><span class="hs-identifier hs-var">vs</span></a></span><span> </span><span class="annot"><span class="annottext">[Nat]
</span><a href="#local-6989586621681034980"><span class="hs-identifier hs-var">ps</span></a></span><span>
</span><span id="line-1826"></span><span>            </span><span class="hs-keyword">where</span><span>
</span><span id="line-1827"></span><span>                </span><span id="local-6989586621681034979"><span class="annot"><span class="annottext">nvs :: Nat
</span><a href="#local-6989586621681034979"><span class="hs-identifier hs-var hs-var">nvs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Arg Term] -&gt; Nat
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Nat
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[Arg Term]
</span><a href="#local-6989586621681034983"><span class="hs-identifier hs-var">vs</span></a></span><span>
</span><span id="line-1828"></span><span>                </span><span id="local-6989586621681034980"><span class="annot"><span class="annottext">ps :: [Nat]
</span><a href="#local-6989586621681034980"><span class="hs-identifier hs-var hs-var">ps</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Nat] -&gt; [Nat]
forall a. [a] -&gt; [a]
</span><span class="hs-identifier hs-var">reverse</span></span><span> </span><span class="annot"><span class="annottext">([Nat] -&gt; [Nat]) -&gt; [Nat] -&gt; [Nat]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; [Nat] -&gt; [Nat]
forall a. Nat -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">take</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681034979"><span class="hs-identifier hs-var">nvs</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681034984"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-glyph">..</span><span class="hs-special">]</span><span>
</span><span id="line-1829"></span><span>
</span><span id="line-1830"></span><span>                </span><span id="local-6989586621681034981"><span class="annot"><span class="annottext">sameVar :: Arg Term -&gt; Nat -&gt; m ()
</span><a href="#local-6989586621681034981"><span class="hs-identifier hs-var hs-var">sameVar</span></a></span></span><span> </span><span id="local-6989586621681034945"><span class="annot"><span class="annottext">Arg Term
</span><a href="#local-6989586621681034945"><span class="hs-identifier hs-var">arg</span></a></span></span><span> </span><span id="local-6989586621681034944"><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681034944"><span class="hs-identifier hs-var">i</span></a></span></span><span>
</span><span id="line-1831"></span><span>                  </span><span class="hs-comment">-- skip irrelevant parameters</span><span>
</span><span id="line-1832"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Arg Term -&gt; Bool
forall a. LensRelevance a =&gt; a -&gt; Bool
</span><a href="Agda.Syntax.Common.html#isIrrelevant"><span class="hs-identifier hs-var">isIrrelevant</span></a></span><span> </span><span class="annot"><span class="annottext">Arg Term
</span><a href="#local-6989586621681034945"><span class="hs-identifier hs-var">arg</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; m ()
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1833"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1834"></span><span>                    </span><span id="local-6989586621681034942"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681034942"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Nat -&gt; m Type
forall (m :: * -&gt; *).
(Applicative m, MonadFail m, MonadTCEnv m) =&gt;
Nat -&gt; m Type
</span><a href="Agda.TypeChecking.Monad.Context.html#typeOfBV"><span class="hs-identifier hs-var">typeOfBV</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681034944"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-1835"></span><span>                    </span><span class="annot"><span class="annottext">Type -&gt; Term -&gt; Term -&gt; m ()
forall (m :: * -&gt; *).
MonadConversion m =&gt;
Type -&gt; Term -&gt; Term -&gt; m ()
</span><a href="Agda.TypeChecking.Conversion.html#equalTerm"><span class="hs-identifier hs-var">equalTerm</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681034942"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Arg Term -&gt; Term
forall e. Arg e -&gt; e
</span><a href="Agda.Syntax.Common.html#unArg"><span class="hs-identifier hs-var">unArg</span></a></span><span> </span><span class="annot"><span class="annottext">Arg Term
</span><a href="#local-6989586621681034945"><span class="hs-identifier hs-var">arg</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Nat -&gt; Term
</span><a href="Agda.Syntax.Internal.html#var"><span class="hs-identifier hs-var">var</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621681034944"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1836"></span><span>
</span><span id="line-1837"></span><span>
</span><span id="line-1838"></span><span class="hs-comment">-- | Is the type coinductive? Returns 'Nothing' if the answer cannot</span><span>
</span><span id="line-1839"></span><span class="hs-comment">-- be determined.</span><span>
</span><span id="line-1840"></span><span>
</span><span id="line-1841"></span><span class="annot"><a href="Agda.TypeChecking.Rules.Data.html#isCoinductive"><span class="hs-identifier hs-type">isCoinductive</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#TCM"><span class="hs-identifier hs-type">TCM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span>
</span><span id="line-1842"></span><span id="isCoinductive"><span class="annot"><span class="annottext">isCoinductive :: Type -&gt; TCM (Maybe Bool)
</span><a href="Agda.TypeChecking.Rules.Data.html#isCoinductive"><span class="hs-identifier hs-var hs-var">isCoinductive</span></a></span></span><span> </span><span id="local-6989586621681034938"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681034938"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1843"></span><span>  </span><span class="annot"><a href="Agda.Syntax.Internal.html#El"><span class="hs-identifier hs-type">El</span></a></span><span> </span><span id="local-6989586621681034937"><span class="annot"><span class="annottext">Sort' Term
</span><a href="#local-6989586621681034937"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621681034936"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681034936"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Type -&gt; TCMT IO Type
forall a (m :: * -&gt; *). (Reduce a, MonadReduce m) =&gt; a -&gt; m a
</span><a href="Agda.TypeChecking.Reduce.html#reduce"><span class="hs-identifier hs-var">reduce</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681034938"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-1844"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681034936"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1845"></span><span>    </span><span class="annot"><a href="Agda.Syntax.Internal.html#Def"><span class="hs-identifier hs-type">Def</span></a></span><span> </span><span id="local-6989586621681034935"><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681034935"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="annot"><span class="annottext">[Elim' Term]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1846"></span><span>      </span><span id="local-6989586621681034934"><span class="annot"><span class="annottext">Definition
</span><a href="#local-6989586621681034934"><span class="hs-identifier hs-var">def</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">QName -&gt; TCMT IO Definition
forall (m :: * -&gt; *). HasConstInfo m =&gt; QName -&gt; m Definition
</span><a href="Agda.TypeChecking.Monad.Signature.html#getConstInfo"><span class="hs-identifier hs-var">getConstInfo</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681034935"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-1847"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Definition -&gt; Defn
</span><a href="Agda.TypeChecking.Monad.Base.html#theDef"><span class="hs-identifier hs-var">theDef</span></a></span><span> </span><span class="annot"><span class="annottext">Definition
</span><a href="#local-6989586621681034934"><span class="hs-identifier hs-var">def</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1848"></span><span>        </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#Axiom"><span class="hs-identifier hs-type">Axiom</span></a></span><span>       </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe Bool -&gt; TCM (Maybe Bool)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Maybe Bool
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">)</span><span>
</span><span id="line-1849"></span><span>        </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#DataOrRecSig"><span class="hs-identifier hs-type">DataOrRecSig</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe Bool -&gt; TCM (Maybe Bool)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">Maybe Bool
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-1850"></span><span>        </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#Function"><span class="hs-identifier hs-type">Function</span></a></span><span>    </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe Bool -&gt; TCM (Maybe Bool)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">Maybe Bool
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-1851"></span><span>        </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#Datatype"><span class="hs-identifier hs-type">Datatype</span></a></span><span>    </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe Bool -&gt; TCM (Maybe Bool)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Maybe Bool
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">)</span><span>
</span><span id="line-1852"></span><span>        </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#Record"><span class="hs-identifier hs-type">Record</span></a></span><span>      </span><span class="hs-special">{</span><span>  </span><span class="annot"><span class="annottext">recInduction :: Defn -&gt; Maybe Induction
</span><a href="Agda.TypeChecking.Monad.Base.html#recInduction"><span class="hs-identifier hs-var">recInduction</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><span class="annottext">Induction
</span><a href="Agda.Syntax.Common.html#CoInductive"><span class="hs-identifier hs-var">CoInductive</span></a></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe Bool -&gt; TCM (Maybe Bool)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Maybe Bool
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">)</span><span>
</span><span id="line-1853"></span><span>        </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#Record"><span class="hs-identifier hs-type">Record</span></a></span><span>      </span><span class="hs-special">{</span><span>  </span><span class="annot"><span class="annottext">recInduction :: Defn -&gt; Maybe Induction
</span><a href="Agda.TypeChecking.Monad.Base.html#recInduction"><span class="hs-identifier hs-var">recInduction</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Induction
</span><span class="hs-identifier">_</span></span><span>                </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe Bool -&gt; TCM (Maybe Bool)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Maybe Bool
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">)</span><span>
</span><span id="line-1854"></span><span>        </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#GeneralizableVar"><span class="hs-identifier hs-type">GeneralizableVar</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TCM (Maybe Bool)
forall a. HasCallStack =&gt; a
</span><a href="Agda.Utils.Impossible.html#__IMPOSSIBLE__"><span class="hs-identifier hs-var">__IMPOSSIBLE__</span></a></span><span>
</span><span id="line-1855"></span><span>        </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#Constructor"><span class="hs-identifier hs-type">Constructor</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TCM (Maybe Bool)
forall a. HasCallStack =&gt; a
</span><a href="Agda.Utils.Impossible.html#__IMPOSSIBLE__"><span class="hs-identifier hs-var">__IMPOSSIBLE__</span></a></span><span>
</span><span id="line-1856"></span><span>        </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#Primitive"><span class="hs-identifier hs-type">Primitive</span></a></span><span>   </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TCM (Maybe Bool)
forall a. HasCallStack =&gt; a
</span><a href="Agda.Utils.Impossible.html#__IMPOSSIBLE__"><span class="hs-identifier hs-var">__IMPOSSIBLE__</span></a></span><span>
</span><span id="line-1857"></span><span>        </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#PrimitiveSort"><span class="hs-identifier hs-type">PrimitiveSort</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TCM (Maybe Bool)
forall a. HasCallStack =&gt; a
</span><a href="Agda.Utils.Impossible.html#__IMPOSSIBLE__"><span class="hs-identifier hs-var">__IMPOSSIBLE__</span></a></span><span>
</span><span id="line-1858"></span><span>        </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#AbstractDefn"><span class="hs-identifier hs-type">AbstractDefn</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TCM (Maybe Bool)
forall a. HasCallStack =&gt; a
</span><a href="Agda.Utils.Impossible.html#__IMPOSSIBLE__"><span class="hs-identifier hs-var">__IMPOSSIBLE__</span></a></span><span>
</span><span id="line-1859"></span><span>    </span><span class="annot"><a href="Agda.Syntax.Internal.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span>   </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe Bool -&gt; TCM (Maybe Bool)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">Maybe Bool
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-1860"></span><span>    </span><span class="annot"><a href="Agda.Syntax.Internal.html#Lam"><span class="hs-identifier hs-type">Lam</span></a></span><span>   </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TCM (Maybe Bool)
forall a. HasCallStack =&gt; a
</span><a href="Agda.Utils.Impossible.html#__IMPOSSIBLE__"><span class="hs-identifier hs-var">__IMPOSSIBLE__</span></a></span><span>
</span><span id="line-1861"></span><span>    </span><span class="annot"><a href="Agda.Syntax.Internal.html#Lit"><span class="hs-identifier hs-type">Lit</span></a></span><span>   </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TCM (Maybe Bool)
forall a. HasCallStack =&gt; a
</span><a href="Agda.Utils.Impossible.html#__IMPOSSIBLE__"><span class="hs-identifier hs-var">__IMPOSSIBLE__</span></a></span><span>
</span><span id="line-1862"></span><span>    </span><span class="annot"><a href="Agda.Syntax.Internal.html#Level"><span class="hs-identifier hs-type">Level</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TCM (Maybe Bool)
forall a. HasCallStack =&gt; a
</span><a href="Agda.Utils.Impossible.html#__IMPOSSIBLE__"><span class="hs-identifier hs-var">__IMPOSSIBLE__</span></a></span><span>
</span><span id="line-1863"></span><span>    </span><span class="annot"><a href="Agda.Syntax.Internal.html#Con"><span class="hs-identifier hs-type">Con</span></a></span><span>   </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TCM (Maybe Bool)
forall a. HasCallStack =&gt; a
</span><a href="Agda.Utils.Impossible.html#__IMPOSSIBLE__"><span class="hs-identifier hs-var">__IMPOSSIBLE__</span></a></span><span>
</span><span id="line-1864"></span><span>    </span><span class="annot"><a href="Agda.Syntax.Internal.html#Pi"><span class="hs-identifier hs-type">Pi</span></a></span><span>    </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe Bool -&gt; TCM (Maybe Bool)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Maybe Bool
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">)</span><span>
</span><span id="line-1865"></span><span>    </span><span class="annot"><a href="Agda.Syntax.Internal.html#Sort"><span class="hs-identifier hs-type">Sort</span></a></span><span>  </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe Bool -&gt; TCM (Maybe Bool)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Maybe Bool
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">)</span><span>
</span><span id="line-1866"></span><span>    </span><span class="annot"><a href="Agda.Syntax.Internal.html#MetaV"><span class="hs-identifier hs-type">MetaV</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe Bool -&gt; TCM (Maybe Bool)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">Maybe Bool
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-1867"></span><span>    </span><span class="annot"><a href="Agda.Syntax.Internal.html#DontCare"><span class="hs-identifier hs-type">DontCare</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TCM (Maybe Bool)
forall a. HasCallStack =&gt; a
</span><a href="Agda.Utils.Impossible.html#__IMPOSSIBLE__"><span class="hs-identifier hs-var">__IMPOSSIBLE__</span></a></span><span>
</span><span id="line-1868"></span><span>    </span><span class="annot"><a href="Agda.Syntax.Internal.html#Dummy"><span class="hs-identifier hs-type">Dummy</span></a></span><span> </span><span id="local-6989586621681034920"><span class="annot"><span class="annottext">ArgName
</span><a href="#local-6989586621681034920"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="annot"><span class="annottext">[Elim' Term]
</span><span class="hs-identifier">_</span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ArgName -&gt; TCM (Maybe Bool)
forall (m :: * -&gt; *) a.
(HasCallStack, MonadDebug m) =&gt;
ArgName -&gt; m a
</span><a href="Agda.TypeChecking.Monad.Debug.html#__IMPOSSIBLE_VERBOSE__"><span class="hs-identifier hs-var">__IMPOSSIBLE_VERBOSE__</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><a href="#local-6989586621681034920"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-1869"></span></pre></body></html>