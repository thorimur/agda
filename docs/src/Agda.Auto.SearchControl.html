<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# OPTIONS_GHC -fno-warn-orphans #-}</span><span>
</span><span id="line-2"></span><span>
</span><span id="line-3"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Agda.Auto.SearchControl</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-4"></span><span>
</span><span id="line-5"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad</span></span><span>
</span><span id="line-6"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.IORef</span></span><span>
</span><span id="line-7"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.State</span></span><span>
</span><span id="line-8"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">mapMaybe</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">fromMaybe</span></span><span class="hs-special">)</span><span>
</span><span id="line-9"></span><span>
</span><span id="line-10"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.Syntax.Common.html"><span class="hs-identifier">Agda.Syntax.Common</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Common.html#Hiding"><span class="hs-identifier">Hiding</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-11"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.Auto.NarrowingSearch.html"><span class="hs-identifier">Agda.Auto.NarrowingSearch</span></a></span><span>
</span><span id="line-12"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.Auto.Syntax.html"><span class="hs-identifier">Agda.Auto.Syntax</span></a></span><span>
</span><span id="line-13"></span><span>
</span><span id="line-14"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.Utils.Impossible.html"><span class="hs-identifier">Agda.Utils.Impossible</span></a></span><span>
</span><span id="line-15"></span><span>
</span><span id="line-16"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680774880"><span class="annot"><a href="Agda.Auto.NarrowingSearch.html#Refinable"><span class="hs-identifier hs-type">Refinable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Auto.Syntax.html#ArgList"><span class="hs-identifier hs-type">ArgList</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774880"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Auto.Syntax.html#RefInfo"><span class="hs-identifier hs-type">RefInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774880"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-17"></span><span> </span><span id="local-6989586621680774598"><span class="annot"><span class="annottext">refinements :: RefInfo o
-&gt; [RefInfo o]
-&gt; Metavar (ArgList o) (RefInfo o)
-&gt; IO [Move' (RefInfo o) (ArgList o)]
</span><a href="Agda.Auto.NarrowingSearch.html#refinements"><span class="hs-identifier hs-var hs-var hs-var hs-var">refinements</span></a></span></span><span> </span><span class="annot"><span class="annottext">RefInfo o
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680774596"><span class="annot"><span class="annottext">[RefInfo o]
</span><a href="#local-6989586621680774596"><span class="hs-identifier hs-var">infos</span></a></span></span><span> </span><span class="annot"><span class="annottext">Metavar (ArgList o) (RefInfo o)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Move' (RefInfo o) (ArgList o)]
-&gt; IO [Move' (RefInfo o) (ArgList o)]
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">([Move' (RefInfo o) (ArgList o)]
 -&gt; IO [Move' (RefInfo o) (ArgList o)])
-&gt; [Move' (RefInfo o) (ArgList o)]
-&gt; IO [Move' (RefInfo o) (ArgList o)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(RefCreateEnv (RefInfo o) (ArgList o)
 -&gt; Move' (RefInfo o) (ArgList o))
-&gt; [RefCreateEnv (RefInfo o) (ArgList o)]
-&gt; [Move' (RefInfo o) (ArgList o)]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Cost
-&gt; RefCreateEnv (RefInfo o) (ArgList o)
-&gt; Move' (RefInfo o) (ArgList o)
forall blk a. Cost -&gt; RefCreateEnv blk a -&gt; Move' blk a
</span><a href="Agda.Auto.NarrowingSearch.html#Move"><span class="hs-identifier hs-var">Move</span></a></span><span> </span><span class="annot"><span class="annottext">Cost
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([RefCreateEnv (RefInfo o) (ArgList o)]
 -&gt; [Move' (RefInfo o) (ArgList o)])
-&gt; [RefCreateEnv (RefInfo o) (ArgList o)]
-&gt; [Move' (RefInfo o) (ArgList o)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-18"></span><span>   </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">ArgList o -&gt; RefCreateEnv (RefInfo o) (ArgList o)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">ArgList o
forall o. ArgList o
</span><a href="Agda.Auto.Syntax.html#ALNil"><span class="hs-identifier hs-var">ALNil</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Hiding -&gt; RefCreateEnv (RefInfo o) (ArgList o)
</span><a href="#local-6989586621680774593"><span class="hs-identifier hs-var">cons</span></a></span><span> </span><span class="annot"><span class="annottext">Hiding
</span><a href="Agda.Syntax.Common.html#NotHidden"><span class="hs-identifier hs-var">NotHidden</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Hiding -&gt; RefCreateEnv (RefInfo o) (ArgList o)
</span><a href="#local-6989586621680774593"><span class="hs-identifier hs-var">cons</span></a></span><span> </span><span class="annot"><span class="annottext">Hiding
</span><a href="Agda.Syntax.Common.html#Hidden"><span class="hs-identifier hs-var">Hidden</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-19"></span><span>   </span><span class="annot"><span class="annottext">[RefCreateEnv (RefInfo o) (ArgList o)]
-&gt; [RefCreateEnv (RefInfo o) (ArgList o)]
-&gt; [RefCreateEnv (RefInfo o) (ArgList o)]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">[RefInfo o] -&gt; Bool
</span><a href="#local-6989586621680774590"><span class="hs-identifier hs-var">getIsDep</span></a></span><span> </span><span class="annot"><span class="annottext">[RefInfo o]
</span><a href="#local-6989586621680774596"><span class="hs-identifier hs-var">infos</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-20"></span><span>      </span><span class="hs-keyword">else</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Hiding -&gt; RefCreateEnv (RefInfo o) (ArgList o)
</span><a href="#local-6989586621680774589"><span class="hs-identifier hs-var">proj</span></a></span><span> </span><span class="annot"><span class="annottext">Hiding
</span><a href="Agda.Syntax.Common.html#NotHidden"><span class="hs-identifier hs-var">NotHidden</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Hiding -&gt; RefCreateEnv (RefInfo o) (ArgList o)
</span><a href="#local-6989586621680774589"><span class="hs-identifier hs-var">proj</span></a></span><span> </span><span class="annot"><span class="annottext">Hiding
</span><a href="Agda.Syntax.Common.html#Hidden"><span class="hs-identifier hs-var">Hidden</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-21"></span><span>
</span><span id="line-22"></span><span>   </span><span class="hs-keyword">where</span><span>
</span><span id="line-23"></span><span>
</span><span id="line-24"></span><span>    </span><span class="annot"><a href="#local-6989586621680774590"><span class="hs-identifier hs-type">getIsDep</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Agda.Auto.Syntax.html#RefInfo"><span class="hs-identifier hs-type">RefInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774880"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-25"></span><span>    </span><span id="local-6989586621680774590"><span class="annot"><span class="annottext">getIsDep :: [RefInfo o] -&gt; Bool
</span><a href="#local-6989586621680774590"><span class="hs-identifier hs-var hs-var">getIsDep</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680774588"><span class="annot"><span class="annottext">RefInfo o
</span><a href="#local-6989586621680774588"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621680774587"><span class="annot"><span class="annottext">[RefInfo o]
</span><a href="#local-6989586621680774587"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">RefInfo o
</span><a href="#local-6989586621680774588"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-26"></span><span>      </span><span class="annot"><a href="Agda.Auto.Syntax.html#RICheckElim"><span class="hs-identifier hs-type">RICheckElim</span></a></span><span> </span><span id="local-6989586621680774585"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680774585"><span class="hs-identifier hs-var">isDep</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680774585"><span class="hs-identifier hs-var">isDep</span></a></span><span>
</span><span id="line-27"></span><span>      </span><span class="annot"><span class="annottext">RefInfo o
</span><span class="hs-identifier">_</span></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[RefInfo o] -&gt; Bool
</span><a href="#local-6989586621680774590"><span class="hs-identifier hs-var">getIsDep</span></a></span><span> </span><span class="annot"><span class="annottext">[RefInfo o]
</span><a href="#local-6989586621680774587"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-28"></span><span>    </span><span class="annot"><a href="#local-6989586621680774590"><span class="hs-identifier hs-var">getIsDep</span></a></span><span> </span><span class="annot"><span class="annottext">[RefInfo o]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
forall a. HasCallStack =&gt; a
</span><a href="Agda.Utils.Impossible.html#__IMPOSSIBLE__"><span class="hs-identifier hs-var">__IMPOSSIBLE__</span></a></span><span>
</span><span id="line-29"></span><span>
</span><span id="line-30"></span><span>    </span><span class="annot"><a href="#local-6989586621680774589"><span class="hs-identifier hs-type">proj</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Common.html#Hiding"><span class="hs-identifier hs-type">Hiding</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Auto.NarrowingSearch.html#RefCreateEnv"><span class="hs-identifier hs-type">RefCreateEnv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Auto.Syntax.html#RefInfo"><span class="hs-identifier hs-type">RefInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774880"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Auto.Syntax.html#ArgList"><span class="hs-identifier hs-type">ArgList</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774880"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-31"></span><span>    </span><span id="local-6989586621680774589"><span class="annot"><span class="annottext">proj :: Hiding -&gt; RefCreateEnv (RefInfo o) (ArgList o)
</span><a href="#local-6989586621680774589"><span class="hs-identifier hs-var hs-var">proj</span></a></span></span><span> </span><span id="local-6989586621680774583"><span class="annot"><span class="annottext">Hiding
</span><a href="#local-6989586621680774583"><span class="hs-identifier hs-var">hid</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MArgList o
-&gt; MM (ConstRef o) (RefInfo o) -&gt; Hiding -&gt; MArgList o -&gt; ArgList o
forall o.
MArgList o
-&gt; MM (ConstRef o) (RefInfo o) -&gt; Hiding -&gt; MArgList o -&gt; ArgList o
</span><a href="Agda.Auto.Syntax.html#ALProj"><span class="hs-identifier hs-var">ALProj</span></a></span><span> </span><span class="annot"><span class="annottext">(MArgList o
 -&gt; MM (ConstRef o) (RefInfo o)
 -&gt; Hiding
 -&gt; MArgList o
 -&gt; ArgList o)
-&gt; RefCreateEnv (RefInfo o) (MArgList o)
-&gt; RefCreateEnv
     (RefInfo o)
     (MM (ConstRef o) (RefInfo o) -&gt; Hiding -&gt; MArgList o -&gt; ArgList o)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">RefCreateEnv (RefInfo o) (MArgList o)
forall blk a. RefCreateEnv blk (MM a blk)
</span><a href="Agda.Auto.NarrowingSearch.html#newPlaceholder"><span class="hs-identifier hs-var">newPlaceholder</span></a></span><span> </span><span class="annot"><span class="annottext">RefCreateEnv
  (RefInfo o)
  (MM (ConstRef o) (RefInfo o) -&gt; Hiding -&gt; MArgList o -&gt; ArgList o)
-&gt; RefCreateEnv (RefInfo o) (MM (ConstRef o) (RefInfo o))
-&gt; RefCreateEnv (RefInfo o) (Hiding -&gt; MArgList o -&gt; ArgList o)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">RefCreateEnv (RefInfo o) (MM (ConstRef o) (RefInfo o))
forall blk a. RefCreateEnv blk (MM a blk)
</span><a href="Agda.Auto.NarrowingSearch.html#newPlaceholder"><span class="hs-identifier hs-var">newPlaceholder</span></a></span><span>
</span><span id="line-32"></span><span>                      </span><span class="annot"><span class="annottext">RefCreateEnv (RefInfo o) (Hiding -&gt; MArgList o -&gt; ArgList o)
-&gt; RefCreateEnv (RefInfo o) Hiding
-&gt; RefCreateEnv (RefInfo o) (MArgList o -&gt; ArgList o)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Hiding -&gt; RefCreateEnv (RefInfo o) Hiding
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">Hiding
</span><a href="#local-6989586621680774583"><span class="hs-identifier hs-var">hid</span></a></span><span>     </span><span class="annot"><span class="annottext">RefCreateEnv (RefInfo o) (MArgList o -&gt; ArgList o)
-&gt; RefCreateEnv (RefInfo o) (MArgList o)
-&gt; RefCreateEnv (RefInfo o) (ArgList o)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">RefCreateEnv (RefInfo o) (MArgList o)
forall blk a. RefCreateEnv blk (MM a blk)
</span><a href="Agda.Auto.NarrowingSearch.html#newPlaceholder"><span class="hs-identifier hs-var">newPlaceholder</span></a></span><span>
</span><span id="line-33"></span><span>
</span><span id="line-34"></span><span>    </span><span class="annot"><a href="#local-6989586621680774593"><span class="hs-identifier hs-type">cons</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Common.html#Hiding"><span class="hs-identifier hs-type">Hiding</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Auto.NarrowingSearch.html#RefCreateEnv"><span class="hs-identifier hs-type">RefCreateEnv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Auto.Syntax.html#RefInfo"><span class="hs-identifier hs-type">RefInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774880"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Auto.Syntax.html#ArgList"><span class="hs-identifier hs-type">ArgList</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774880"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-35"></span><span>    </span><span id="local-6989586621680774593"><span class="annot"><span class="annottext">cons :: Hiding -&gt; RefCreateEnv (RefInfo o) (ArgList o)
</span><a href="#local-6989586621680774593"><span class="hs-identifier hs-var hs-var">cons</span></a></span></span><span> </span><span id="local-6989586621680774579"><span class="annot"><span class="annottext">Hiding
</span><a href="#local-6989586621680774579"><span class="hs-identifier hs-var">hid</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Hiding -&gt; MExp o -&gt; MArgList o -&gt; ArgList o
forall o. Hiding -&gt; MExp o -&gt; MArgList o -&gt; ArgList o
</span><a href="Agda.Auto.Syntax.html#ALCons"><span class="hs-identifier hs-var">ALCons</span></a></span><span> </span><span class="annot"><span class="annottext">Hiding
</span><a href="#local-6989586621680774579"><span class="hs-identifier hs-var">hid</span></a></span><span> </span><span class="annot"><span class="annottext">(MExp o -&gt; MArgList o -&gt; ArgList o)
-&gt; RefCreateEnv (RefInfo o) (MExp o)
-&gt; RefCreateEnv (RefInfo o) (MArgList o -&gt; ArgList o)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">RefCreateEnv (RefInfo o) (MExp o)
forall blk a. RefCreateEnv blk (MM a blk)
</span><a href="Agda.Auto.NarrowingSearch.html#newPlaceholder"><span class="hs-identifier hs-var">newPlaceholder</span></a></span><span> </span><span class="annot"><span class="annottext">RefCreateEnv (RefInfo o) (MArgList o -&gt; ArgList o)
-&gt; RefCreateEnv (RefInfo o) (MArgList o)
-&gt; RefCreateEnv (RefInfo o) (ArgList o)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">RefCreateEnv (RefInfo o) (MArgList o)
forall blk a. RefCreateEnv blk (MM a blk)
</span><a href="Agda.Auto.NarrowingSearch.html#newPlaceholder"><span class="hs-identifier hs-var">newPlaceholder</span></a></span><span>
</span><span id="line-36"></span><span>
</span><span id="line-37"></span><span>
</span><span id="line-38"></span><span class="hs-keyword">data</span><span> </span><span id="ExpRefInfo"><span class="annot"><a href="Agda.Auto.SearchControl.html#ExpRefInfo"><span class="hs-identifier hs-var">ExpRefInfo</span></a></span></span><span> </span><span id="local-6989586621680774847"><span class="annot"><a href="#local-6989586621680774847"><span class="hs-identifier hs-type">o</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="ExpRefInfo"><span class="annot"><a href="Agda.Auto.SearchControl.html#ExpRefInfo"><span class="hs-identifier hs-var">ExpRefInfo</span></a></span></span><span>
</span><span id="line-39"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="eriMain"><span class="annot"><span class="annottext">forall o. ExpRefInfo o -&gt; Maybe (RefInfo o)
</span><a href="Agda.Auto.SearchControl.html#eriMain"><span class="hs-identifier hs-var hs-var">eriMain</span></a></span></span><span>           </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Auto.Syntax.html#RefInfo"><span class="hs-identifier hs-type">RefInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774847"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-40"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="eriUnifs"><span class="annot"><span class="annottext">forall o. ExpRefInfo o -&gt; [RefInfo o]
</span><a href="Agda.Auto.SearchControl.html#eriUnifs"><span class="hs-identifier hs-var hs-var">eriUnifs</span></a></span></span><span>          </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Agda.Auto.Syntax.html#RefInfo"><span class="hs-identifier hs-type">RefInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774847"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-41"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="eriInfTypeUnknown"><span class="annot"><span class="annottext">forall o. ExpRefInfo o -&gt; Bool
</span><a href="Agda.Auto.SearchControl.html#eriInfTypeUnknown"><span class="hs-identifier hs-var hs-var">eriInfTypeUnknown</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-42"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="eriIsEliminand"><span class="annot"><span class="annottext">forall o. ExpRefInfo o -&gt; Bool
</span><a href="Agda.Auto.SearchControl.html#eriIsEliminand"><span class="hs-identifier hs-var hs-var">eriIsEliminand</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-43"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="eriUsedVars"><span class="annot"><span class="annottext">forall o. ExpRefInfo o -&gt; Maybe ([UId o], [Elr o])
</span><a href="Agda.Auto.SearchControl.html#eriUsedVars"><span class="hs-identifier hs-var hs-var">eriUsedVars</span></a></span></span><span>       </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="Agda.Auto.Syntax.html#UId"><span class="hs-identifier hs-type">UId</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774847"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Agda.Auto.Syntax.html#Elr"><span class="hs-identifier hs-type">Elr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774847"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-44"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="eriIotaStep"><span class="annot"><span class="annottext">forall o. ExpRefInfo o -&gt; Maybe Bool
</span><a href="Agda.Auto.SearchControl.html#eriIotaStep"><span class="hs-identifier hs-var hs-var">eriIotaStep</span></a></span></span><span>       </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-45"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="eriPickSubsVar"><span class="annot"><span class="annottext">forall o. ExpRefInfo o -&gt; Bool
</span><a href="Agda.Auto.SearchControl.html#eriPickSubsVar"><span class="hs-identifier hs-var hs-var">eriPickSubsVar</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-46"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="eriEqRState"><span class="annot"><span class="annottext">forall o. ExpRefInfo o -&gt; Maybe EqReasoningState
</span><a href="Agda.Auto.SearchControl.html#eriEqRState"><span class="hs-identifier hs-var hs-var">eriEqRState</span></a></span></span><span>       </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Agda.Auto.Syntax.html#EqReasoningState"><span class="hs-identifier hs-type">EqReasoningState</span></a></span><span>
</span><span id="line-47"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-48"></span><span>
</span><span id="line-49"></span><span id="local-6989586621680774834"><span class="annot"><a href="Agda.Auto.SearchControl.html#initExpRefInfo"><span class="hs-identifier hs-type">initExpRefInfo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Auto.SearchControl.html#ExpRefInfo"><span class="hs-identifier hs-type">ExpRefInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774834"><span class="hs-identifier hs-type">o</span></a></span></span><span>
</span><span id="line-50"></span><span id="initExpRefInfo"><span class="annot"><span class="annottext">initExpRefInfo :: forall o. ExpRefInfo o
</span><a href="Agda.Auto.SearchControl.html#initExpRefInfo"><span class="hs-identifier hs-var hs-var">initExpRefInfo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Agda.Auto.SearchControl.html#ExpRefInfo"><span class="hs-identifier hs-type">ExpRefInfo</span></a></span><span>
</span><span id="line-51"></span><span>  </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">eriMain :: Maybe (RefInfo o)
</span><a href="Agda.Auto.SearchControl.html#eriMain"><span class="hs-identifier hs-var">eriMain</span></a></span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (RefInfo o)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-52"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">eriUnifs :: [RefInfo o]
</span><a href="Agda.Auto.SearchControl.html#eriUnifs"><span class="hs-identifier hs-var">eriUnifs</span></a></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-53"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">eriInfTypeUnknown :: Bool
</span><a href="Agda.Auto.SearchControl.html#eriInfTypeUnknown"><span class="hs-identifier hs-var">eriInfTypeUnknown</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-54"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">eriIsEliminand :: Bool
</span><a href="Agda.Auto.SearchControl.html#eriIsEliminand"><span class="hs-identifier hs-var">eriIsEliminand</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-55"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">eriUsedVars :: Maybe ([UId o], [Elr o])
</span><a href="Agda.Auto.SearchControl.html#eriUsedVars"><span class="hs-identifier hs-var">eriUsedVars</span></a></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe ([UId o], [Elr o])
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-56"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">eriIotaStep :: Maybe Bool
</span><a href="Agda.Auto.SearchControl.html#eriIotaStep"><span class="hs-identifier hs-var">eriIotaStep</span></a></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Bool
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-57"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">eriPickSubsVar :: Bool
</span><a href="Agda.Auto.SearchControl.html#eriPickSubsVar"><span class="hs-identifier hs-var">eriPickSubsVar</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-58"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">eriEqRState :: Maybe EqReasoningState
</span><a href="Agda.Auto.SearchControl.html#eriEqRState"><span class="hs-identifier hs-var">eriEqRState</span></a></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe EqReasoningState
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-59"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-60"></span><span>
</span><span id="line-61"></span><span id="local-6989586621680774832"><span class="annot"><a href="Agda.Auto.SearchControl.html#getinfo"><span class="hs-identifier hs-type">getinfo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Agda.Auto.Syntax.html#RefInfo"><span class="hs-identifier hs-type">RefInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774832"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Auto.SearchControl.html#ExpRefInfo"><span class="hs-identifier hs-type">ExpRefInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774832"><span class="hs-identifier hs-type">o</span></a></span></span><span>
</span><span id="line-62"></span><span id="getinfo"><span class="annot"><span class="annottext">getinfo :: forall o. [RefInfo o] -&gt; ExpRefInfo o
</span><a href="Agda.Auto.SearchControl.html#getinfo"><span class="hs-identifier hs-var hs-var">getinfo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ExpRefInfo o -&gt; RefInfo o -&gt; ExpRefInfo o)
-&gt; ExpRefInfo o -&gt; [RefInfo o] -&gt; ExpRefInfo o
forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldl</span></span><span> </span><span class="annot"><span class="annottext">ExpRefInfo o -&gt; RefInfo o -&gt; ExpRefInfo o
forall o. ExpRefInfo o -&gt; RefInfo o -&gt; ExpRefInfo o
</span><a href="#local-6989586621680774563"><span class="hs-identifier hs-var">step</span></a></span><span> </span><span class="annot"><span class="annottext">ExpRefInfo o
forall o. ExpRefInfo o
</span><a href="Agda.Auto.SearchControl.html#initExpRefInfo"><span class="hs-identifier hs-var">initExpRefInfo</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-63"></span><span>
</span><span id="line-64"></span><span>  </span><span id="local-6989586621680774827"><span class="annot"><a href="#local-6989586621680774563"><span class="hs-identifier hs-type">step</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Auto.SearchControl.html#ExpRefInfo"><span class="hs-identifier hs-type">ExpRefInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774827"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Auto.Syntax.html#RefInfo"><span class="hs-identifier hs-type">RefInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774827"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Auto.SearchControl.html#ExpRefInfo"><span class="hs-identifier hs-type">ExpRefInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774827"><span class="hs-identifier hs-type">o</span></a></span></span><span>
</span><span id="line-65"></span><span>  </span><span id="local-6989586621680774563"><span class="annot"><span class="annottext">step :: forall o. ExpRefInfo o -&gt; RefInfo o -&gt; ExpRefInfo o
</span><a href="#local-6989586621680774563"><span class="hs-identifier hs-var hs-var">step</span></a></span></span><span> </span><span id="local-6989586621680774556"><span class="annot"><span class="annottext">ExpRefInfo o
</span><a href="#local-6989586621680774556"><span class="hs-identifier hs-var">eri</span></a></span></span><span> </span><span id="local-6989586621680774555"><span class="annot"><span class="annottext">x :: RefInfo o
</span><a href="#local-6989586621680774555"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="Agda.Auto.Syntax.html#RIMainInfo"><span class="hs-identifier hs-type">RIMainInfo</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ExpRefInfo o
</span><a href="#local-6989586621680774556"><span class="hs-identifier hs-var">eri</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">eriMain :: Maybe (RefInfo o)
</span><a href="Agda.Auto.SearchControl.html#eriMain"><span class="hs-identifier hs-var">eriMain</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RefInfo o -&gt; Maybe (RefInfo o)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">RefInfo o
</span><a href="#local-6989586621680774555"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-66"></span><span>  </span><span class="annot"><a href="#local-6989586621680774563"><span class="hs-identifier hs-var">step</span></a></span><span> </span><span id="local-6989586621680774553"><span class="annot"><span class="annottext">ExpRefInfo o
</span><a href="#local-6989586621680774553"><span class="hs-identifier hs-var">eri</span></a></span></span><span> </span><span id="local-6989586621680774552"><span class="annot"><span class="annottext">x :: RefInfo o
</span><a href="#local-6989586621680774552"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="Agda.Auto.Syntax.html#RIUnifInfo"><span class="hs-identifier hs-type">RIUnifInfo</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ExpRefInfo o
</span><a href="#local-6989586621680774553"><span class="hs-identifier hs-var">eri</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">eriUnifs :: [RefInfo o]
</span><a href="Agda.Auto.SearchControl.html#eriUnifs"><span class="hs-identifier hs-var">eriUnifs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RefInfo o
</span><a href="#local-6989586621680774552"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">RefInfo o -&gt; [RefInfo o] -&gt; [RefInfo o]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">ExpRefInfo o -&gt; [RefInfo o]
forall o. ExpRefInfo o -&gt; [RefInfo o]
</span><a href="Agda.Auto.SearchControl.html#eriUnifs"><span class="hs-identifier hs-var">eriUnifs</span></a></span><span> </span><span class="annot"><span class="annottext">ExpRefInfo o
</span><a href="#local-6989586621680774553"><span class="hs-identifier hs-var">eri</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-67"></span><span>  </span><span class="annot"><a href="#local-6989586621680774563"><span class="hs-identifier hs-var">step</span></a></span><span> </span><span id="local-6989586621680774550"><span class="annot"><span class="annottext">ExpRefInfo o
</span><a href="#local-6989586621680774550"><span class="hs-identifier hs-var">eri</span></a></span></span><span> </span><span class="annot"><span class="annottext">RefInfo o
</span><a href="Agda.Auto.Syntax.html#RIInferredTypeUnknown"><span class="hs-identifier hs-var">RIInferredTypeUnknown</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ExpRefInfo o
</span><a href="#local-6989586621680774550"><span class="hs-identifier hs-var">eri</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">eriInfTypeUnknown :: Bool
</span><a href="Agda.Auto.SearchControl.html#eriInfTypeUnknown"><span class="hs-identifier hs-var">eriInfTypeUnknown</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-68"></span><span>  </span><span class="annot"><a href="#local-6989586621680774563"><span class="hs-identifier hs-var">step</span></a></span><span> </span><span id="local-6989586621680774548"><span class="annot"><span class="annottext">ExpRefInfo o
</span><a href="#local-6989586621680774548"><span class="hs-identifier hs-var">eri</span></a></span></span><span> </span><span class="annot"><span class="annottext">RefInfo o
</span><a href="Agda.Auto.Syntax.html#RINotConstructor"><span class="hs-identifier hs-var">RINotConstructor</span></a></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ExpRefInfo o
</span><a href="#local-6989586621680774548"><span class="hs-identifier hs-var">eri</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">eriIsEliminand :: Bool
</span><a href="Agda.Auto.SearchControl.html#eriIsEliminand"><span class="hs-identifier hs-var">eriIsEliminand</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-69"></span><span>  </span><span class="annot"><a href="#local-6989586621680774563"><span class="hs-identifier hs-var">step</span></a></span><span> </span><span id="local-6989586621680774546"><span class="annot"><span class="annottext">ExpRefInfo o
</span><a href="#local-6989586621680774546"><span class="hs-identifier hs-var">eri</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Auto.Syntax.html#RIUsedVars"><span class="hs-identifier hs-type">RIUsedVars</span></a></span><span> </span><span id="local-6989586621680774544"><span class="annot"><span class="annottext">[UId o]
</span><a href="#local-6989586621680774544"><span class="hs-identifier hs-var">nuids</span></a></span></span><span> </span><span id="local-6989586621680774543"><span class="annot"><span class="annottext">[Elr o]
</span><a href="#local-6989586621680774543"><span class="hs-identifier hs-var">nused</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ExpRefInfo o
</span><a href="#local-6989586621680774546"><span class="hs-identifier hs-var">eri</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">eriUsedVars :: Maybe ([UId o], [Elr o])
</span><a href="Agda.Auto.SearchControl.html#eriUsedVars"><span class="hs-identifier hs-var">eriUsedVars</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([UId o], [Elr o]) -&gt; Maybe ([UId o], [Elr o])
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[UId o]
</span><a href="#local-6989586621680774544"><span class="hs-identifier hs-var">nuids</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Elr o]
</span><a href="#local-6989586621680774543"><span class="hs-identifier hs-var">nused</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-70"></span><span>  </span><span class="annot"><a href="#local-6989586621680774563"><span class="hs-identifier hs-var">step</span></a></span><span> </span><span id="local-6989586621680774542"><span class="annot"><span class="annottext">ExpRefInfo o
</span><a href="#local-6989586621680774542"><span class="hs-identifier hs-var">eri</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Auto.Syntax.html#RIIotaStep"><span class="hs-identifier hs-type">RIIotaStep</span></a></span><span> </span><span id="local-6989586621680774540"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680774540"><span class="hs-identifier hs-var">semif</span></a></span></span><span class="hs-special">)</span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ExpRefInfo o
</span><a href="#local-6989586621680774542"><span class="hs-identifier hs-var">eri</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">eriIotaStep :: Maybe Bool
</span><a href="Agda.Auto.SearchControl.html#eriIotaStep"><span class="hs-identifier hs-var">eriIotaStep</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Maybe Bool
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680774539"><span class="hs-identifier hs-var">iota'</span></a></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-71"></span><span>    </span><span id="local-6989586621680774539"><span class="annot"><span class="annottext">iota' :: Bool
</span><a href="#local-6989586621680774539"><span class="hs-identifier hs-var hs-var">iota'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680774540"><span class="hs-identifier hs-var">semif</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Maybe Bool
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="annot"><span class="annottext">Maybe Bool -&gt; Maybe Bool -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ExpRefInfo o -&gt; Maybe Bool
forall o. ExpRefInfo o -&gt; Maybe Bool
</span><a href="Agda.Auto.SearchControl.html#eriIotaStep"><span class="hs-identifier hs-var">eriIotaStep</span></a></span><span> </span><span class="annot"><span class="annottext">ExpRefInfo o
</span><a href="#local-6989586621680774542"><span class="hs-identifier hs-var">eri</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-72"></span><span>  </span><span class="annot"><a href="#local-6989586621680774563"><span class="hs-identifier hs-var">step</span></a></span><span> </span><span id="local-6989586621680774537"><span class="annot"><span class="annottext">ExpRefInfo o
</span><a href="#local-6989586621680774537"><span class="hs-identifier hs-var">eri</span></a></span></span><span> </span><span class="annot"><span class="annottext">RefInfo o
</span><a href="Agda.Auto.Syntax.html#RIPickSubsvar"><span class="hs-identifier hs-var">RIPickSubsvar</span></a></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ExpRefInfo o
</span><a href="#local-6989586621680774537"><span class="hs-identifier hs-var">eri</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">eriPickSubsVar :: Bool
</span><a href="Agda.Auto.SearchControl.html#eriPickSubsVar"><span class="hs-identifier hs-var">eriPickSubsVar</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-73"></span><span>  </span><span class="annot"><a href="#local-6989586621680774563"><span class="hs-identifier hs-var">step</span></a></span><span> </span><span id="local-6989586621680774535"><span class="annot"><span class="annottext">ExpRefInfo o
</span><a href="#local-6989586621680774535"><span class="hs-identifier hs-var">eri</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Auto.Syntax.html#RIEqRState"><span class="hs-identifier hs-type">RIEqRState</span></a></span><span> </span><span id="local-6989586621680774533"><span class="annot"><span class="annottext">EqReasoningState
</span><a href="#local-6989586621680774533"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ExpRefInfo o
</span><a href="#local-6989586621680774535"><span class="hs-identifier hs-var">eri</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">eriEqRState :: Maybe EqReasoningState
</span><a href="Agda.Auto.SearchControl.html#eriEqRState"><span class="hs-identifier hs-var">eriEqRState</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">EqReasoningState -&gt; Maybe EqReasoningState
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">EqReasoningState
</span><a href="#local-6989586621680774533"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-74"></span><span>  </span><span class="annot"><a href="#local-6989586621680774563"><span class="hs-identifier hs-var">step</span></a></span><span> </span><span id="local-6989586621680774532"><span class="annot"><span class="annottext">ExpRefInfo o
</span><a href="#local-6989586621680774532"><span class="hs-identifier hs-var">eri</span></a></span></span><span> </span><span class="annot"><span class="annottext">RefInfo o
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ExpRefInfo o
forall a. HasCallStack =&gt; a
</span><a href="Agda.Utils.Impossible.html#__IMPOSSIBLE__"><span class="hs-identifier hs-var">__IMPOSSIBLE__</span></a></span><span>
</span><span id="line-75"></span><span>
</span><span id="line-76"></span><span>
</span><span id="line-77"></span><span class="hs-comment">-- | @univar sub v@ figures out what the name of @v@ &quot;outside&quot; of</span><span>
</span><span id="line-78"></span><span class="hs-comment">--   the substitution @sub@ ought to be, if anything.</span><span>
</span><span id="line-79"></span><span>
</span><span id="line-80"></span><span id="local-6989586621680774819"><span class="annot"><a href="Agda.Auto.SearchControl.html#univar"><span class="hs-identifier hs-type">univar</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Agda.Auto.Syntax.html#CAction"><span class="hs-identifier hs-type">CAction</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774819"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Auto.Syntax.html#Nat"><span class="hs-identifier hs-type">Nat</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Agda.Auto.Syntax.html#Nat"><span class="hs-identifier hs-type">Nat</span></a></span></span><span>
</span><span id="line-81"></span><span id="univar"><span class="annot"><span class="annottext">univar :: forall o. [CAction o] -&gt; Nat -&gt; Maybe Nat
</span><a href="Agda.Auto.SearchControl.html#univar"><span class="hs-identifier hs-var hs-var">univar</span></a></span></span><span> </span><span id="local-6989586621680774530"><span class="annot"><span class="annottext">[CAction o]
</span><a href="#local-6989586621680774530"><span class="hs-identifier hs-var">cl</span></a></span></span><span> </span><span id="local-6989586621680774529"><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774529"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[CAction o] -&gt; Nat -&gt; Nat -&gt; Maybe Nat
forall o. [CAction o] -&gt; Nat -&gt; Nat -&gt; Maybe Nat
</span><a href="#local-6989586621680774528"><span class="hs-identifier hs-var">getOutsideName</span></a></span><span> </span><span class="annot"><span class="annottext">[CAction o]
</span><a href="#local-6989586621680774530"><span class="hs-identifier hs-var">cl</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774529"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">0</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-82"></span><span>
</span><span id="line-83"></span><span>  </span><span id="local-6989586621680774815"><span class="annot"><a href="#local-6989586621680774528"><span class="hs-identifier hs-type">getOutsideName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Agda.Auto.Syntax.html#CAction"><span class="hs-identifier hs-type">CAction</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774815"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Auto.Syntax.html#Nat"><span class="hs-identifier hs-type">Nat</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Auto.Syntax.html#Nat"><span class="hs-identifier hs-type">Nat</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Agda.Auto.Syntax.html#Nat"><span class="hs-identifier hs-type">Nat</span></a></span></span><span>
</span><span id="line-84"></span><span>  </span><span class="hs-comment">-- @v@ is offset by @v'@ binders</span><span>
</span><span id="line-85"></span><span>  </span><span id="local-6989586621680774528"><span class="annot"><span class="annottext">getOutsideName :: forall o. [CAction o] -&gt; Nat -&gt; Nat -&gt; Maybe Nat
</span><a href="#local-6989586621680774528"><span class="hs-identifier hs-var hs-var">getOutsideName</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>            </span><span id="local-6989586621680774513"><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774513"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621680774512"><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774512"><span class="hs-identifier hs-var">v'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Maybe Nat
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774512"><span class="hs-identifier hs-var">v'</span></a></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Nat -&gt; Nat
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774513"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-86"></span><span>  </span><span class="hs-comment">-- @v@ was introduced by the weakening: disappears</span><span>
</span><span id="line-87"></span><span>  </span><span class="annot"><a href="#local-6989586621680774528"><span class="hs-identifier hs-var">getOutsideName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Auto.Syntax.html#Weak"><span class="hs-identifier hs-type">Weak</span></a></span><span> </span><span id="local-6989586621680774509"><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774509"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><span class="annottext">[CAction o]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>  </span><span id="local-6989586621680774508"><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774508"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621680774507"><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774507"><span class="hs-identifier hs-var">v'</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774508"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Nat -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774509"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Nat
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-88"></span><span>  </span><span class="hs-comment">-- @v@ was introduced before the weakening: strengthened</span><span>
</span><span id="line-89"></span><span>  </span><span class="annot"><a href="#local-6989586621680774528"><span class="hs-identifier hs-var">getOutsideName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Auto.Syntax.html#Weak"><span class="hs-identifier hs-type">Weak</span></a></span><span> </span><span id="local-6989586621680774505"><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774505"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621680774504"><span class="annot"><span class="annottext">[CAction o]
</span><a href="#local-6989586621680774504"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680774503"><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774503"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621680774502"><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774502"><span class="hs-identifier hs-var">v'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[CAction o] -&gt; Nat -&gt; Nat -&gt; Maybe Nat
forall o. [CAction o] -&gt; Nat -&gt; Nat -&gt; Maybe Nat
</span><a href="#local-6989586621680774528"><span class="hs-identifier hs-var">getOutsideName</span></a></span><span> </span><span class="annot"><span class="annottext">[CAction o]
</span><a href="#local-6989586621680774504"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774503"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Nat -&gt; Nat
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774505"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774502"><span class="hs-identifier hs-var">v'</span></a></span><span>
</span><span id="line-90"></span><span>  </span><span class="hs-comment">-- Name of @v@ before the substitution was pushed in</span><span>
</span><span id="line-91"></span><span>  </span><span class="hs-comment">-- had to be offset by 1</span><span>
</span><span id="line-92"></span><span>  </span><span class="annot"><a href="#local-6989586621680774528"><span class="hs-identifier hs-var">getOutsideName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Auto.Syntax.html#Sub"><span class="hs-identifier hs-type">Sub</span></a></span><span> </span><span class="annot"><span class="annottext">ICExp o
</span><span class="hs-identifier">_</span></span><span>  </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621680774500"><span class="annot"><span class="annottext">[CAction o]
</span><a href="#local-6989586621680774500"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680774499"><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774499"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621680774498"><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774498"><span class="hs-identifier hs-var">v'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[CAction o] -&gt; Nat -&gt; Nat -&gt; Maybe Nat
forall o. [CAction o] -&gt; Nat -&gt; Nat -&gt; Maybe Nat
</span><a href="#local-6989586621680774528"><span class="hs-identifier hs-var">getOutsideName</span></a></span><span> </span><span class="annot"><span class="annottext">[CAction o]
</span><a href="#local-6989586621680774500"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774499"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774498"><span class="hs-identifier hs-var">v'</span></a></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Nat -&gt; Nat
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-93"></span><span>  </span><span class="hs-comment">-- If this is the place where @v@ was bound, it used to</span><span>
</span><span id="line-94"></span><span>  </span><span class="hs-comment">-- be called 0 + offset of all the vars substituted for</span><span>
</span><span id="line-95"></span><span>  </span><span class="annot"><a href="#local-6989586621680774528"><span class="hs-identifier hs-var">getOutsideName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CAction o
</span><a href="Agda.Auto.Syntax.html#Skip"><span class="hs-identifier hs-var">Skip</span></a></span><span>   </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><span class="annottext">[CAction o]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>  </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">0</span></span><span> </span><span id="local-6989586621680774496"><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774496"><span class="hs-identifier hs-var">v'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Maybe Nat
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774496"><span class="hs-identifier hs-var">v'</span></a></span><span>
</span><span id="line-96"></span><span>  </span><span class="hs-comment">-- Going over a binder: de Bruijn name of @v@ decreased</span><span>
</span><span id="line-97"></span><span>  </span><span class="hs-comment">-- but offset increased</span><span>
</span><span id="line-98"></span><span>  </span><span class="annot"><a href="#local-6989586621680774528"><span class="hs-identifier hs-var">getOutsideName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CAction o
</span><a href="Agda.Auto.Syntax.html#Skip"><span class="hs-identifier hs-var">Skip</span></a></span><span>   </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621680774495"><span class="annot"><span class="annottext">[CAction o]
</span><a href="#local-6989586621680774495"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680774494"><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774494"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621680774493"><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774493"><span class="hs-identifier hs-var">v'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[CAction o] -&gt; Nat -&gt; Nat -&gt; Maybe Nat
forall o. [CAction o] -&gt; Nat -&gt; Nat -&gt; Maybe Nat
</span><a href="#local-6989586621680774528"><span class="hs-identifier hs-var">getOutsideName</span></a></span><span> </span><span class="annot"><span class="annottext">[CAction o]
</span><a href="#local-6989586621680774495"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774494"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Nat -&gt; Nat
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774493"><span class="hs-identifier hs-var">v'</span></a></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Nat -&gt; Nat
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-99"></span><span>
</span><span id="line-100"></span><span class="hs-comment">-- | List of the variables instantiated by the substitution</span><span>
</span><span id="line-101"></span><span id="local-6989586621680774810"><span class="annot"><a href="Agda.Auto.SearchControl.html#subsvars"><span class="hs-identifier hs-type">subsvars</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Agda.Auto.Syntax.html#CAction"><span class="hs-identifier hs-type">CAction</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774810"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Agda.Auto.Syntax.html#Nat"><span class="hs-identifier hs-type">Nat</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-102"></span><span id="subsvars"><span class="annot"><span class="annottext">subsvars :: forall o. [CAction o] -&gt; [Nat]
</span><a href="Agda.Auto.SearchControl.html#subsvars"><span class="hs-identifier hs-var hs-var">subsvars</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Nat -&gt; [CAction o] -&gt; [Nat]
forall o. Nat -&gt; [CAction o] -&gt; [Nat]
</span><a href="#local-6989586621680774491"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">0</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-103"></span><span>
</span><span id="line-104"></span><span>  </span><span id="local-6989586621680774808"><span class="annot"><a href="#local-6989586621680774491"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Auto.Syntax.html#Nat"><span class="hs-identifier hs-type">Nat</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Agda.Auto.Syntax.html#CAction"><span class="hs-identifier hs-type">CAction</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774808"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Agda.Auto.Syntax.html#Nat"><span class="hs-identifier hs-type">Nat</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-105"></span><span>  </span><span id="local-6989586621680774491"><span class="annot"><span class="annottext">f :: forall o. Nat -&gt; [CAction o] -&gt; [Nat]
</span><a href="#local-6989586621680774491"><span class="hs-identifier hs-var hs-var">f</span></a></span></span><span> </span><span id="local-6989586621680774486"><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774486"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-106"></span><span>  </span><span class="annot"><a href="#local-6989586621680774491"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span id="local-6989586621680774485"><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774485"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Auto.Syntax.html#Weak"><span class="hs-identifier hs-type">Weak</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621680774484"><span class="annot"><span class="annottext">[CAction o]
</span><a href="#local-6989586621680774484"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Nat -&gt; [CAction o] -&gt; [Nat]
forall o. Nat -&gt; [CAction o] -&gt; [Nat]
</span><a href="#local-6989586621680774491"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774485"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">[CAction o]
</span><a href="#local-6989586621680774484"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="hs-comment">-- why?</span><span>
</span><span id="line-107"></span><span>  </span><span class="annot"><a href="#local-6989586621680774491"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span id="local-6989586621680774483"><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774483"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Auto.Syntax.html#Sub"><span class="hs-identifier hs-type">Sub</span></a></span><span> </span><span class="annot"><span class="annottext">ICExp o
</span><span class="hs-identifier">_</span></span><span>  </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621680774482"><span class="annot"><span class="annottext">[CAction o]
</span><a href="#local-6989586621680774482"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774483"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; [Nat] -&gt; [Nat]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; [CAction o] -&gt; [Nat]
forall o. Nat -&gt; [CAction o] -&gt; [Nat]
</span><a href="#local-6989586621680774491"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774483"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Nat -&gt; Nat
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[CAction o]
</span><a href="#local-6989586621680774482"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-108"></span><span>  </span><span class="annot"><a href="#local-6989586621680774491"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span id="local-6989586621680774481"><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774481"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CAction o
</span><a href="Agda.Auto.Syntax.html#Skip"><span class="hs-identifier hs-var">Skip</span></a></span><span>   </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621680774480"><span class="annot"><span class="annottext">[CAction o]
</span><a href="#local-6989586621680774480"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Nat -&gt; [CAction o] -&gt; [Nat]
forall o. Nat -&gt; [CAction o] -&gt; [Nat]
</span><a href="#local-6989586621680774491"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774481"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Nat -&gt; Nat
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[CAction o]
</span><a href="#local-6989586621680774480"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-109"></span><span>
</span><span id="line-110"></span><span class="hs-comment">-- | Moves</span><span>
</span><span id="line-111"></span><span class="hs-comment">--   A move is composed of a @Cost@ together with an action</span><span>
</span><span id="line-112"></span><span class="hs-comment">--   computing the refined problem.</span><span>
</span><span id="line-113"></span><span>
</span><span id="line-114"></span><span class="hs-keyword">type</span><span> </span><span id="Move"><span class="annot"><a href="Agda.Auto.SearchControl.html#Move"><span class="hs-identifier hs-var">Move</span></a></span></span><span> </span><span id="local-6989586621680774479"><span class="annot"><a href="#local-6989586621680774479"><span class="hs-identifier hs-type">o</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Agda.Auto.NarrowingSearch.html#Move%27"><span class="hs-identifier hs-type">Move'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Auto.Syntax.html#RefInfo"><span class="hs-identifier hs-type">RefInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774479"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Auto.Syntax.html#Exp"><span class="hs-identifier hs-type">Exp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774479"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-115"></span><span>
</span><span id="line-116"></span><span class="hs-comment">-- | New constructors</span><span>
</span><span id="line-117"></span><span class="hs-comment">--   Taking a step towards a solution consists in picking a</span><span>
</span><span id="line-118"></span><span class="hs-comment">--   constructor and filling in the missing parts with</span><span>
</span><span id="line-119"></span><span class="hs-comment">--   placeholders to be discharged later on.</span><span>
</span><span id="line-120"></span><span>
</span><span id="line-121"></span><span id="local-6989586621680774804"><span id="local-6989586621680774805"><span class="annot"><a href="Agda.Auto.SearchControl.html#newAbs"><span class="hs-identifier hs-type">newAbs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Auto.Syntax.html#MId"><span class="hs-identifier hs-type">MId</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Auto.NarrowingSearch.html#RefCreateEnv"><span class="hs-identifier hs-type">RefCreateEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774805"><span class="hs-identifier hs-type">blk</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Auto.Syntax.html#Abs"><span class="hs-identifier hs-type">Abs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Auto.NarrowingSearch.html#MM"><span class="hs-identifier hs-type">MM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774804"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774805"><span class="hs-identifier hs-type">blk</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-122"></span><span id="newAbs"><span class="annot"><span class="annottext">newAbs :: forall blk a. MId -&gt; RefCreateEnv blk (Abs (MM a blk))
</span><a href="Agda.Auto.SearchControl.html#newAbs"><span class="hs-identifier hs-var hs-var">newAbs</span></a></span></span><span> </span><span id="local-6989586621680774476"><span class="annot"><span class="annottext">MId
</span><a href="#local-6989586621680774476"><span class="hs-identifier hs-var">mid</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MId -&gt; MM a blk -&gt; Abs (MM a blk)
forall a. MId -&gt; a -&gt; Abs a
</span><a href="Agda.Auto.Syntax.html#Abs"><span class="hs-identifier hs-var">Abs</span></a></span><span> </span><span class="annot"><span class="annottext">MId
</span><a href="#local-6989586621680774476"><span class="hs-identifier hs-var">mid</span></a></span><span> </span><span class="annot"><span class="annottext">(MM a blk -&gt; Abs (MM a blk))
-&gt; RefCreateEnv blk (MM a blk) -&gt; RefCreateEnv blk (Abs (MM a blk))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">RefCreateEnv blk (MM a blk)
forall blk a. RefCreateEnv blk (MM a blk)
</span><a href="Agda.Auto.NarrowingSearch.html#newPlaceholder"><span class="hs-identifier hs-var">newPlaceholder</span></a></span><span>
</span><span id="line-123"></span><span>
</span><span id="line-124"></span><span id="local-6989586621680774799"><span class="annot"><a href="Agda.Auto.SearchControl.html#newLam"><span class="hs-identifier hs-type">newLam</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Common.html#Hiding"><span class="hs-identifier hs-type">Hiding</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Auto.Syntax.html#MId"><span class="hs-identifier hs-type">MId</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Auto.NarrowingSearch.html#RefCreateEnv"><span class="hs-identifier hs-type">RefCreateEnv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Auto.Syntax.html#RefInfo"><span class="hs-identifier hs-type">RefInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774799"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Auto.Syntax.html#Exp"><span class="hs-identifier hs-type">Exp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774799"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-125"></span><span id="newLam"><span class="annot"><span class="annottext">newLam :: forall o. Hiding -&gt; MId -&gt; RefCreateEnv (RefInfo o) (Exp o)
</span><a href="Agda.Auto.SearchControl.html#newLam"><span class="hs-identifier hs-var hs-var">newLam</span></a></span></span><span> </span><span id="local-6989586621680774472"><span class="annot"><span class="annottext">Hiding
</span><a href="#local-6989586621680774472"><span class="hs-identifier hs-var">hid</span></a></span></span><span> </span><span id="local-6989586621680774471"><span class="annot"><span class="annottext">MId
</span><a href="#local-6989586621680774471"><span class="hs-identifier hs-var">mid</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Hiding -&gt; Abs (MExp o) -&gt; Exp o
forall o. Hiding -&gt; Abs (MExp o) -&gt; Exp o
</span><a href="Agda.Auto.Syntax.html#Lam"><span class="hs-identifier hs-var">Lam</span></a></span><span> </span><span class="annot"><span class="annottext">Hiding
</span><a href="#local-6989586621680774472"><span class="hs-identifier hs-var">hid</span></a></span><span> </span><span class="annot"><span class="annottext">(Abs (MExp o) -&gt; Exp o)
-&gt; RefCreateEnv (RefInfo o) (Abs (MExp o))
-&gt; RefCreateEnv (RefInfo o) (Exp o)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">MId -&gt; RefCreateEnv (RefInfo o) (Abs (MExp o))
forall blk a. MId -&gt; RefCreateEnv blk (Abs (MM a blk))
</span><a href="Agda.Auto.SearchControl.html#newAbs"><span class="hs-identifier hs-var">newAbs</span></a></span><span> </span><span class="annot"><span class="annottext">MId
</span><a href="#local-6989586621680774471"><span class="hs-identifier hs-var">mid</span></a></span><span>
</span><span id="line-126"></span><span>
</span><span id="line-127"></span><span id="local-6989586621680774795"><span class="annot"><a href="Agda.Auto.SearchControl.html#newPi"><span class="hs-identifier hs-type">newPi</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Auto.Syntax.html#UId"><span class="hs-identifier hs-type">UId</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774795"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Common.html#Hiding"><span class="hs-identifier hs-type">Hiding</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Auto.NarrowingSearch.html#RefCreateEnv"><span class="hs-identifier hs-type">RefCreateEnv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Auto.Syntax.html#RefInfo"><span class="hs-identifier hs-type">RefInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774795"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Auto.Syntax.html#Exp"><span class="hs-identifier hs-type">Exp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774795"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-128"></span><span id="newPi"><span class="annot"><span class="annottext">newPi :: forall o.
UId o -&gt; Bool -&gt; Hiding -&gt; RefCreateEnv (RefInfo o) (Exp o)
</span><a href="Agda.Auto.SearchControl.html#newPi"><span class="hs-identifier hs-var hs-var">newPi</span></a></span></span><span> </span><span id="local-6989586621680774466"><span class="annot"><span class="annottext">UId o
</span><a href="#local-6989586621680774466"><span class="hs-identifier hs-var">uid</span></a></span></span><span> </span><span id="local-6989586621680774465"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680774465"><span class="hs-identifier hs-var">dep</span></a></span></span><span> </span><span id="local-6989586621680774464"><span class="annot"><span class="annottext">Hiding
</span><a href="#local-6989586621680774464"><span class="hs-identifier hs-var">hid</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (UId o) -&gt; Hiding -&gt; Bool -&gt; MExp o -&gt; Abs (MExp o) -&gt; Exp o
forall o.
Maybe (UId o) -&gt; Hiding -&gt; Bool -&gt; MExp o -&gt; Abs (MExp o) -&gt; Exp o
</span><a href="Agda.Auto.Syntax.html#Pi"><span class="hs-identifier hs-var">Pi</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UId o -&gt; Maybe (UId o)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">UId o
</span><a href="#local-6989586621680774466"><span class="hs-identifier hs-var">uid</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Hiding
</span><a href="#local-6989586621680774464"><span class="hs-identifier hs-var">hid</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680774465"><span class="hs-identifier hs-var">dep</span></a></span><span> </span><span class="annot"><span class="annottext">(MExp o -&gt; Abs (MExp o) -&gt; Exp o)
-&gt; RefCreateEnv (RefInfo o) (MExp o)
-&gt; RefCreateEnv (RefInfo o) (Abs (MExp o) -&gt; Exp o)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">RefCreateEnv (RefInfo o) (MExp o)
forall blk a. RefCreateEnv blk (MM a blk)
</span><a href="Agda.Auto.NarrowingSearch.html#newPlaceholder"><span class="hs-identifier hs-var">newPlaceholder</span></a></span><span> </span><span class="annot"><span class="annottext">RefCreateEnv (RefInfo o) (Abs (MExp o) -&gt; Exp o)
-&gt; RefCreateEnv (RefInfo o) (Abs (MExp o))
-&gt; RefCreateEnv (RefInfo o) (Exp o)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">MId -&gt; RefCreateEnv (RefInfo o) (Abs (MExp o))
forall blk a. MId -&gt; RefCreateEnv blk (Abs (MM a blk))
</span><a href="Agda.Auto.SearchControl.html#newAbs"><span class="hs-identifier hs-var">newAbs</span></a></span><span> </span><span class="annot"><span class="annottext">MId
</span><a href="Agda.Auto.Syntax.html#NoId"><span class="hs-identifier hs-var">NoId</span></a></span><span>
</span><span id="line-129"></span><span>
</span><span id="line-130"></span><span id="local-6989586621680774793"><span class="annot"><a href="Agda.Auto.SearchControl.html#foldArgs"><span class="hs-identifier hs-type">foldArgs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Common.html#Hiding"><span class="hs-identifier hs-type">Hiding</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Auto.Syntax.html#MExp"><span class="hs-identifier hs-type">MExp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774793"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Auto.Syntax.html#MArgList"><span class="hs-identifier hs-type">MArgList</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774793"><span class="hs-identifier hs-type">o</span></a></span></span><span>
</span><span id="line-131"></span><span id="foldArgs"><span class="annot"><span class="annottext">foldArgs :: forall o. [(Hiding, MExp o)] -&gt; MArgList o
</span><a href="Agda.Auto.SearchControl.html#foldArgs"><span class="hs-identifier hs-var hs-var">foldArgs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((Hiding, MExp o) -&gt; MArgList o -&gt; MArgList o)
-&gt; MArgList o -&gt; [(Hiding, MExp o)] -&gt; MArgList o
forall (t :: * -&gt; *) a b.
Foldable t =&gt;
(a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldr</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680774458"><span class="annot"><span class="annottext">Hiding
</span><a href="#local-6989586621680774458"><span class="hs-identifier hs-var">h</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680774457"><span class="annot"><span class="annottext">MExp o
</span><a href="#local-6989586621680774457"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680774456"><span class="annot"><span class="annottext">MArgList o
</span><a href="#local-6989586621680774456"><span class="hs-identifier hs-var">sp</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ArgList o -&gt; MArgList o
forall a blk. a -&gt; MM a blk
</span><a href="Agda.Auto.NarrowingSearch.html#NotM"><span class="hs-identifier hs-var">NotM</span></a></span><span> </span><span class="annot"><span class="annottext">(ArgList o -&gt; MArgList o) -&gt; ArgList o -&gt; MArgList o
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Hiding -&gt; MExp o -&gt; MArgList o -&gt; ArgList o
forall o. Hiding -&gt; MExp o -&gt; MArgList o -&gt; ArgList o
</span><a href="Agda.Auto.Syntax.html#ALCons"><span class="hs-identifier hs-var">ALCons</span></a></span><span> </span><span class="annot"><span class="annottext">Hiding
</span><a href="#local-6989586621680774458"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="annot"><span class="annottext">MExp o
</span><a href="#local-6989586621680774457"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">MArgList o
</span><a href="#local-6989586621680774456"><span class="hs-identifier hs-var">sp</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ArgList o -&gt; MArgList o
forall a blk. a -&gt; MM a blk
</span><a href="Agda.Auto.NarrowingSearch.html#NotM"><span class="hs-identifier hs-var">NotM</span></a></span><span> </span><span class="annot"><span class="annottext">ArgList o
forall o. ArgList o
</span><a href="Agda.Auto.Syntax.html#ALNil"><span class="hs-identifier hs-var">ALNil</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-132"></span><span>
</span><span id="line-133"></span><span class="hs-comment">-- | New spine of arguments potentially using placeholders</span><span>
</span><span id="line-134"></span><span>
</span><span id="line-135"></span><span id="local-6989586621680774787"><span class="annot"><a href="Agda.Auto.SearchControl.html#newArgs%27"><span class="hs-identifier hs-type">newArgs'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Agda.Syntax.Common.html#Hiding"><span class="hs-identifier hs-type">Hiding</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Agda.Auto.Syntax.html#MExp"><span class="hs-identifier hs-type">MExp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774787"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Auto.NarrowingSearch.html#RefCreateEnv"><span class="hs-identifier hs-type">RefCreateEnv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Auto.Syntax.html#RefInfo"><span class="hs-identifier hs-type">RefInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774787"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Auto.Syntax.html#MArgList"><span class="hs-identifier hs-type">MArgList</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774787"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-136"></span><span id="newArgs%27"><span class="annot"><span class="annottext">newArgs' :: forall o.
[Hiding] -&gt; [MExp o] -&gt; RefCreateEnv (RefInfo o) (MArgList o)
</span><a href="Agda.Auto.SearchControl.html#newArgs%27"><span class="hs-identifier hs-var hs-var">newArgs'</span></a></span></span><span> </span><span id="local-6989586621680774448"><span class="annot"><span class="annottext">[Hiding]
</span><a href="#local-6989586621680774448"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span id="local-6989586621680774447"><span class="annot"><span class="annottext">[MExp o]
</span><a href="#local-6989586621680774447"><span class="hs-identifier hs-var">tms</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Hiding, MExp o)] -&gt; MArgList o
forall o. [(Hiding, MExp o)] -&gt; MArgList o
</span><a href="Agda.Auto.SearchControl.html#foldArgs"><span class="hs-identifier hs-var">foldArgs</span></a></span><span> </span><span class="annot"><span class="annottext">([(Hiding, MExp o)] -&gt; MArgList o)
-&gt; ([MExp o] -&gt; [(Hiding, MExp o)]) -&gt; [MExp o] -&gt; MArgList o
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">[Hiding] -&gt; [MExp o] -&gt; [(Hiding, MExp o)]
forall a b. [a] -&gt; [b] -&gt; [(a, b)]
</span><span class="hs-identifier hs-var">zip</span></span><span> </span><span class="annot"><span class="annottext">[Hiding]
</span><a href="#local-6989586621680774448"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="annot"><span class="annottext">([MExp o] -&gt; [(Hiding, MExp o)])
-&gt; ([MExp o] -&gt; [MExp o]) -&gt; [MExp o] -&gt; [(Hiding, MExp o)]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[MExp o] -&gt; [MExp o] -&gt; [MExp o]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[MExp o]
</span><a href="#local-6989586621680774447"><span class="hs-identifier hs-var">tms</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([MExp o] -&gt; MArgList o)
-&gt; RefCreateEnv (RefInfo o) [MExp o]
-&gt; RefCreateEnv (RefInfo o) (MArgList o)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Nat
-&gt; RefCreateEnv (RefInfo o) (MExp o)
-&gt; RefCreateEnv (RefInfo o) [MExp o]
forall (m :: * -&gt; *) a. Applicative m =&gt; Nat -&gt; m a -&gt; m [a]
</span><span class="hs-identifier hs-var">replicateM</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774444"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">RefCreateEnv (RefInfo o) (MExp o)
forall blk a. RefCreateEnv blk (MM a blk)
</span><a href="Agda.Auto.NarrowingSearch.html#newPlaceholder"><span class="hs-identifier hs-var">newPlaceholder</span></a></span><span>
</span><span id="line-137"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621680774444"><span class="annot"><span class="annottext">size :: Nat
</span><a href="#local-6989586621680774444"><span class="hs-identifier hs-var hs-var">size</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Hiding] -&gt; Nat
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Nat
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[Hiding]
</span><a href="#local-6989586621680774448"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Nat -&gt; Nat
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">[MExp o] -&gt; Nat
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Nat
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[MExp o]
</span><a href="#local-6989586621680774447"><span class="hs-identifier hs-var">tms</span></a></span><span>
</span><span id="line-138"></span><span>
</span><span id="line-139"></span><span id="local-6989586621680774777"><span class="annot"><a href="Agda.Auto.SearchControl.html#newArgs"><span class="hs-identifier hs-type">newArgs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Agda.Syntax.Common.html#Hiding"><span class="hs-identifier hs-type">Hiding</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Auto.NarrowingSearch.html#RefCreateEnv"><span class="hs-identifier hs-type">RefCreateEnv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Auto.Syntax.html#RefInfo"><span class="hs-identifier hs-type">RefInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774777"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Auto.Syntax.html#MArgList"><span class="hs-identifier hs-type">MArgList</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774777"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-140"></span><span id="newArgs"><span class="annot"><span class="annottext">newArgs :: forall o. [Hiding] -&gt; RefCreateEnv (RefInfo o) (MArgList o)
</span><a href="Agda.Auto.SearchControl.html#newArgs"><span class="hs-identifier hs-var hs-var">newArgs</span></a></span></span><span> </span><span id="local-6989586621680774441"><span class="annot"><span class="annottext">[Hiding]
</span><a href="#local-6989586621680774441"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Hiding] -&gt; [MExp o] -&gt; RefCreateEnv (RefInfo o) (MArgList o)
forall o.
[Hiding] -&gt; [MExp o] -&gt; RefCreateEnv (RefInfo o) (MArgList o)
</span><a href="Agda.Auto.SearchControl.html#newArgs%27"><span class="hs-identifier hs-var">newArgs'</span></a></span><span> </span><span class="annot"><span class="annottext">[Hiding]
</span><a href="#local-6989586621680774441"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-141"></span><span>
</span><span id="line-142"></span><span class="hs-comment">-- | New @App@lication node using a new spine of arguments</span><span>
</span><span id="line-143"></span><span class="hs-comment">--   respecting the @Hiding@ annotation</span><span>
</span><span id="line-144"></span><span>
</span><span id="line-145"></span><span id="local-6989586621680774775"><span class="annot"><a href="Agda.Auto.SearchControl.html#newApp%27"><span class="hs-identifier hs-type">newApp'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Auto.Syntax.html#UId"><span class="hs-identifier hs-type">UId</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774775"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Auto.Syntax.html#ConstRef"><span class="hs-identifier hs-type">ConstRef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774775"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Agda.Syntax.Common.html#Hiding"><span class="hs-identifier hs-type">Hiding</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Agda.Auto.Syntax.html#MExp"><span class="hs-identifier hs-type">MExp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774775"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-146"></span><span>           </span><span class="annot"><a href="Agda.Auto.NarrowingSearch.html#RefCreateEnv"><span class="hs-identifier hs-type">RefCreateEnv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Auto.Syntax.html#RefInfo"><span class="hs-identifier hs-type">RefInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774775"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Auto.Syntax.html#Exp"><span class="hs-identifier hs-type">Exp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774775"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-147"></span><span id="newApp%27"><span class="annot"><span class="annottext">newApp' :: forall o.
UId o
-&gt; ConstRef o
-&gt; [Hiding]
-&gt; [MExp o]
-&gt; RefCreateEnv (RefInfo o) (Exp o)
</span><a href="Agda.Auto.SearchControl.html#newApp%27"><span class="hs-identifier hs-var hs-var">newApp'</span></a></span></span><span> </span><span id="local-6989586621680774435"><span class="annot"><span class="annottext">UId o
</span><a href="#local-6989586621680774435"><span class="hs-identifier hs-var">meta</span></a></span></span><span> </span><span id="local-6989586621680774434"><span class="annot"><span class="annottext">ConstRef o
</span><a href="#local-6989586621680774434"><span class="hs-identifier hs-var">cst</span></a></span></span><span> </span><span id="local-6989586621680774433"><span class="annot"><span class="annottext">[Hiding]
</span><a href="#local-6989586621680774433"><span class="hs-identifier hs-var">hds</span></a></span></span><span> </span><span id="local-6989586621680774432"><span class="annot"><span class="annottext">[MExp o]
</span><a href="#local-6989586621680774432"><span class="hs-identifier hs-var">tms</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-148"></span><span>  </span><span class="annot"><span class="annottext">Maybe (UId o)
-&gt; OKHandle (RefInfo o) -&gt; Elr o -&gt; MArgList o -&gt; Exp o
forall o.
Maybe (UId o)
-&gt; OKHandle (RefInfo o) -&gt; Elr o -&gt; MArgList o -&gt; Exp o
</span><a href="Agda.Auto.Syntax.html#App"><span class="hs-identifier hs-var">App</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UId o -&gt; Maybe (UId o)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">UId o
</span><a href="#local-6989586621680774435"><span class="hs-identifier hs-var">meta</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(OKHandle (RefInfo o) -&gt; Elr o -&gt; MArgList o -&gt; Exp o)
-&gt; RefCreateEnv (RefInfo o) (OKHandle (RefInfo o))
-&gt; RefCreateEnv (RefInfo o) (Elr o -&gt; MArgList o -&gt; Exp o)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">RefCreateEnv (RefInfo o) (OKHandle (RefInfo o))
forall blk. RefCreateEnv blk (OKHandle blk)
</span><a href="Agda.Auto.NarrowingSearch.html#newOKHandle"><span class="hs-identifier hs-var">newOKHandle</span></a></span><span> </span><span class="annot"><span class="annottext">RefCreateEnv (RefInfo o) (Elr o -&gt; MArgList o -&gt; Exp o)
-&gt; RefCreateEnv (RefInfo o) (Elr o)
-&gt; RefCreateEnv (RefInfo o) (MArgList o -&gt; Exp o)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Elr o -&gt; RefCreateEnv (RefInfo o) (Elr o)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ConstRef o -&gt; Elr o
forall o. ConstRef o -&gt; Elr o
</span><a href="Agda.Auto.Syntax.html#Const"><span class="hs-identifier hs-var">Const</span></a></span><span> </span><span class="annot"><span class="annottext">ConstRef o
</span><a href="#local-6989586621680774434"><span class="hs-identifier hs-var">cst</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">RefCreateEnv (RefInfo o) (MArgList o -&gt; Exp o)
-&gt; RefCreateEnv (RefInfo o) (MArgList o)
-&gt; RefCreateEnv (RefInfo o) (Exp o)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">[Hiding] -&gt; [MExp o] -&gt; RefCreateEnv (RefInfo o) (MArgList o)
forall o.
[Hiding] -&gt; [MExp o] -&gt; RefCreateEnv (RefInfo o) (MArgList o)
</span><a href="Agda.Auto.SearchControl.html#newArgs%27"><span class="hs-identifier hs-var">newArgs'</span></a></span><span> </span><span class="annot"><span class="annottext">[Hiding]
</span><a href="#local-6989586621680774433"><span class="hs-identifier hs-var">hds</span></a></span><span> </span><span class="annot"><span class="annottext">[MExp o]
</span><a href="#local-6989586621680774432"><span class="hs-identifier hs-var">tms</span></a></span><span>
</span><span id="line-149"></span><span>
</span><span id="line-150"></span><span id="local-6989586621680774770"><span class="annot"><a href="Agda.Auto.SearchControl.html#newApp"><span class="hs-identifier hs-type">newApp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Auto.Syntax.html#UId"><span class="hs-identifier hs-type">UId</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774770"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Auto.Syntax.html#ConstRef"><span class="hs-identifier hs-type">ConstRef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774770"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Agda.Syntax.Common.html#Hiding"><span class="hs-identifier hs-type">Hiding</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Auto.NarrowingSearch.html#RefCreateEnv"><span class="hs-identifier hs-type">RefCreateEnv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Auto.Syntax.html#RefInfo"><span class="hs-identifier hs-type">RefInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774770"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Auto.Syntax.html#Exp"><span class="hs-identifier hs-type">Exp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774770"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-151"></span><span id="newApp"><span class="annot"><span class="annottext">newApp :: forall o.
UId o -&gt; ConstRef o -&gt; [Hiding] -&gt; RefCreateEnv (RefInfo o) (Exp o)
</span><a href="Agda.Auto.SearchControl.html#newApp"><span class="hs-identifier hs-var hs-var">newApp</span></a></span></span><span> </span><span id="local-6989586621680774427"><span class="annot"><span class="annottext">UId o
</span><a href="#local-6989586621680774427"><span class="hs-identifier hs-var">meta</span></a></span></span><span> </span><span id="local-6989586621680774426"><span class="annot"><span class="annottext">ConstRef o
</span><a href="#local-6989586621680774426"><span class="hs-identifier hs-var">cst</span></a></span></span><span> </span><span id="local-6989586621680774425"><span class="annot"><span class="annottext">[Hiding]
</span><a href="#local-6989586621680774425"><span class="hs-identifier hs-var">hds</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UId o
-&gt; ConstRef o
-&gt; [Hiding]
-&gt; [MExp o]
-&gt; RefCreateEnv (RefInfo o) (Exp o)
forall o.
UId o
-&gt; ConstRef o
-&gt; [Hiding]
-&gt; [MExp o]
-&gt; RefCreateEnv (RefInfo o) (Exp o)
</span><a href="Agda.Auto.SearchControl.html#newApp%27"><span class="hs-identifier hs-var">newApp'</span></a></span><span> </span><span class="annot"><span class="annottext">UId o
</span><a href="#local-6989586621680774427"><span class="hs-identifier hs-var">meta</span></a></span><span> </span><span class="annot"><span class="annottext">ConstRef o
</span><a href="#local-6989586621680774426"><span class="hs-identifier hs-var">cst</span></a></span><span> </span><span class="annot"><span class="annottext">[Hiding]
</span><a href="#local-6989586621680774425"><span class="hs-identifier hs-var">hds</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-152"></span><span>
</span><span id="line-153"></span><span class="hs-comment">-- | Equality reasoning steps</span><span>
</span><span id="line-154"></span><span class="hs-comment">--   The begin token is accompanied by two steps because</span><span>
</span><span id="line-155"></span><span class="hs-comment">--   it does not make sense to have a derivation any shorter</span><span>
</span><span id="line-156"></span><span class="hs-comment">--   than that.</span><span>
</span><span id="line-157"></span><span>
</span><span id="line-158"></span><span id="local-6989586621680774768"><span class="annot"><a href="Agda.Auto.SearchControl.html#eqStep"><span class="hs-identifier hs-type">eqStep</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Auto.Syntax.html#UId"><span class="hs-identifier hs-type">UId</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774768"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Auto.Syntax.html#EqReasoningConsts"><span class="hs-identifier hs-type">EqReasoningConsts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774768"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Auto.SearchControl.html#Move"><span class="hs-identifier hs-type">Move</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774768"><span class="hs-identifier hs-type">o</span></a></span></span><span>
</span><span id="line-159"></span><span id="eqStep"><span class="annot"><span class="annottext">eqStep :: forall o. UId o -&gt; EqReasoningConsts o -&gt; Move o
</span><a href="Agda.Auto.SearchControl.html#eqStep"><span class="hs-identifier hs-var hs-var">eqStep</span></a></span></span><span> </span><span id="local-6989586621680774423"><span class="annot"><span class="annottext">UId o
</span><a href="#local-6989586621680774423"><span class="hs-identifier hs-var">meta</span></a></span></span><span> </span><span id="local-6989586621680774422"><span class="annot"><span class="annottext">EqReasoningConsts o
</span><a href="#local-6989586621680774422"><span class="hs-identifier hs-var">eqrc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Cost
-&gt; RefCreateEnv (RefInfo o) (Exp o) -&gt; Move' (RefInfo o) (Exp o)
forall blk a. Cost -&gt; RefCreateEnv blk a -&gt; Move' blk a
</span><a href="Agda.Auto.NarrowingSearch.html#Move"><span class="hs-identifier hs-var">Move</span></a></span><span> </span><span class="annot"><span class="annottext">Cost
</span><a href="Agda.Auto.SearchControl.html#costEqStep"><span class="hs-identifier hs-var">costEqStep</span></a></span><span> </span><span class="annot"><span class="annottext">(RefCreateEnv (RefInfo o) (Exp o) -&gt; Move' (RefInfo o) (Exp o))
-&gt; RefCreateEnv (RefInfo o) (Exp o) -&gt; Move' (RefInfo o) (Exp o)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">UId o -&gt; ConstRef o -&gt; [Hiding] -&gt; RefCreateEnv (RefInfo o) (Exp o)
forall o.
UId o -&gt; ConstRef o -&gt; [Hiding] -&gt; RefCreateEnv (RefInfo o) (Exp o)
</span><a href="Agda.Auto.SearchControl.html#newApp"><span class="hs-identifier hs-var">newApp</span></a></span><span> </span><span class="annot"><span class="annottext">UId o
</span><a href="#local-6989586621680774423"><span class="hs-identifier hs-var">meta</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EqReasoningConsts o -&gt; ConstRef o
forall o. EqReasoningConsts o -&gt; ConstRef o
</span><a href="Agda.Auto.Syntax.html#eqrcStep"><span class="hs-identifier hs-var">eqrcStep</span></a></span><span> </span><span class="annot"><span class="annottext">EqReasoningConsts o
</span><a href="#local-6989586621680774422"><span class="hs-identifier hs-var">eqrc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-160"></span><span>  </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Hiding
</span><a href="Agda.Syntax.Common.html#Hidden"><span class="hs-identifier hs-var">Hidden</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Hiding
</span><a href="Agda.Syntax.Common.html#Hidden"><span class="hs-identifier hs-var">Hidden</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Hiding
</span><a href="Agda.Syntax.Common.html#NotHidden"><span class="hs-identifier hs-var">NotHidden</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Hiding
</span><a href="Agda.Syntax.Common.html#Hidden"><span class="hs-identifier hs-var">Hidden</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Hiding
</span><a href="Agda.Syntax.Common.html#Hidden"><span class="hs-identifier hs-var">Hidden</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Hiding
</span><a href="Agda.Syntax.Common.html#NotHidden"><span class="hs-identifier hs-var">NotHidden</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Hiding
</span><a href="Agda.Syntax.Common.html#NotHidden"><span class="hs-identifier hs-var">NotHidden</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-161"></span><span>
</span><span id="line-162"></span><span id="local-6989586621680774419"><span class="annot"><a href="Agda.Auto.SearchControl.html#eqEnd"><span class="hs-identifier hs-type">eqEnd</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Auto.Syntax.html#UId"><span class="hs-identifier hs-type">UId</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774419"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Auto.Syntax.html#EqReasoningConsts"><span class="hs-identifier hs-type">EqReasoningConsts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774419"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Auto.SearchControl.html#Move"><span class="hs-identifier hs-type">Move</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774419"><span class="hs-identifier hs-type">o</span></a></span></span><span>
</span><span id="line-163"></span><span id="eqEnd"><span class="annot"><span class="annottext">eqEnd :: forall o. UId o -&gt; EqReasoningConsts o -&gt; Move o
</span><a href="Agda.Auto.SearchControl.html#eqEnd"><span class="hs-identifier hs-var hs-var">eqEnd</span></a></span></span><span> </span><span id="local-6989586621680774417"><span class="annot"><span class="annottext">UId o
</span><a href="#local-6989586621680774417"><span class="hs-identifier hs-var">meta</span></a></span></span><span> </span><span id="local-6989586621680774416"><span class="annot"><span class="annottext">EqReasoningConsts o
</span><a href="#local-6989586621680774416"><span class="hs-identifier hs-var">eqrc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Cost
-&gt; RefCreateEnv (RefInfo o) (Exp o) -&gt; Move' (RefInfo o) (Exp o)
forall blk a. Cost -&gt; RefCreateEnv blk a -&gt; Move' blk a
</span><a href="Agda.Auto.NarrowingSearch.html#Move"><span class="hs-identifier hs-var">Move</span></a></span><span> </span><span class="annot"><span class="annottext">Cost
</span><a href="Agda.Auto.SearchControl.html#costEqEnd"><span class="hs-identifier hs-var">costEqEnd</span></a></span><span> </span><span class="annot"><span class="annottext">(RefCreateEnv (RefInfo o) (Exp o) -&gt; Move' (RefInfo o) (Exp o))
-&gt; RefCreateEnv (RefInfo o) (Exp o) -&gt; Move' (RefInfo o) (Exp o)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">UId o -&gt; ConstRef o -&gt; [Hiding] -&gt; RefCreateEnv (RefInfo o) (Exp o)
forall o.
UId o -&gt; ConstRef o -&gt; [Hiding] -&gt; RefCreateEnv (RefInfo o) (Exp o)
</span><a href="Agda.Auto.SearchControl.html#newApp"><span class="hs-identifier hs-var">newApp</span></a></span><span> </span><span class="annot"><span class="annottext">UId o
</span><a href="#local-6989586621680774417"><span class="hs-identifier hs-var">meta</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EqReasoningConsts o -&gt; ConstRef o
forall o. EqReasoningConsts o -&gt; ConstRef o
</span><a href="Agda.Auto.Syntax.html#eqrcEnd"><span class="hs-identifier hs-var">eqrcEnd</span></a></span><span> </span><span class="annot"><span class="annottext">EqReasoningConsts o
</span><a href="#local-6989586621680774416"><span class="hs-identifier hs-var">eqrc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-164"></span><span>  </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Hiding
</span><a href="Agda.Syntax.Common.html#Hidden"><span class="hs-identifier hs-var">Hidden</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Hiding
</span><a href="Agda.Syntax.Common.html#Hidden"><span class="hs-identifier hs-var">Hidden</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Hiding
</span><a href="Agda.Syntax.Common.html#NotHidden"><span class="hs-identifier hs-var">NotHidden</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-165"></span><span>
</span><span id="line-166"></span><span id="local-6989586621680774413"><span class="annot"><a href="Agda.Auto.SearchControl.html#eqCong"><span class="hs-identifier hs-type">eqCong</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Auto.Syntax.html#UId"><span class="hs-identifier hs-type">UId</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774413"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Auto.Syntax.html#EqReasoningConsts"><span class="hs-identifier hs-type">EqReasoningConsts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774413"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Auto.SearchControl.html#Move"><span class="hs-identifier hs-type">Move</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774413"><span class="hs-identifier hs-type">o</span></a></span></span><span>
</span><span id="line-167"></span><span id="eqCong"><span class="annot"><span class="annottext">eqCong :: forall o. UId o -&gt; EqReasoningConsts o -&gt; Move o
</span><a href="Agda.Auto.SearchControl.html#eqCong"><span class="hs-identifier hs-var hs-var">eqCong</span></a></span></span><span> </span><span id="local-6989586621680774411"><span class="annot"><span class="annottext">UId o
</span><a href="#local-6989586621680774411"><span class="hs-identifier hs-var">meta</span></a></span></span><span> </span><span id="local-6989586621680774410"><span class="annot"><span class="annottext">EqReasoningConsts o
</span><a href="#local-6989586621680774410"><span class="hs-identifier hs-var">eqrc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Cost
-&gt; RefCreateEnv (RefInfo o) (Exp o) -&gt; Move' (RefInfo o) (Exp o)
forall blk a. Cost -&gt; RefCreateEnv blk a -&gt; Move' blk a
</span><a href="Agda.Auto.NarrowingSearch.html#Move"><span class="hs-identifier hs-var">Move</span></a></span><span> </span><span class="annot"><span class="annottext">Cost
</span><a href="Agda.Auto.SearchControl.html#costEqCong"><span class="hs-identifier hs-var">costEqCong</span></a></span><span> </span><span class="annot"><span class="annottext">(RefCreateEnv (RefInfo o) (Exp o) -&gt; Move' (RefInfo o) (Exp o))
-&gt; RefCreateEnv (RefInfo o) (Exp o) -&gt; Move' (RefInfo o) (Exp o)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">UId o -&gt; ConstRef o -&gt; [Hiding] -&gt; RefCreateEnv (RefInfo o) (Exp o)
forall o.
UId o -&gt; ConstRef o -&gt; [Hiding] -&gt; RefCreateEnv (RefInfo o) (Exp o)
</span><a href="Agda.Auto.SearchControl.html#newApp"><span class="hs-identifier hs-var">newApp</span></a></span><span> </span><span class="annot"><span class="annottext">UId o
</span><a href="#local-6989586621680774411"><span class="hs-identifier hs-var">meta</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EqReasoningConsts o -&gt; ConstRef o
forall o. EqReasoningConsts o -&gt; ConstRef o
</span><a href="Agda.Auto.Syntax.html#eqrcCong"><span class="hs-identifier hs-var">eqrcCong</span></a></span><span> </span><span class="annot"><span class="annottext">EqReasoningConsts o
</span><a href="#local-6989586621680774410"><span class="hs-identifier hs-var">eqrc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-168"></span><span>  </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Hiding
</span><a href="Agda.Syntax.Common.html#Hidden"><span class="hs-identifier hs-var">Hidden</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Hiding
</span><a href="Agda.Syntax.Common.html#Hidden"><span class="hs-identifier hs-var">Hidden</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Hiding
</span><a href="Agda.Syntax.Common.html#Hidden"><span class="hs-identifier hs-var">Hidden</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Hiding
</span><a href="Agda.Syntax.Common.html#Hidden"><span class="hs-identifier hs-var">Hidden</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Hiding
</span><a href="Agda.Syntax.Common.html#NotHidden"><span class="hs-identifier hs-var">NotHidden</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Hiding
</span><a href="Agda.Syntax.Common.html#Hidden"><span class="hs-identifier hs-var">Hidden</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Hiding
</span><a href="Agda.Syntax.Common.html#Hidden"><span class="hs-identifier hs-var">Hidden</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Hiding
</span><a href="Agda.Syntax.Common.html#NotHidden"><span class="hs-identifier hs-var">NotHidden</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-169"></span><span>
</span><span id="line-170"></span><span id="local-6989586621680774407"><span class="annot"><a href="Agda.Auto.SearchControl.html#eqSym"><span class="hs-identifier hs-type">eqSym</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Auto.Syntax.html#UId"><span class="hs-identifier hs-type">UId</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774407"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Auto.Syntax.html#EqReasoningConsts"><span class="hs-identifier hs-type">EqReasoningConsts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774407"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Auto.SearchControl.html#Move"><span class="hs-identifier hs-type">Move</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774407"><span class="hs-identifier hs-type">o</span></a></span></span><span>
</span><span id="line-171"></span><span id="eqSym"><span class="annot"><span class="annottext">eqSym :: forall o. UId o -&gt; EqReasoningConsts o -&gt; Move o
</span><a href="Agda.Auto.SearchControl.html#eqSym"><span class="hs-identifier hs-var hs-var">eqSym</span></a></span></span><span> </span><span id="local-6989586621680774405"><span class="annot"><span class="annottext">UId o
</span><a href="#local-6989586621680774405"><span class="hs-identifier hs-var">meta</span></a></span></span><span> </span><span id="local-6989586621680774404"><span class="annot"><span class="annottext">EqReasoningConsts o
</span><a href="#local-6989586621680774404"><span class="hs-identifier hs-var">eqrc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Cost
-&gt; RefCreateEnv (RefInfo o) (Exp o) -&gt; Move' (RefInfo o) (Exp o)
forall blk a. Cost -&gt; RefCreateEnv blk a -&gt; Move' blk a
</span><a href="Agda.Auto.NarrowingSearch.html#Move"><span class="hs-identifier hs-var">Move</span></a></span><span> </span><span class="annot"><span class="annottext">Cost
</span><a href="Agda.Auto.SearchControl.html#costEqSym"><span class="hs-identifier hs-var">costEqSym</span></a></span><span> </span><span class="annot"><span class="annottext">(RefCreateEnv (RefInfo o) (Exp o) -&gt; Move' (RefInfo o) (Exp o))
-&gt; RefCreateEnv (RefInfo o) (Exp o) -&gt; Move' (RefInfo o) (Exp o)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">UId o -&gt; ConstRef o -&gt; [Hiding] -&gt; RefCreateEnv (RefInfo o) (Exp o)
forall o.
UId o -&gt; ConstRef o -&gt; [Hiding] -&gt; RefCreateEnv (RefInfo o) (Exp o)
</span><a href="Agda.Auto.SearchControl.html#newApp"><span class="hs-identifier hs-var">newApp</span></a></span><span> </span><span class="annot"><span class="annottext">UId o
</span><a href="#local-6989586621680774405"><span class="hs-identifier hs-var">meta</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EqReasoningConsts o -&gt; ConstRef o
forall o. EqReasoningConsts o -&gt; ConstRef o
</span><a href="Agda.Auto.Syntax.html#eqrcSym"><span class="hs-identifier hs-var">eqrcSym</span></a></span><span> </span><span class="annot"><span class="annottext">EqReasoningConsts o
</span><a href="#local-6989586621680774404"><span class="hs-identifier hs-var">eqrc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-172"></span><span>  </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Hiding
</span><a href="Agda.Syntax.Common.html#Hidden"><span class="hs-identifier hs-var">Hidden</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Hiding
</span><a href="Agda.Syntax.Common.html#Hidden"><span class="hs-identifier hs-var">Hidden</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Hiding
</span><a href="Agda.Syntax.Common.html#Hidden"><span class="hs-identifier hs-var">Hidden</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Hiding
</span><a href="Agda.Syntax.Common.html#Hidden"><span class="hs-identifier hs-var">Hidden</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Hiding
</span><a href="Agda.Syntax.Common.html#NotHidden"><span class="hs-identifier hs-var">NotHidden</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-173"></span><span>
</span><span id="line-174"></span><span id="local-6989586621680774401"><span class="annot"><a href="Agda.Auto.SearchControl.html#eqBeginStep2"><span class="hs-identifier hs-type">eqBeginStep2</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Auto.Syntax.html#UId"><span class="hs-identifier hs-type">UId</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774401"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Auto.Syntax.html#EqReasoningConsts"><span class="hs-identifier hs-type">EqReasoningConsts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774401"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Auto.SearchControl.html#Move"><span class="hs-identifier hs-type">Move</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774401"><span class="hs-identifier hs-type">o</span></a></span></span><span>
</span><span id="line-175"></span><span id="eqBeginStep2"><span class="annot"><span class="annottext">eqBeginStep2 :: forall o. UId o -&gt; EqReasoningConsts o -&gt; Move o
</span><a href="Agda.Auto.SearchControl.html#eqBeginStep2"><span class="hs-identifier hs-var hs-var">eqBeginStep2</span></a></span></span><span> </span><span id="local-6989586621680774397"><span class="annot"><span class="annottext">UId o
</span><a href="#local-6989586621680774397"><span class="hs-identifier hs-var">meta</span></a></span></span><span> </span><span id="local-6989586621680774396"><span class="annot"><span class="annottext">EqReasoningConsts o
</span><a href="#local-6989586621680774396"><span class="hs-identifier hs-var">eqrc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Cost
-&gt; RefCreateEnv (RefInfo o) (Exp o) -&gt; Move' (RefInfo o) (Exp o)
forall blk a. Cost -&gt; RefCreateEnv blk a -&gt; Move' blk a
</span><a href="Agda.Auto.NarrowingSearch.html#Move"><span class="hs-identifier hs-var">Move</span></a></span><span> </span><span class="annot"><span class="annottext">Cost
</span><a href="Agda.Auto.SearchControl.html#costEqStep"><span class="hs-identifier hs-var">costEqStep</span></a></span><span> </span><span class="annot"><span class="annottext">(RefCreateEnv (RefInfo o) (Exp o) -&gt; Move' (RefInfo o) (Exp o))
-&gt; RefCreateEnv (RefInfo o) (Exp o) -&gt; Move' (RefInfo o) (Exp o)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-176"></span><span>  </span><span id="local-6989586621680774395"><span class="annot"><span class="annottext">Exp o
</span><a href="#local-6989586621680774395"><span class="hs-identifier hs-var">e1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">UId o -&gt; ConstRef o -&gt; [Hiding] -&gt; RefCreateEnv (RefInfo o) (Exp o)
forall o.
UId o -&gt; ConstRef o -&gt; [Hiding] -&gt; RefCreateEnv (RefInfo o) (Exp o)
</span><a href="Agda.Auto.SearchControl.html#newApp"><span class="hs-identifier hs-var">newApp</span></a></span><span> </span><span class="annot"><span class="annottext">UId o
</span><a href="#local-6989586621680774397"><span class="hs-identifier hs-var">meta</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EqReasoningConsts o -&gt; ConstRef o
forall o. EqReasoningConsts o -&gt; ConstRef o
</span><a href="Agda.Auto.Syntax.html#eqrcStep"><span class="hs-identifier hs-var">eqrcStep</span></a></span><span> </span><span class="annot"><span class="annottext">EqReasoningConsts o
</span><a href="#local-6989586621680774396"><span class="hs-identifier hs-var">eqrc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-177"></span><span>          </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Hiding
</span><a href="Agda.Syntax.Common.html#Hidden"><span class="hs-identifier hs-var">Hidden</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Hiding
</span><a href="Agda.Syntax.Common.html#Hidden"><span class="hs-identifier hs-var">Hidden</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Hiding
</span><a href="Agda.Syntax.Common.html#NotHidden"><span class="hs-identifier hs-var">NotHidden</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Hiding
</span><a href="Agda.Syntax.Common.html#Hidden"><span class="hs-identifier hs-var">Hidden</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Hiding
</span><a href="Agda.Syntax.Common.html#Hidden"><span class="hs-identifier hs-var">Hidden</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Hiding
</span><a href="Agda.Syntax.Common.html#NotHidden"><span class="hs-identifier hs-var">NotHidden</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Hiding
</span><a href="Agda.Syntax.Common.html#NotHidden"><span class="hs-identifier hs-var">NotHidden</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-178"></span><span>  </span><span id="local-6989586621680774394"><span class="annot"><span class="annottext">Exp o
</span><a href="#local-6989586621680774394"><span class="hs-identifier hs-var">e2</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">UId o
-&gt; ConstRef o
-&gt; [Hiding]
-&gt; [MExp o]
-&gt; RefCreateEnv (RefInfo o) (Exp o)
forall o.
UId o
-&gt; ConstRef o
-&gt; [Hiding]
-&gt; [MExp o]
-&gt; RefCreateEnv (RefInfo o) (Exp o)
</span><a href="Agda.Auto.SearchControl.html#newApp%27"><span class="hs-identifier hs-var">newApp'</span></a></span><span> </span><span class="annot"><span class="annottext">UId o
</span><a href="#local-6989586621680774397"><span class="hs-identifier hs-var">meta</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EqReasoningConsts o -&gt; ConstRef o
forall o. EqReasoningConsts o -&gt; ConstRef o
</span><a href="Agda.Auto.Syntax.html#eqrcStep"><span class="hs-identifier hs-var">eqrcStep</span></a></span><span> </span><span class="annot"><span class="annottext">EqReasoningConsts o
</span><a href="#local-6989586621680774396"><span class="hs-identifier hs-var">eqrc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-179"></span><span>          </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Hiding
</span><a href="Agda.Syntax.Common.html#Hidden"><span class="hs-identifier hs-var">Hidden</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Hiding
</span><a href="Agda.Syntax.Common.html#Hidden"><span class="hs-identifier hs-var">Hidden</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Hiding
</span><a href="Agda.Syntax.Common.html#NotHidden"><span class="hs-identifier hs-var">NotHidden</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Hiding
</span><a href="Agda.Syntax.Common.html#Hidden"><span class="hs-identifier hs-var">Hidden</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Hiding
</span><a href="Agda.Syntax.Common.html#Hidden"><span class="hs-identifier hs-var">Hidden</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Hiding
</span><a href="Agda.Syntax.Common.html#NotHidden"><span class="hs-identifier hs-var">NotHidden</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Hiding
</span><a href="Agda.Syntax.Common.html#NotHidden"><span class="hs-identifier hs-var">NotHidden</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-180"></span><span>          </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Exp o -&gt; MExp o
forall a blk. a -&gt; MM a blk
</span><a href="Agda.Auto.NarrowingSearch.html#NotM"><span class="hs-identifier hs-var">NotM</span></a></span><span> </span><span class="annot"><span class="annottext">Exp o
</span><a href="#local-6989586621680774395"><span class="hs-identifier hs-var">e1</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-181"></span><span>  </span><span class="annot"><span class="annottext">UId o
-&gt; ConstRef o
-&gt; [Hiding]
-&gt; [MExp o]
-&gt; RefCreateEnv (RefInfo o) (Exp o)
forall o.
UId o
-&gt; ConstRef o
-&gt; [Hiding]
-&gt; [MExp o]
-&gt; RefCreateEnv (RefInfo o) (Exp o)
</span><a href="Agda.Auto.SearchControl.html#newApp%27"><span class="hs-identifier hs-var">newApp'</span></a></span><span> </span><span class="annot"><span class="annottext">UId o
</span><a href="#local-6989586621680774397"><span class="hs-identifier hs-var">meta</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EqReasoningConsts o -&gt; ConstRef o
forall o. EqReasoningConsts o -&gt; ConstRef o
</span><a href="Agda.Auto.Syntax.html#eqrcBegin"><span class="hs-identifier hs-var">eqrcBegin</span></a></span><span> </span><span class="annot"><span class="annottext">EqReasoningConsts o
</span><a href="#local-6989586621680774396"><span class="hs-identifier hs-var">eqrc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Hiding
</span><a href="Agda.Syntax.Common.html#Hidden"><span class="hs-identifier hs-var">Hidden</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Hiding
</span><a href="Agda.Syntax.Common.html#Hidden"><span class="hs-identifier hs-var">Hidden</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Hiding
</span><a href="Agda.Syntax.Common.html#Hidden"><span class="hs-identifier hs-var">Hidden</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Hiding
</span><a href="Agda.Syntax.Common.html#Hidden"><span class="hs-identifier hs-var">Hidden</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Hiding
</span><a href="Agda.Syntax.Common.html#NotHidden"><span class="hs-identifier hs-var">NotHidden</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-182"></span><span>    </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Exp o -&gt; MExp o
forall a blk. a -&gt; MM a blk
</span><a href="Agda.Auto.NarrowingSearch.html#NotM"><span class="hs-identifier hs-var">NotM</span></a></span><span> </span><span class="annot"><span class="annottext">Exp o
</span><a href="#local-6989586621680774394"><span class="hs-identifier hs-var">e2</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-183"></span><span>
</span><span id="line-184"></span><span>
</span><span id="line-185"></span><span class="hs-comment">-- | Pick the first unused UId amongst the ones you have seen (GA: ??)</span><span>
</span><span id="line-186"></span><span class="hs-comment">--   Defaults to the head of the seen ones.</span><span>
</span><span id="line-187"></span><span>
</span><span id="line-188"></span><span class="annot"><a href="Agda.Auto.SearchControl.html#pickUid"><span class="hs-identifier hs-type">pickUid</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680774759"><span class="annot"><a href="#local-6989586621680774759"><span class="hs-identifier hs-type">o</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Agda.Auto.Syntax.html#UId"><span class="hs-identifier hs-type">UId</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774759"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Auto.Syntax.html#UId"><span class="hs-identifier hs-type">UId</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774759"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Auto.Syntax.html#UId"><span class="hs-identifier hs-type">UId</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774759"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span>
</span><span id="line-189"></span><span id="pickUid"><span class="annot"><span class="annottext">pickUid :: forall o. [UId o] -&gt; [Maybe (UId o)] -&gt; (Maybe (UId o), Bool)
</span><a href="Agda.Auto.SearchControl.html#pickUid"><span class="hs-identifier hs-var hs-var">pickUid</span></a></span></span><span> </span><span id="local-6989586621680774388"><span class="annot"><span class="annottext">[UId o]
</span><a href="#local-6989586621680774388"><span class="hs-identifier hs-var">used</span></a></span></span><span> </span><span id="local-6989586621680774387"><span class="annot"><span class="annottext">[Maybe (UId o)]
</span><a href="#local-6989586621680774387"><span class="hs-identifier hs-var">seen</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Maybe (UId o), Bool)
-&gt; (Maybe (UId o) -&gt; (Maybe (UId o), Bool))
-&gt; Maybe (Maybe (UId o))
-&gt; (Maybe (UId o), Bool)
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><span class="hs-identifier hs-var">maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Maybe (UId o)] -&gt; Maybe (UId o)
forall a. [a] -&gt; a
</span><span class="hs-identifier hs-var">head</span></span><span> </span><span class="annot"><span class="annottext">[Maybe (UId o)]
</span><a href="#local-6989586621680774387"><span class="hs-identifier hs-var">seen</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Maybe (Maybe (UId o)) -&gt; (Maybe (UId o), Bool))
-&gt; Maybe (Maybe (UId o)) -&gt; (Maybe (UId o), Bool)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Maybe (UId o)] -&gt; Maybe (Maybe (UId o))
</span><a href="#local-6989586621680774384"><span class="hs-identifier hs-var">firstUnused</span></a></span><span> </span><span class="annot"><span class="annottext">[Maybe (UId o)]
</span><a href="#local-6989586621680774387"><span class="hs-identifier hs-var">seen</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-190"></span><span>  </span><span class="hs-comment">{- ?? which uid to pick -}</span><span>
</span><span id="line-191"></span><span>
</span><span id="line-192"></span><span>  </span><span class="annot"><a href="#local-6989586621680774384"><span class="hs-identifier hs-type">firstUnused</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Auto.Syntax.html#UId"><span class="hs-identifier hs-type">UId</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774759"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Auto.Syntax.html#UId"><span class="hs-identifier hs-type">UId</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774759"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-193"></span><span>  </span><span id="local-6989586621680774384"><span class="annot"><span class="annottext">firstUnused :: [Maybe (UId o)] -&gt; Maybe (Maybe (UId o))
</span><a href="#local-6989586621680774384"><span class="hs-identifier hs-var hs-var">firstUnused</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>                 </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (Maybe (UId o))
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-194"></span><span>  </span><span class="annot"><a href="#local-6989586621680774384"><span class="hs-identifier hs-var">firstUnused</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe (UId o)
</span><span class="hs-identifier hs-var">Nothing</span></span><span>     </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><span class="annottext">[Maybe (UId o)]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (UId o) -&gt; Maybe (Maybe (UId o))
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Maybe (UId o)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-195"></span><span>  </span><span class="annot"><a href="#local-6989586621680774384"><span class="hs-identifier hs-var">firstUnused</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680774383"><span class="annot"><span class="annottext">mu :: Maybe (UId o)
</span><a href="#local-6989586621680774383"><span class="hs-identifier hs-var">mu</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621680774382"><span class="annot"><span class="annottext">UId o
</span><a href="#local-6989586621680774382"><span class="hs-identifier hs-var">u</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621680774381"><span class="annot"><span class="annottext">[Maybe (UId o)]
</span><a href="#local-6989586621680774381"><span class="hs-identifier hs-var">us</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-196"></span><span>    </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">UId o
</span><a href="#local-6989586621680774382"><span class="hs-identifier hs-var">u</span></a></span><span> </span><span class="annot"><span class="annottext">UId o -&gt; [UId o] -&gt; Bool
forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><span class="hs-operator hs-var">`elem`</span></span><span> </span><span class="annot"><span class="annottext">[UId o]
</span><a href="#local-6989586621680774388"><span class="hs-identifier hs-var">used</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">[Maybe (UId o)] -&gt; Maybe (Maybe (UId o))
</span><a href="#local-6989586621680774384"><span class="hs-identifier hs-var">firstUnused</span></a></span><span> </span><span class="annot"><span class="annottext">[Maybe (UId o)]
</span><a href="#local-6989586621680774381"><span class="hs-identifier hs-var">us</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Maybe (UId o) -&gt; Maybe (Maybe (UId o))
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Maybe (UId o)
</span><a href="#local-6989586621680774383"><span class="hs-identifier hs-var">mu</span></a></span><span>
</span><span id="line-197"></span><span>
</span><span id="line-198"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680774750"><span class="annot"><a href="Agda.Auto.NarrowingSearch.html#Refinable"><span class="hs-identifier hs-type">Refinable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Auto.Syntax.html#Exp"><span class="hs-identifier hs-type">Exp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774750"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Auto.Syntax.html#RefInfo"><span class="hs-identifier hs-type">RefInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774750"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-199"></span><span> </span><span id="local-6989586621680774311"><span class="annot"><span class="annottext">refinements :: RefInfo o
-&gt; [RefInfo o]
-&gt; Metavar (Exp o) (RefInfo o)
-&gt; IO [Move' (RefInfo o) (Exp o)]
</span><a href="#local-6989586621680774311"><span class="hs-identifier hs-var hs-var hs-var hs-var">refinements</span></a></span></span><span> </span><span id="local-6989586621680774310"><span class="annot"><span class="annottext">RefInfo o
</span><a href="#local-6989586621680774310"><span class="hs-identifier hs-var">envinfo</span></a></span></span><span> </span><span id="local-6989586621680774309"><span class="annot"><span class="annottext">[RefInfo o]
</span><a href="#local-6989586621680774309"><span class="hs-identifier hs-var">infos</span></a></span></span><span> </span><span id="local-6989586621680774308"><span class="annot"><span class="annottext">Metavar (Exp o) (RefInfo o)
</span><a href="#local-6989586621680774308"><span class="hs-identifier hs-var">meta</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-200"></span><span>  </span><span class="hs-keyword">let</span><span>
</span><span id="line-201"></span><span>   </span><span id="local-6989586621680774307"><span class="annot"><span class="annottext">hints :: [(ConstRef o, HintMode)]
</span><a href="#local-6989586621680774307"><span class="hs-identifier hs-var hs-var">hints</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RefInfo o -&gt; [(ConstRef o, HintMode)]
forall o. RefInfo o -&gt; [(ConstRef o, HintMode)]
</span><a href="Agda.Auto.Syntax.html#rieHints"><span class="hs-identifier hs-var">rieHints</span></a></span><span> </span><span class="annot"><span class="annottext">RefInfo o
</span><a href="#local-6989586621680774310"><span class="hs-identifier hs-var">envinfo</span></a></span><span>
</span><span id="line-202"></span><span>   </span><span id="local-6989586621680774305"><span class="annot"><span class="annottext">deffreevars :: Nat
</span><a href="#local-6989586621680774305"><span class="hs-identifier hs-var hs-var">deffreevars</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RefInfo o -&gt; Nat
forall o. RefInfo o -&gt; Nat
</span><a href="Agda.Auto.Syntax.html#rieDefFreeVars"><span class="hs-identifier hs-var">rieDefFreeVars</span></a></span><span> </span><span class="annot"><span class="annottext">RefInfo o
</span><a href="#local-6989586621680774310"><span class="hs-identifier hs-var">envinfo</span></a></span><span>
</span><span id="line-203"></span><span>
</span><span id="line-204"></span><span>   </span><span id="local-6989586621680774303"><span class="annot"><span class="annottext">meqr :: Maybe (EqReasoningConsts o)
</span><a href="#local-6989586621680774303"><span class="hs-identifier hs-var hs-var">meqr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RefInfo o -&gt; Maybe (EqReasoningConsts o)
forall o. RefInfo o -&gt; Maybe (EqReasoningConsts o)
</span><a href="Agda.Auto.Syntax.html#rieEqReasoningConsts"><span class="hs-identifier hs-var">rieEqReasoningConsts</span></a></span><span> </span><span class="annot"><span class="annottext">RefInfo o
</span><a href="#local-6989586621680774310"><span class="hs-identifier hs-var">envinfo</span></a></span><span>
</span><span id="line-205"></span><span>
</span><span id="line-206"></span><span>   </span><span class="annot"><a href="Agda.Auto.SearchControl.html#ExpRefInfo"><span class="hs-identifier hs-type">ExpRefInfo</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">eriMain :: forall o. ExpRefInfo o -&gt; Maybe (RefInfo o)
</span><a href="Agda.Auto.SearchControl.html#eriMain"><span class="hs-identifier hs-var">eriMain</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Auto.Syntax.html#RIMainInfo"><span class="hs-identifier hs-type">RIMainInfo</span></a></span><span> </span><span id="local-6989586621680774301"><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774301"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621680774300"><span class="annot"><span class="annottext">HNExp o
</span><a href="#local-6989586621680774300"><span class="hs-identifier hs-var">tt</span></a></span></span><span> </span><span id="local-6989586621680774299"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680774299"><span class="hs-identifier hs-var">iotastepdone</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-207"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">eriUnifs :: forall o. ExpRefInfo o -&gt; [RefInfo o]
</span><a href="Agda.Auto.SearchControl.html#eriUnifs"><span class="hs-identifier hs-var">eriUnifs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621680774298"><span class="annot"><span class="annottext">[RefInfo o]
</span><a href="#local-6989586621680774298"><span class="hs-identifier hs-var">unis</span></a></span></span><span>
</span><span id="line-208"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">eriInfTypeUnknown :: forall o. ExpRefInfo o -&gt; Bool
</span><a href="Agda.Auto.SearchControl.html#eriInfTypeUnknown"><span class="hs-identifier hs-var">eriInfTypeUnknown</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621680774297"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680774297"><span class="hs-identifier hs-var">inftypeunknown</span></a></span></span><span>
</span><span id="line-209"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">eriIsEliminand :: forall o. ExpRefInfo o -&gt; Bool
</span><a href="Agda.Auto.SearchControl.html#eriIsEliminand"><span class="hs-identifier hs-var">eriIsEliminand</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621680774296"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680774296"><span class="hs-identifier hs-var">iseliminand</span></a></span></span><span> </span><span class="hs-comment">-- TODO:: Defined but not used</span><span>
</span><span id="line-210"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">eriUsedVars :: forall o. ExpRefInfo o -&gt; Maybe ([UId o], [Elr o])
</span><a href="Agda.Auto.SearchControl.html#eriUsedVars"><span class="hs-identifier hs-var">eriUsedVars</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680774295"><span class="annot"><span class="annottext">[Metavar (Exp o) (RefInfo o)]
</span><a href="#local-6989586621680774295"><span class="hs-identifier hs-var">uids</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680774294"><span class="annot"><span class="annottext">[Elr o]
</span><a href="#local-6989586621680774294"><span class="hs-identifier hs-var">usedvars</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-211"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">eriIotaStep :: forall o. ExpRefInfo o -&gt; Maybe Bool
</span><a href="Agda.Auto.SearchControl.html#eriIotaStep"><span class="hs-identifier hs-var">eriIotaStep</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621680774293"><span class="annot"><span class="annottext">Maybe Bool
</span><a href="#local-6989586621680774293"><span class="hs-identifier hs-var">iotastep</span></a></span></span><span>
</span><span id="line-212"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">eriPickSubsVar :: forall o. ExpRefInfo o -&gt; Bool
</span><a href="Agda.Auto.SearchControl.html#eriPickSubsVar"><span class="hs-identifier hs-var">eriPickSubsVar</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621680774292"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680774292"><span class="hs-identifier hs-var">picksubsvar</span></a></span></span><span> </span><span class="hs-comment">-- TODO:: Defined but not used</span><span>
</span><span id="line-213"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">eriEqRState :: forall o. ExpRefInfo o -&gt; Maybe EqReasoningState
</span><a href="Agda.Auto.SearchControl.html#eriEqRState"><span class="hs-identifier hs-var">eriEqRState</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621680774291"><span class="annot"><span class="annottext">Maybe EqReasoningState
</span><a href="#local-6989586621680774291"><span class="hs-identifier hs-var">meqrstate</span></a></span></span><span>
</span><span id="line-214"></span><span>              </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[RefInfo o] -&gt; ExpRefInfo o
forall o. [RefInfo o] -&gt; ExpRefInfo o
</span><a href="Agda.Auto.SearchControl.html#getinfo"><span class="hs-identifier hs-var">getinfo</span></a></span><span> </span><span class="annot"><span class="annottext">[RefInfo o]
</span><a href="#local-6989586621680774309"><span class="hs-identifier hs-var">infos</span></a></span><span>
</span><span id="line-215"></span><span>
</span><span id="line-216"></span><span>   </span><span id="local-6989586621680774290"><span class="annot"><span class="annottext">eqrstate :: EqReasoningState
</span><a href="#local-6989586621680774290"><span class="hs-identifier hs-var hs-var">eqrstate</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">EqReasoningState -&gt; Maybe EqReasoningState -&gt; EqReasoningState
forall a. a -&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromMaybe</span></span><span> </span><span class="annot"><span class="annottext">EqReasoningState
</span><a href="Agda.Auto.Syntax.html#EqRSNone"><span class="hs-identifier hs-var">EqRSNone</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe EqReasoningState
</span><a href="#local-6989586621680774291"><span class="hs-identifier hs-var">meqrstate</span></a></span><span>
</span><span id="line-217"></span><span>
</span><span id="line-218"></span><span>   </span><span id="local-6989586621680774286"><span class="annot"><span class="annottext">set :: Nat -&gt; m (Exp o)
</span><a href="#local-6989586621680774286"><span class="hs-identifier hs-var hs-var">set</span></a></span></span><span> </span><span id="local-6989586621680774285"><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774285"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Exp o -&gt; m (Exp o)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Exp o -&gt; m (Exp o)) -&gt; Exp o -&gt; m (Exp o)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Sort -&gt; Exp o
forall o. Sort -&gt; Exp o
</span><a href="Agda.Auto.Syntax.html#Sort"><span class="hs-identifier hs-var">Sort</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Nat -&gt; Sort
</span><a href="Agda.Auto.Syntax.html#Set"><span class="hs-identifier hs-var">Set</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774285"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-219"></span><span>  </span><span class="hs-keyword">in</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">[RefInfo o]
</span><a href="#local-6989586621680774298"><span class="hs-identifier hs-var">unis</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-220"></span><span>   </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-221"></span><span>    </span><span class="hs-keyword">let</span><span>
</span><span id="line-222"></span><span>
</span><span id="line-223"></span><span>     </span><span id="local-6989586621680774282"><span class="annot"><span class="annottext">eqr :: EqReasoningConsts o
</span><a href="#local-6989586621680774282"><span class="hs-identifier hs-var hs-var">eqr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">EqReasoningConsts o
-&gt; Maybe (EqReasoningConsts o) -&gt; EqReasoningConsts o
forall a. a -&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromMaybe</span></span><span> </span><span class="annot"><span class="annottext">EqReasoningConsts o
forall a. HasCallStack =&gt; a
</span><a href="Agda.Utils.Impossible.html#__IMPOSSIBLE__"><span class="hs-identifier hs-var">__IMPOSSIBLE__</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (EqReasoningConsts o)
</span><a href="#local-6989586621680774303"><span class="hs-identifier hs-var">meqr</span></a></span><span>
</span><span id="line-224"></span><span>     </span><span id="local-6989586621680774281"><span class="annot"><span class="annottext">eq_end :: Move' (RefInfo o) (Exp o)
</span><a href="#local-6989586621680774281"><span class="hs-identifier hs-var hs-var">eq_end</span></a></span></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Metavar (Exp o) (RefInfo o)
-&gt; EqReasoningConsts o -&gt; Move' (RefInfo o) (Exp o)
forall o. UId o -&gt; EqReasoningConsts o -&gt; Move o
</span><a href="Agda.Auto.SearchControl.html#eqEnd"><span class="hs-identifier hs-var">eqEnd</span></a></span><span>  </span><span class="annot"><span class="annottext">Metavar (Exp o) (RefInfo o)
</span><a href="#local-6989586621680774308"><span class="hs-identifier hs-var">meta</span></a></span><span> </span><span class="annot"><span class="annottext">EqReasoningConsts o
</span><a href="#local-6989586621680774282"><span class="hs-identifier hs-var">eqr</span></a></span><span>
</span><span id="line-225"></span><span>     </span><span id="local-6989586621680774280"><span class="annot"><span class="annottext">eq_step :: Move' (RefInfo o) (Exp o)
</span><a href="#local-6989586621680774280"><span class="hs-identifier hs-var hs-var">eq_step</span></a></span></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Metavar (Exp o) (RefInfo o)
-&gt; EqReasoningConsts o -&gt; Move' (RefInfo o) (Exp o)
forall o. UId o -&gt; EqReasoningConsts o -&gt; Move o
</span><a href="Agda.Auto.SearchControl.html#eqStep"><span class="hs-identifier hs-var">eqStep</span></a></span><span> </span><span class="annot"><span class="annottext">Metavar (Exp o) (RefInfo o)
</span><a href="#local-6989586621680774308"><span class="hs-identifier hs-var">meta</span></a></span><span> </span><span class="annot"><span class="annottext">EqReasoningConsts o
</span><a href="#local-6989586621680774282"><span class="hs-identifier hs-var">eqr</span></a></span><span>
</span><span id="line-226"></span><span>     </span><span id="local-6989586621680774279"><span class="annot"><span class="annottext">eq_cong :: Move' (RefInfo o) (Exp o)
</span><a href="#local-6989586621680774279"><span class="hs-identifier hs-var hs-var">eq_cong</span></a></span></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Metavar (Exp o) (RefInfo o)
-&gt; EqReasoningConsts o -&gt; Move' (RefInfo o) (Exp o)
forall o. UId o -&gt; EqReasoningConsts o -&gt; Move o
</span><a href="Agda.Auto.SearchControl.html#eqCong"><span class="hs-identifier hs-var">eqCong</span></a></span><span> </span><span class="annot"><span class="annottext">Metavar (Exp o) (RefInfo o)
</span><a href="#local-6989586621680774308"><span class="hs-identifier hs-var">meta</span></a></span><span> </span><span class="annot"><span class="annottext">EqReasoningConsts o
</span><a href="#local-6989586621680774282"><span class="hs-identifier hs-var">eqr</span></a></span><span>
</span><span id="line-227"></span><span>     </span><span id="local-6989586621680774278"><span class="annot"><span class="annottext">eq_sym :: Move' (RefInfo o) (Exp o)
</span><a href="#local-6989586621680774278"><span class="hs-identifier hs-var hs-var">eq_sym</span></a></span></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Metavar (Exp o) (RefInfo o)
-&gt; EqReasoningConsts o -&gt; Move' (RefInfo o) (Exp o)
forall o. UId o -&gt; EqReasoningConsts o -&gt; Move o
</span><a href="Agda.Auto.SearchControl.html#eqSym"><span class="hs-identifier hs-var">eqSym</span></a></span><span>  </span><span class="annot"><span class="annottext">Metavar (Exp o) (RefInfo o)
</span><a href="#local-6989586621680774308"><span class="hs-identifier hs-var">meta</span></a></span><span> </span><span class="annot"><span class="annottext">EqReasoningConsts o
</span><a href="#local-6989586621680774282"><span class="hs-identifier hs-var">eqr</span></a></span><span>
</span><span id="line-228"></span><span>     </span><span id="local-6989586621680774277"><span class="annot"><span class="annottext">eq_begin_step2 :: Move' (RefInfo o) (Exp o)
</span><a href="#local-6989586621680774277"><span class="hs-identifier hs-var hs-var">eq_begin_step2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Metavar (Exp o) (RefInfo o)
-&gt; EqReasoningConsts o -&gt; Move' (RefInfo o) (Exp o)
forall o. UId o -&gt; EqReasoningConsts o -&gt; Move o
</span><a href="Agda.Auto.SearchControl.html#eqBeginStep2"><span class="hs-identifier hs-var">eqBeginStep2</span></a></span><span> </span><span class="annot"><span class="annottext">Metavar (Exp o) (RefInfo o)
</span><a href="#local-6989586621680774308"><span class="hs-identifier hs-var">meta</span></a></span><span> </span><span class="annot"><span class="annottext">EqReasoningConsts o
</span><a href="#local-6989586621680774282"><span class="hs-identifier hs-var">eqr</span></a></span><span>
</span><span id="line-229"></span><span>
</span><span id="line-230"></span><span>     </span><span id="local-6989586621680774276"><span class="annot"><span class="annottext">adjustCost :: Cost -&gt; Cost
</span><a href="#local-6989586621680774276"><span class="hs-identifier hs-var hs-var">adjustCost</span></a></span></span><span> </span><span id="local-6989586621680774275"><span class="annot"><span class="annottext">Cost
</span><a href="#local-6989586621680774275"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680774297"><span class="hs-identifier hs-var">inftypeunknown</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Cost
</span><a href="Agda.Auto.SearchControl.html#costInferredTypeUnkown"><span class="hs-identifier hs-var">costInferredTypeUnkown</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Cost
</span><a href="#local-6989586621680774275"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-231"></span><span>     </span><span id="local-6989586621680774273"><span class="annot"><span class="annottext">varcost :: Nat -&gt; Cost
</span><a href="#local-6989586621680774273"><span class="hs-identifier hs-var hs-var">varcost</span></a></span></span><span> </span><span id="local-6989586621680774272"><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774272"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774272"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Nat -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774301"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Nat -&gt; Nat
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774305"><span class="hs-identifier hs-var">deffreevars</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Cost -&gt; Cost
</span><a href="#local-6989586621680774276"><span class="hs-identifier hs-var">adjustCost</span></a></span><span> </span><span class="annot"><span class="annottext">(Cost -&gt; Cost) -&gt; Cost -&gt; Cost
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-232"></span><span>       </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774272"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; [Nat] -&gt; Bool
forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><span class="hs-operator hs-var">`elem`</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Elr o -&gt; Maybe Nat) -&gt; [Elr o] -&gt; [Nat]
forall a b. (a -&gt; Maybe b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">mapMaybe</span></span><span> </span><span class="annot"><span class="annottext">Elr o -&gt; Maybe Nat
forall o. Elr o -&gt; Maybe Nat
</span><a href="Agda.Auto.Syntax.html#getVar"><span class="hs-identifier hs-var">getVar</span></a></span><span> </span><span class="annot"><span class="annottext">[Elr o]
</span><a href="#local-6989586621680774294"><span class="hs-identifier hs-var">usedvars</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-233"></span><span>       </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Cost
</span><a href="Agda.Auto.SearchControl.html#costAppVarUsed"><span class="hs-identifier hs-var">costAppVarUsed</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Cost
</span><a href="Agda.Auto.SearchControl.html#costAppVar"><span class="hs-identifier hs-var">costAppVar</span></a></span><span>
</span><span id="line-234"></span><span>     </span><span class="annot"><a href="#local-6989586621680774273"><span class="hs-identifier hs-var">varcost</span></a></span><span> </span><span id="local-6989586621680774268"><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774268"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Cost -&gt; Cost
</span><a href="#local-6989586621680774276"><span class="hs-identifier hs-var">adjustCost</span></a></span><span> </span><span class="annot"><span class="annottext">Cost
</span><a href="Agda.Auto.SearchControl.html#costAppHint"><span class="hs-identifier hs-var">costAppHint</span></a></span><span>
</span><span id="line-235"></span><span>     </span><span id="local-6989586621680774266"><span class="annot"><span class="annottext">varapps :: [Move' (RefInfo o) (Exp o)]
</span><a href="#local-6989586621680774266"><span class="hs-identifier hs-var hs-var">varapps</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Nat -&gt; Move' (RefInfo o) (Exp o))
-&gt; [Nat] -&gt; [Move' (RefInfo o) (Exp o)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621680774265"><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774265"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Cost
-&gt; RefCreateEnv (RefInfo o) (Exp o) -&gt; Move' (RefInfo o) (Exp o)
forall blk a. Cost -&gt; RefCreateEnv blk a -&gt; Move' blk a
</span><a href="Agda.Auto.NarrowingSearch.html#Move"><span class="hs-identifier hs-var">Move</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Nat -&gt; Cost
</span><a href="#local-6989586621680774273"><span class="hs-identifier hs-var">varcost</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774265"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(RefCreateEnv (RefInfo o) (Exp o) -&gt; Move' (RefInfo o) (Exp o))
-&gt; RefCreateEnv (RefInfo o) (Exp o) -&gt; Move' (RefInfo o) (Exp o)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Nat
-&gt; Metavar (Exp o) (RefInfo o)
-&gt; Maybe (Metavar (Exp o) (RefInfo o))
-&gt; Elr o
-&gt; RefCreateEnv (RefInfo o) (Exp o)
</span><a href="#local-6989586621680774264"><span class="hs-identifier hs-var">app</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774301"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Metavar (Exp o) (RefInfo o)
</span><a href="#local-6989586621680774308"><span class="hs-identifier hs-var">meta</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Metavar (Exp o) (RefInfo o))
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Nat -&gt; Elr o
forall o. Nat -&gt; Elr o
</span><a href="Agda.Auto.Syntax.html#Var"><span class="hs-identifier hs-var">Var</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774265"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">0</span></span><span class="hs-glyph">..</span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774301"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Nat -&gt; Nat
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">1</span></span><span class="hs-special">]</span><span>
</span><span id="line-236"></span><span>     </span><span id="local-6989586621680774262"><span class="annot"><span class="annottext">hintapps :: [Move' (RefInfo o) (Exp o)]
</span><a href="#local-6989586621680774262"><span class="hs-identifier hs-var hs-var">hintapps</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((ConstRef o, HintMode) -&gt; Move' (RefInfo o) (Exp o))
-&gt; [(ConstRef o, HintMode)] -&gt; [Move' (RefInfo o) (Exp o)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621680774261"><span class="annot"><span class="annottext">ConstRef o
</span><a href="#local-6989586621680774261"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680774260"><span class="annot"><span class="annottext">HintMode
</span><a href="#local-6989586621680774260"><span class="hs-identifier hs-var">hm</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Cost
-&gt; RefCreateEnv (RefInfo o) (Exp o) -&gt; Move' (RefInfo o) (Exp o)
forall blk a. Cost -&gt; RefCreateEnv blk a -&gt; Move' blk a
</span><a href="Agda.Auto.NarrowingSearch.html#Move"><span class="hs-identifier hs-var">Move</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ConstRef o -&gt; HintMode -&gt; Cost
</span><a href="#local-6989586621680774259"><span class="hs-identifier hs-var">cost</span></a></span><span> </span><span class="annot"><span class="annottext">ConstRef o
</span><a href="#local-6989586621680774261"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">HintMode
</span><a href="#local-6989586621680774260"><span class="hs-identifier hs-var">hm</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Nat
-&gt; Metavar (Exp o) (RefInfo o)
-&gt; Maybe (Metavar (Exp o) (RefInfo o))
-&gt; Elr o
-&gt; RefCreateEnv (RefInfo o) (Exp o)
</span><a href="#local-6989586621680774264"><span class="hs-identifier hs-var">app</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774301"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Metavar (Exp o) (RefInfo o)
</span><a href="#local-6989586621680774308"><span class="hs-identifier hs-var">meta</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Metavar (Exp o) (RefInfo o))
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ConstRef o -&gt; Elr o
forall o. ConstRef o -&gt; Elr o
</span><a href="Agda.Auto.Syntax.html#Const"><span class="hs-identifier hs-var">Const</span></a></span><span> </span><span class="annot"><span class="annottext">ConstRef o
</span><a href="#local-6989586621680774261"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(ConstRef o, HintMode)]
</span><a href="#local-6989586621680774307"><span class="hs-identifier hs-var">hints</span></a></span><span>
</span><span id="line-237"></span><span>       </span><span class="hs-keyword">where</span><span>
</span><span id="line-238"></span><span>         </span><span class="annot"><a href="#local-6989586621680774259"><span class="hs-identifier hs-type">cost</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Auto.Syntax.html#ConstRef"><span class="hs-identifier hs-type">ConstRef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774750"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Auto.Syntax.html#HintMode"><span class="hs-identifier hs-type">HintMode</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Auto.NarrowingSearch.html#Cost"><span class="hs-identifier hs-type">Cost</span></a></span><span>
</span><span id="line-239"></span><span>         </span><span id="local-6989586621680774259"><span class="annot"><span class="annottext">cost :: ConstRef o -&gt; HintMode -&gt; Cost
</span><a href="#local-6989586621680774259"><span class="hs-identifier hs-var hs-var">cost</span></a></span></span><span> </span><span id="local-6989586621680774258"><span class="annot"><span class="annottext">ConstRef o
</span><a href="#local-6989586621680774258"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621680774257"><span class="annot"><span class="annottext">HintMode
</span><a href="#local-6989586621680774257"><span class="hs-identifier hs-var">hm</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Cost -&gt; Cost
</span><a href="#local-6989586621680774276"><span class="hs-identifier hs-var">adjustCost</span></a></span><span> </span><span class="annot"><span class="annottext">(Cost -&gt; Cost) -&gt; Cost -&gt; Cost
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Bool
</span><a href="#local-6989586621680774293"><span class="hs-identifier hs-var">iotastep</span></a></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">HintMode
</span><a href="#local-6989586621680774257"><span class="hs-identifier hs-var">hm</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-240"></span><span>           </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">HintMode
</span><span class="hs-identifier">_</span></span><span>       </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Cost
</span><a href="Agda.Auto.SearchControl.html#costIotaStep"><span class="hs-identifier hs-var">costIotaStep</span></a></span><span>
</span><span id="line-241"></span><span>           </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Bool
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">HintMode
</span><a href="Agda.Auto.Syntax.html#HMNormal"><span class="hs-identifier hs-var">HMNormal</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-242"></span><span>             </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">ConstRef o
</span><a href="#local-6989586621680774258"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">ConstRef o -&gt; [ConstRef o] -&gt; Bool
forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><span class="hs-operator hs-var">`elem`</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Elr o -&gt; Maybe (ConstRef o)) -&gt; [Elr o] -&gt; [ConstRef o]
forall a b. (a -&gt; Maybe b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">mapMaybe</span></span><span> </span><span class="annot"><span class="annottext">Elr o -&gt; Maybe (ConstRef o)
forall o. Elr o -&gt; Maybe (ConstRef o)
</span><a href="Agda.Auto.Syntax.html#getConst"><span class="hs-identifier hs-var">getConst</span></a></span><span> </span><span class="annot"><span class="annottext">[Elr o]
</span><a href="#local-6989586621680774294"><span class="hs-identifier hs-var">usedvars</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-243"></span><span>             </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Cost
</span><a href="Agda.Auto.SearchControl.html#costAppHintUsed"><span class="hs-identifier hs-var">costAppHintUsed</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Cost
</span><a href="Agda.Auto.SearchControl.html#costAppHint"><span class="hs-identifier hs-var">costAppHint</span></a></span><span>
</span><span id="line-244"></span><span>           </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Bool
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">HintMode
</span><a href="Agda.Auto.Syntax.html#HMRecCall"><span class="hs-identifier hs-var">HMRecCall</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-245"></span><span>             </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">ConstRef o
</span><a href="#local-6989586621680774258"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">ConstRef o -&gt; [ConstRef o] -&gt; Bool
forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><span class="hs-operator hs-var">`elem`</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Elr o -&gt; Maybe (ConstRef o)) -&gt; [Elr o] -&gt; [ConstRef o]
forall a b. (a -&gt; Maybe b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">mapMaybe</span></span><span> </span><span class="annot"><span class="annottext">Elr o -&gt; Maybe (ConstRef o)
forall o. Elr o -&gt; Maybe (ConstRef o)
</span><a href="Agda.Auto.Syntax.html#getConst"><span class="hs-identifier hs-var">getConst</span></a></span><span> </span><span class="annot"><span class="annottext">[Elr o]
</span><a href="#local-6989586621680774294"><span class="hs-identifier hs-var">usedvars</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-246"></span><span>             </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Cost
</span><a href="Agda.Auto.SearchControl.html#costAppRecCallUsed"><span class="hs-identifier hs-var">costAppRecCallUsed</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Cost
</span><a href="Agda.Auto.SearchControl.html#costAppRecCall"><span class="hs-identifier hs-var">costAppRecCall</span></a></span><span>
</span><span id="line-247"></span><span>     </span><span id="local-6989586621680774249"><span class="annot"><span class="annottext">generics :: [Move' (RefInfo o) (Exp o)]
</span><a href="#local-6989586621680774249"><span class="hs-identifier hs-var hs-var">generics</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Move' (RefInfo o) (Exp o)]
</span><a href="#local-6989586621680774266"><span class="hs-identifier hs-var">varapps</span></a></span><span> </span><span class="annot"><span class="annottext">[Move' (RefInfo o) (Exp o)]
-&gt; [Move' (RefInfo o) (Exp o)] -&gt; [Move' (RefInfo o) (Exp o)]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[Move' (RefInfo o) (Exp o)]
</span><a href="#local-6989586621680774262"><span class="hs-identifier hs-var">hintapps</span></a></span><span>
</span><span id="line-248"></span><span>    </span><span class="hs-keyword">in</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">HNExp o -&gt; HNExp' o
forall a o. WithSeenUIds a o -&gt; a
</span><a href="Agda.Auto.Syntax.html#rawValue"><span class="hs-identifier hs-var">rawValue</span></a></span><span> </span><span class="annot"><span class="annottext">HNExp o
</span><a href="#local-6989586621680774300"><span class="hs-identifier hs-var">tt</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-249"></span><span>
</span><span id="line-250"></span><span>     </span><span class="annot"><span class="annottext">HNExp' o
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">EqReasoningState
</span><a href="#local-6989586621680774290"><span class="hs-identifier hs-var">eqrstate</span></a></span><span> </span><span class="annot"><span class="annottext">EqReasoningState -&gt; EqReasoningState -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">EqReasoningState
</span><a href="Agda.Auto.Syntax.html#EqRSChain"><span class="hs-identifier hs-var">EqRSChain</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-251"></span><span>      </span><span class="annot"><span class="annottext">[Move' (RefInfo o) (Exp o)] -&gt; IO [Move' (RefInfo o) (Exp o)]
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Move' (RefInfo o) (Exp o)
</span><a href="#local-6989586621680774281"><span class="hs-identifier hs-var">eq_end</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Move' (RefInfo o) (Exp o)
</span><a href="#local-6989586621680774280"><span class="hs-identifier hs-var">eq_step</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-252"></span><span>
</span><span id="line-253"></span><span>     </span><span class="annot"><a href="Agda.Auto.Syntax.html#HNPi"><span class="hs-identifier hs-type">HNPi</span></a></span><span> </span><span id="local-6989586621680774245"><span class="annot"><span class="annottext">Hiding
</span><a href="#local-6989586621680774245"><span class="hs-identifier hs-var">hid</span></a></span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">ICExp o
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Auto.Syntax.html#Abs"><span class="hs-identifier hs-type">Abs</span></a></span><span> </span><span id="local-6989586621680774244"><span class="annot"><span class="annottext">MId
</span><a href="#local-6989586621680774244"><span class="hs-identifier hs-var">id</span></a></span></span><span> </span><span class="annot"><span class="annottext">ICExp o
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Move' (RefInfo o) (Exp o)] -&gt; IO [Move' (RefInfo o) (Exp o)]
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">([Move' (RefInfo o) (Exp o)] -&gt; IO [Move' (RefInfo o) (Exp o)])
-&gt; [Move' (RefInfo o) (Exp o)] -&gt; IO [Move' (RefInfo o) (Exp o)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-254"></span><span>         </span><span class="annot"><span class="annottext">Cost
-&gt; RefCreateEnv (RefInfo o) (Exp o) -&gt; Move' (RefInfo o) (Exp o)
forall blk a. Cost -&gt; RefCreateEnv blk a -&gt; Move' blk a
</span><a href="Agda.Auto.NarrowingSearch.html#Move"><span class="hs-identifier hs-var">Move</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Cost -&gt; Cost
</span><a href="#local-6989586621680774276"><span class="hs-identifier hs-var">adjustCost</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680774299"><span class="hs-identifier hs-var">iotastepdone</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Cost
</span><a href="Agda.Auto.SearchControl.html#costLamUnfold"><span class="hs-identifier hs-var">costLamUnfold</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Cost
</span><a href="Agda.Auto.SearchControl.html#costLam"><span class="hs-identifier hs-var">costLam</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Hiding -&gt; MId -&gt; RefCreateEnv (RefInfo o) (Exp o)
forall o. Hiding -&gt; MId -&gt; RefCreateEnv (RefInfo o) (Exp o)
</span><a href="Agda.Auto.SearchControl.html#newLam"><span class="hs-identifier hs-var">newLam</span></a></span><span> </span><span class="annot"><span class="annottext">Hiding
</span><a href="#local-6989586621680774245"><span class="hs-identifier hs-var">hid</span></a></span><span> </span><span class="annot"><span class="annottext">MId
</span><a href="#local-6989586621680774244"><span class="hs-identifier hs-var">id</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-255"></span><span>       </span><span class="annot"><span class="annottext">Move' (RefInfo o) (Exp o)
-&gt; [Move' (RefInfo o) (Exp o)] -&gt; [Move' (RefInfo o) (Exp o)]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">Cost
-&gt; RefCreateEnv (RefInfo o) (Exp o) -&gt; Move' (RefInfo o) (Exp o)
forall blk a. Cost -&gt; RefCreateEnv blk a -&gt; Move' blk a
</span><a href="Agda.Auto.NarrowingSearch.html#Move"><span class="hs-identifier hs-var">Move</span></a></span><span> </span><span class="annot"><span class="annottext">Cost
</span><a href="Agda.Auto.SearchControl.html#costAbsurdLam"><span class="hs-identifier hs-var">costAbsurdLam</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Exp o -&gt; RefCreateEnv (RefInfo o) (Exp o)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Exp o -&gt; RefCreateEnv (RefInfo o) (Exp o))
-&gt; Exp o -&gt; RefCreateEnv (RefInfo o) (Exp o)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Hiding -&gt; Exp o
forall o. Hiding -&gt; Exp o
</span><a href="Agda.Auto.Syntax.html#AbsurdLambda"><span class="hs-identifier hs-var">AbsurdLambda</span></a></span><span> </span><span class="annot"><span class="annottext">Hiding
</span><a href="#local-6989586621680774245"><span class="hs-identifier hs-var">hid</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-256"></span><span>       </span><span class="annot"><span class="annottext">Move' (RefInfo o) (Exp o)
-&gt; [Move' (RefInfo o) (Exp o)] -&gt; [Move' (RefInfo o) (Exp o)]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[Move' (RefInfo o) (Exp o)]
</span><a href="#local-6989586621680774249"><span class="hs-identifier hs-var">generics</span></a></span><span>
</span><span id="line-257"></span><span>
</span><span id="line-258"></span><span>     </span><span class="annot"><a href="Agda.Auto.Syntax.html#HNSort"><span class="hs-identifier hs-type">HNSort</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Auto.Syntax.html#Set"><span class="hs-identifier hs-type">Set</span></a></span><span> </span><span id="local-6989586621680774238"><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774238"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Move' (RefInfo o) (Exp o)] -&gt; IO [Move' (RefInfo o) (Exp o)]
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">([Move' (RefInfo o) (Exp o)] -&gt; IO [Move' (RefInfo o) (Exp o)])
-&gt; [Move' (RefInfo o) (Exp o)] -&gt; IO [Move' (RefInfo o) (Exp o)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-259"></span><span>          </span><span class="annot"><span class="annottext">(Nat -&gt; Move' (RefInfo o) (Exp o))
-&gt; [Nat] -&gt; [Move' (RefInfo o) (Exp o)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Cost
-&gt; RefCreateEnv (RefInfo o) (Exp o) -&gt; Move' (RefInfo o) (Exp o)
forall blk a. Cost -&gt; RefCreateEnv blk a -&gt; Move' blk a
</span><a href="Agda.Auto.NarrowingSearch.html#Move"><span class="hs-identifier hs-var">Move</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Cost -&gt; Cost
</span><a href="#local-6989586621680774276"><span class="hs-identifier hs-var">adjustCost</span></a></span><span> </span><span class="annot"><span class="annottext">Cost
</span><a href="Agda.Auto.SearchControl.html#costSort"><span class="hs-identifier hs-var">costSort</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(RefCreateEnv (RefInfo o) (Exp o) -&gt; Move' (RefInfo o) (Exp o))
-&gt; (Nat -&gt; RefCreateEnv (RefInfo o) (Exp o))
-&gt; Nat
-&gt; Move' (RefInfo o) (Exp o)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; RefCreateEnv (RefInfo o) (Exp o)
forall {m :: * -&gt; *} {o}. Monad m =&gt; Nat -&gt; m (Exp o)
</span><a href="#local-6989586621680774286"><span class="hs-identifier hs-var">set</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">0</span></span><span class="hs-glyph">..</span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774238"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Nat -&gt; Nat
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">1</span></span><span class="hs-special">]</span><span>
</span><span id="line-260"></span><span>       </span><span class="annot"><span class="annottext">[Move' (RefInfo o) (Exp o)]
-&gt; [Move' (RefInfo o) (Exp o)] -&gt; [Move' (RefInfo o) (Exp o)]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">(Hiding -&gt; Move' (RefInfo o) (Exp o))
-&gt; [Hiding] -&gt; [Move' (RefInfo o) (Exp o)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Cost
-&gt; RefCreateEnv (RefInfo o) (Exp o) -&gt; Move' (RefInfo o) (Exp o)
forall blk a. Cost -&gt; RefCreateEnv blk a -&gt; Move' blk a
</span><a href="Agda.Auto.NarrowingSearch.html#Move"><span class="hs-identifier hs-var">Move</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Cost -&gt; Cost
</span><a href="#local-6989586621680774276"><span class="hs-identifier hs-var">adjustCost</span></a></span><span> </span><span class="annot"><span class="annottext">Cost
</span><a href="Agda.Auto.SearchControl.html#costPi"><span class="hs-identifier hs-var">costPi</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(RefCreateEnv (RefInfo o) (Exp o) -&gt; Move' (RefInfo o) (Exp o))
-&gt; (Hiding -&gt; RefCreateEnv (RefInfo o) (Exp o))
-&gt; Hiding
-&gt; Move' (RefInfo o) (Exp o)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Metavar (Exp o) (RefInfo o)
-&gt; Bool -&gt; Hiding -&gt; RefCreateEnv (RefInfo o) (Exp o)
forall o.
UId o -&gt; Bool -&gt; Hiding -&gt; RefCreateEnv (RefInfo o) (Exp o)
</span><a href="Agda.Auto.SearchControl.html#newPi"><span class="hs-identifier hs-var">newPi</span></a></span><span> </span><span class="annot"><span class="annottext">Metavar (Exp o) (RefInfo o)
</span><a href="#local-6989586621680774308"><span class="hs-identifier hs-var">meta</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Hiding
</span><a href="Agda.Syntax.Common.html#NotHidden"><span class="hs-identifier hs-var">NotHidden</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Hiding
</span><a href="Agda.Syntax.Common.html#Hidden"><span class="hs-identifier hs-var">Hidden</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-261"></span><span>       </span><span class="annot"><span class="annottext">[Move' (RefInfo o) (Exp o)]
-&gt; [Move' (RefInfo o) (Exp o)] -&gt; [Move' (RefInfo o) (Exp o)]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[Move' (RefInfo o) (Exp o)]
</span><a href="#local-6989586621680774249"><span class="hs-identifier hs-var">generics</span></a></span><span>
</span><span id="line-262"></span><span>
</span><span id="line-263"></span><span>
</span><span id="line-264"></span><span>     </span><span class="annot"><a href="Agda.Auto.Syntax.html#HNApp"><span class="hs-identifier hs-type">HNApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Auto.Syntax.html#Const"><span class="hs-identifier hs-type">Const</span></a></span><span> </span><span id="local-6989586621680774234"><span class="annot"><span class="annottext">ConstRef o
</span><a href="#local-6989586621680774234"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ICArgList o
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-265"></span><span>      </span><span id="local-6989586621680774233"><span class="annot"><span class="annottext">ConstDef o
</span><a href="#local-6989586621680774233"><span class="hs-identifier hs-var">cd</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ConstRef o -&gt; IO (ConstDef o)
forall a. IORef a -&gt; IO a
</span><span class="hs-identifier hs-var">readIORef</span></span><span> </span><span class="annot"><span class="annottext">ConstRef o
</span><a href="#local-6989586621680774234"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-266"></span><span>      </span><span class="annot"><span class="annottext">[Move' (RefInfo o) (Exp o)] -&gt; IO [Move' (RefInfo o) (Exp o)]
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">([Move' (RefInfo o) (Exp o)] -&gt; IO [Move' (RefInfo o) (Exp o)])
-&gt; [Move' (RefInfo o) (Exp o)] -&gt; IO [Move' (RefInfo o) (Exp o)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ConstDef o -&gt; DeclCont o
forall o. ConstDef o -&gt; DeclCont o
</span><a href="Agda.Auto.Syntax.html#cdcont"><span class="hs-identifier hs-var">cdcont</span></a></span><span> </span><span class="annot"><span class="annottext">ConstDef o
</span><a href="#local-6989586621680774233"><span class="hs-identifier hs-var">cd</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-267"></span><span>
</span><span id="line-268"></span><span>       </span><span class="annot"><a href="Agda.Auto.Syntax.html#Datatype"><span class="hs-identifier hs-type">Datatype</span></a></span><span> </span><span id="local-6989586621680774229"><span class="annot"><span class="annottext">[ConstRef o]
</span><a href="#local-6989586621680774229"><span class="hs-identifier hs-var">cons</span></a></span></span><span> </span><span class="annot"><span class="annottext">[ConstRef o]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">EqReasoningState
</span><a href="#local-6989586621680774290"><span class="hs-identifier hs-var">eqrstate</span></a></span><span> </span><span class="annot"><span class="annottext">EqReasoningState -&gt; EqReasoningState -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">EqReasoningState
</span><a href="Agda.Auto.Syntax.html#EqRSNone"><span class="hs-identifier hs-var">EqRSNone</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-269"></span><span>         </span><span class="annot"><span class="annottext">(ConstRef o -&gt; Move' (RefInfo o) (Exp o))
-&gt; [ConstRef o] -&gt; [Move' (RefInfo o) (Exp o)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621680774228"><span class="annot"><span class="annottext">ConstRef o
</span><a href="#local-6989586621680774228"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Cost
-&gt; RefCreateEnv (RefInfo o) (Exp o) -&gt; Move' (RefInfo o) (Exp o)
forall blk a. Cost -&gt; RefCreateEnv blk a -&gt; Move' blk a
</span><a href="Agda.Auto.NarrowingSearch.html#Move"><span class="hs-identifier hs-var">Move</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Cost -&gt; Cost
</span><a href="#local-6989586621680774276"><span class="hs-identifier hs-var">adjustCost</span></a></span><span> </span><span class="annot"><span class="annottext">(Cost -&gt; Cost) -&gt; Cost -&gt; Cost
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe Bool
</span><a href="#local-6989586621680774293"><span class="hs-identifier hs-var">iotastep</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-270"></span><span>                                         </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Cost
</span><a href="Agda.Auto.SearchControl.html#costUnification"><span class="hs-identifier hs-var">costUnification</span></a></span><span>
</span><span id="line-271"></span><span>                                         </span><span class="annot"><span class="annottext">Maybe Bool
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">[ConstRef o] -&gt; Nat
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Nat
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[ConstRef o]
</span><a href="#local-6989586621680774229"><span class="hs-identifier hs-var">cons</span></a></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Nat -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">1</span></span><span>
</span><span id="line-272"></span><span>                                              </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Cost
</span><a href="Agda.Auto.SearchControl.html#costAppConstructorSingle"><span class="hs-identifier hs-var">costAppConstructorSingle</span></a></span><span>
</span><span id="line-273"></span><span>                                              </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Cost
</span><a href="Agda.Auto.SearchControl.html#costAppConstructor"><span class="hs-identifier hs-var">costAppConstructor</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-274"></span><span>                         </span><span class="annot"><span class="annottext">(RefCreateEnv (RefInfo o) (Exp o) -&gt; Move' (RefInfo o) (Exp o))
-&gt; RefCreateEnv (RefInfo o) (Exp o) -&gt; Move' (RefInfo o) (Exp o)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Nat
-&gt; Metavar (Exp o) (RefInfo o)
-&gt; Maybe (Metavar (Exp o) (RefInfo o))
-&gt; Elr o
-&gt; RefCreateEnv (RefInfo o) (Exp o)
</span><a href="#local-6989586621680774264"><span class="hs-identifier hs-var">app</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774301"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Metavar (Exp o) (RefInfo o)
</span><a href="#local-6989586621680774308"><span class="hs-identifier hs-var">meta</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Metavar (Exp o) (RefInfo o))
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ConstRef o -&gt; Elr o
forall o. ConstRef o -&gt; Elr o
</span><a href="Agda.Auto.Syntax.html#Const"><span class="hs-identifier hs-var">Const</span></a></span><span> </span><span class="annot"><span class="annottext">ConstRef o
</span><a href="#local-6989586621680774228"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[ConstRef o]
</span><a href="#local-6989586621680774229"><span class="hs-identifier hs-var">cons</span></a></span><span>
</span><span id="line-275"></span><span>         </span><span class="annot"><span class="annottext">[Move' (RefInfo o) (Exp o)]
-&gt; [Move' (RefInfo o) (Exp o)] -&gt; [Move' (RefInfo o) (Exp o)]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[Move' (RefInfo o) (Exp o)]
</span><a href="#local-6989586621680774249"><span class="hs-identifier hs-var">generics</span></a></span><span>
</span><span id="line-276"></span><span>         </span><span class="annot"><span class="annottext">[Move' (RefInfo o) (Exp o)]
-&gt; [Move' (RefInfo o) (Exp o)] -&gt; [Move' (RefInfo o) (Exp o)]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; [()]
forall (f :: * -&gt; *). Alternative f =&gt; Bool -&gt; f ()
</span><span class="hs-identifier hs-var">guard</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
-&gt; (EqReasoningConsts o -&gt; Bool)
-&gt; Maybe (EqReasoningConsts o)
-&gt; Bool
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><span class="hs-identifier hs-var">maybe</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">ConstRef o
</span><a href="#local-6989586621680774234"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">ConstRef o -&gt; ConstRef o -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(ConstRef o -&gt; Bool)
-&gt; (EqReasoningConsts o -&gt; ConstRef o)
-&gt; EqReasoningConsts o
-&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">EqReasoningConsts o -&gt; ConstRef o
forall o. EqReasoningConsts o -&gt; ConstRef o
</span><a href="Agda.Auto.Syntax.html#eqrcId"><span class="hs-identifier hs-var">eqrcId</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe (EqReasoningConsts o)
</span><a href="#local-6989586621680774303"><span class="hs-identifier hs-var">meqr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-277"></span><span>            </span><span class="annot"><span class="annottext">[()] -&gt; [Move' (RefInfo o) (Exp o)] -&gt; [Move' (RefInfo o) (Exp o)]
forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f b
</span><span class="hs-operator hs-var">*&gt;</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Move' (RefInfo o) (Exp o)
</span><a href="#local-6989586621680774278"><span class="hs-identifier hs-var">eq_sym</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Move' (RefInfo o) (Exp o)
</span><a href="#local-6989586621680774279"><span class="hs-identifier hs-var">eq_cong</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Move' (RefInfo o) (Exp o)
</span><a href="#local-6989586621680774277"><span class="hs-identifier hs-var">eq_begin_step2</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-278"></span><span>
</span><span id="line-279"></span><span>       </span><span class="annot"><span class="annottext">DeclCont o
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">EqReasoningState
</span><a href="#local-6989586621680774290"><span class="hs-identifier hs-var">eqrstate</span></a></span><span> </span><span class="annot"><span class="annottext">EqReasoningState -&gt; EqReasoningState -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">EqReasoningState
</span><a href="Agda.Auto.Syntax.html#EqRSPrf1"><span class="hs-identifier hs-var">EqRSPrf1</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Move' (RefInfo o) (Exp o)]
</span><a href="#local-6989586621680774249"><span class="hs-identifier hs-var">generics</span></a></span><span> </span><span class="annot"><span class="annottext">[Move' (RefInfo o) (Exp o)]
-&gt; [Move' (RefInfo o) (Exp o)] -&gt; [Move' (RefInfo o) (Exp o)]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Move' (RefInfo o) (Exp o)
</span><a href="#local-6989586621680774278"><span class="hs-identifier hs-var">eq_sym</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Move' (RefInfo o) (Exp o)
</span><a href="#local-6989586621680774279"><span class="hs-identifier hs-var">eq_cong</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-280"></span><span>       </span><span class="annot"><span class="annottext">DeclCont o
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">EqReasoningState
</span><a href="#local-6989586621680774290"><span class="hs-identifier hs-var">eqrstate</span></a></span><span> </span><span class="annot"><span class="annottext">EqReasoningState -&gt; EqReasoningState -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">EqReasoningState
</span><a href="Agda.Auto.Syntax.html#EqRSPrf2"><span class="hs-identifier hs-var">EqRSPrf2</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Move' (RefInfo o) (Exp o)]
</span><a href="#local-6989586621680774249"><span class="hs-identifier hs-var">generics</span></a></span><span> </span><span class="annot"><span class="annottext">[Move' (RefInfo o) (Exp o)]
-&gt; [Move' (RefInfo o) (Exp o)] -&gt; [Move' (RefInfo o) (Exp o)]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Move' (RefInfo o) (Exp o)
</span><a href="#local-6989586621680774279"><span class="hs-identifier hs-var">eq_cong</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-281"></span><span>
</span><span id="line-282"></span><span>       </span><span class="annot"><span class="annottext">DeclCont o
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Move' (RefInfo o) (Exp o)]
</span><a href="#local-6989586621680774249"><span class="hs-identifier hs-var">generics</span></a></span><span>
</span><span id="line-283"></span><span>     </span><span class="annot"><span class="annottext">HNExp' o
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Move' (RefInfo o) (Exp o)] -&gt; IO [Move' (RefInfo o) (Exp o)]
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">[Move' (RefInfo o) (Exp o)]
</span><a href="#local-6989586621680774249"><span class="hs-identifier hs-var">generics</span></a></span><span>
</span><span id="line-284"></span><span>   </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Auto.Syntax.html#RIUnifInfo"><span class="hs-identifier hs-type">RIUnifInfo</span></a></span><span> </span><span id="local-6989586621680774220"><span class="annot"><span class="annottext">[CAction o]
</span><a href="#local-6989586621680774220"><span class="hs-identifier hs-var">cl</span></a></span></span><span> </span><span id="local-6989586621680774219"><span class="annot"><span class="annottext">HNExp o
</span><a href="#local-6989586621680774219"><span class="hs-identifier hs-var">hne</span></a></span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><span class="annottext">[RefInfo o]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-285"></span><span>    </span><span class="hs-keyword">let</span><span>
</span><span id="line-286"></span><span>     </span><span id="local-6989586621680774218"><span class="annot"><span class="annottext">subsvarapps :: [Move' (RefInfo o) (Exp o)]
</span><a href="#local-6989586621680774218"><span class="hs-identifier hs-var hs-var">subsvarapps</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Nat -&gt; Move' (RefInfo o) (Exp o))
-&gt; [Nat] -&gt; [Move' (RefInfo o) (Exp o)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Cost
-&gt; RefCreateEnv (RefInfo o) (Exp o) -&gt; Move' (RefInfo o) (Exp o)
forall blk a. Cost -&gt; RefCreateEnv blk a -&gt; Move' blk a
</span><a href="Agda.Auto.NarrowingSearch.html#Move"><span class="hs-identifier hs-var">Move</span></a></span><span> </span><span class="annot"><span class="annottext">Cost
</span><a href="Agda.Auto.SearchControl.html#costUnification"><span class="hs-identifier hs-var">costUnification</span></a></span><span> </span><span class="annot"><span class="annottext">(RefCreateEnv (RefInfo o) (Exp o) -&gt; Move' (RefInfo o) (Exp o))
-&gt; (Nat -&gt; RefCreateEnv (RefInfo o) (Exp o))
-&gt; Nat
-&gt; Move' (RefInfo o) (Exp o)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Nat
-&gt; Metavar (Exp o) (RefInfo o)
-&gt; Maybe (Metavar (Exp o) (RefInfo o))
-&gt; Elr o
-&gt; RefCreateEnv (RefInfo o) (Exp o)
</span><a href="#local-6989586621680774264"><span class="hs-identifier hs-var">app</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774301"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Metavar (Exp o) (RefInfo o)
</span><a href="#local-6989586621680774308"><span class="hs-identifier hs-var">meta</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Metavar (Exp o) (RefInfo o))
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">(Elr o -&gt; RefCreateEnv (RefInfo o) (Exp o))
-&gt; (Nat -&gt; Elr o) -&gt; Nat -&gt; RefCreateEnv (RefInfo o) (Exp o)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Elr o
forall o. Nat -&gt; Elr o
</span><a href="Agda.Auto.Syntax.html#Var"><span class="hs-identifier hs-var">Var</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[CAction o] -&gt; [Nat]
forall o. [CAction o] -&gt; [Nat]
</span><a href="Agda.Auto.SearchControl.html#subsvars"><span class="hs-identifier hs-var">subsvars</span></a></span><span> </span><span class="annot"><span class="annottext">[CAction o]
</span><a href="#local-6989586621680774220"><span class="hs-identifier hs-var">cl</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-287"></span><span>     </span><span id="local-6989586621680774217"><span class="annot"><span class="annottext">mlam :: [Move' (RefInfo o) (Exp o)]
</span><a href="#local-6989586621680774217"><span class="hs-identifier hs-var hs-var">mlam</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">HNExp o -&gt; HNExp' o
forall a o. WithSeenUIds a o -&gt; a
</span><a href="Agda.Auto.Syntax.html#rawValue"><span class="hs-identifier hs-var">rawValue</span></a></span><span> </span><span class="annot"><span class="annottext">HNExp o
</span><a href="#local-6989586621680774300"><span class="hs-identifier hs-var">tt</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-288"></span><span>      </span><span class="annot"><a href="Agda.Auto.Syntax.html#HNPi"><span class="hs-identifier hs-type">HNPi</span></a></span><span> </span><span id="local-6989586621680774216"><span class="annot"><span class="annottext">Hiding
</span><a href="#local-6989586621680774216"><span class="hs-identifier hs-var">hid</span></a></span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">ICExp o
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Auto.Syntax.html#Abs"><span class="hs-identifier hs-type">Abs</span></a></span><span> </span><span id="local-6989586621680774215"><span class="annot"><span class="annottext">MId
</span><a href="#local-6989586621680774215"><span class="hs-identifier hs-var">id</span></a></span></span><span> </span><span class="annot"><span class="annottext">ICExp o
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Cost
-&gt; RefCreateEnv (RefInfo o) (Exp o) -&gt; Move' (RefInfo o) (Exp o)
forall blk a. Cost -&gt; RefCreateEnv blk a -&gt; Move' blk a
</span><a href="Agda.Auto.NarrowingSearch.html#Move"><span class="hs-identifier hs-var">Move</span></a></span><span> </span><span class="annot"><span class="annottext">Cost
</span><a href="Agda.Auto.SearchControl.html#costUnification"><span class="hs-identifier hs-var">costUnification</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Hiding -&gt; MId -&gt; RefCreateEnv (RefInfo o) (Exp o)
forall o. Hiding -&gt; MId -&gt; RefCreateEnv (RefInfo o) (Exp o)
</span><a href="Agda.Auto.SearchControl.html#newLam"><span class="hs-identifier hs-var">newLam</span></a></span><span> </span><span class="annot"><span class="annottext">Hiding
</span><a href="#local-6989586621680774216"><span class="hs-identifier hs-var">hid</span></a></span><span> </span><span class="annot"><span class="annottext">MId
</span><a href="#local-6989586621680774215"><span class="hs-identifier hs-var">id</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-289"></span><span>      </span><span class="annot"><span class="annottext">HNExp' o
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-290"></span><span>     </span><span id="local-6989586621680774214"><span class="annot"><span class="annottext">generics :: [Move' (RefInfo o) (Exp o)]
</span><a href="#local-6989586621680774214"><span class="hs-identifier hs-var hs-var">generics</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Move' (RefInfo o) (Exp o)]
</span><a href="#local-6989586621680774217"><span class="hs-identifier hs-var">mlam</span></a></span><span> </span><span class="annot"><span class="annottext">[Move' (RefInfo o) (Exp o)]
-&gt; [Move' (RefInfo o) (Exp o)] -&gt; [Move' (RefInfo o) (Exp o)]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[Move' (RefInfo o) (Exp o)]
</span><a href="#local-6989586621680774218"><span class="hs-identifier hs-var">subsvarapps</span></a></span><span>
</span><span id="line-291"></span><span>
</span><span id="line-292"></span><span>    </span><span class="hs-keyword">in</span><span>
</span><span id="line-293"></span><span>     </span><span class="annot"><span class="annottext">[Move' (RefInfo o) (Exp o)] -&gt; IO [Move' (RefInfo o) (Exp o)]
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">([Move' (RefInfo o) (Exp o)] -&gt; IO [Move' (RefInfo o) (Exp o)])
-&gt; [Move' (RefInfo o) (Exp o)] -&gt; IO [Move' (RefInfo o) (Exp o)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">HNExp o -&gt; HNExp' o
forall a o. WithSeenUIds a o -&gt; a
</span><a href="Agda.Auto.Syntax.html#rawValue"><span class="hs-identifier hs-var">rawValue</span></a></span><span> </span><span class="annot"><span class="annottext">HNExp o
</span><a href="#local-6989586621680774219"><span class="hs-identifier hs-var">hne</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-294"></span><span>      </span><span class="annot"><a href="Agda.Auto.Syntax.html#HNApp"><span class="hs-identifier hs-type">HNApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Auto.Syntax.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span id="local-6989586621680774213"><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774213"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ICArgList o
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-295"></span><span>       </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680774212"><span class="annot"><span class="annottext">Maybe (Metavar (Exp o) (RefInfo o))
</span><a href="#local-6989586621680774212"><span class="hs-identifier hs-var">uid</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680774211"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680774211"><span class="hs-identifier hs-var">isunique</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Metavar (Exp o) (RefInfo o)]
-&gt; [Maybe (Metavar (Exp o) (RefInfo o))]
-&gt; (Maybe (Metavar (Exp o) (RefInfo o)), Bool)
forall o. [UId o] -&gt; [Maybe (UId o)] -&gt; (Maybe (UId o), Bool)
</span><a href="Agda.Auto.SearchControl.html#pickUid"><span class="hs-identifier hs-var">pickUid</span></a></span><span> </span><span class="annot"><span class="annottext">[Metavar (Exp o) (RefInfo o)]
</span><a href="#local-6989586621680774295"><span class="hs-identifier hs-var">uids</span></a></span><span> </span><span class="annot"><span class="annottext">([Maybe (Metavar (Exp o) (RefInfo o))]
 -&gt; (Maybe (Metavar (Exp o) (RefInfo o)), Bool))
-&gt; [Maybe (Metavar (Exp o) (RefInfo o))]
-&gt; (Maybe (Metavar (Exp o) (RefInfo o)), Bool)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HNExp o -&gt; [Maybe (Metavar (Exp o) (RefInfo o))]
forall a o. WithSeenUIds a o -&gt; [Maybe (UId o)]
</span><a href="Agda.Auto.Syntax.html#seenUIds"><span class="hs-identifier hs-var">seenUIds</span></a></span><span> </span><span class="annot"><span class="annottext">HNExp o
</span><a href="#local-6989586621680774219"><span class="hs-identifier hs-var">hne</span></a></span><span>
</span><span id="line-296"></span><span>           </span><span id="local-6989586621680774209"><span class="annot"><span class="annottext">uni :: [Move' (RefInfo o) (Exp o)]
</span><a href="#local-6989586621680774209"><span class="hs-identifier hs-var hs-var">uni</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">[CAction o] -&gt; Nat -&gt; Maybe Nat
forall o. [CAction o] -&gt; Nat -&gt; Maybe Nat
</span><a href="Agda.Auto.SearchControl.html#univar"><span class="hs-identifier hs-var">univar</span></a></span><span> </span><span class="annot"><span class="annottext">[CAction o]
</span><a href="#local-6989586621680774220"><span class="hs-identifier hs-var">cl</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774213"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-297"></span><span>                  </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621680774208"><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774208"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774208"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Nat -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774301"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Cost
-&gt; RefCreateEnv (RefInfo o) (Exp o) -&gt; Move' (RefInfo o) (Exp o)
forall blk a. Cost -&gt; RefCreateEnv blk a -&gt; Move' blk a
</span><a href="Agda.Auto.NarrowingSearch.html#Move"><span class="hs-identifier hs-var">Move</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Cost
</span><a href="Agda.Auto.SearchControl.html#costUnificationIf"><span class="hs-identifier hs-var">costUnificationIf</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680774211"><span class="hs-identifier hs-var">isunique</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(RefCreateEnv (RefInfo o) (Exp o) -&gt; Move' (RefInfo o) (Exp o))
-&gt; RefCreateEnv (RefInfo o) (Exp o) -&gt; Move' (RefInfo o) (Exp o)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Nat
-&gt; Metavar (Exp o) (RefInfo o)
-&gt; Maybe (Metavar (Exp o) (RefInfo o))
-&gt; Elr o
-&gt; RefCreateEnv (RefInfo o) (Exp o)
</span><a href="#local-6989586621680774264"><span class="hs-identifier hs-var">app</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774301"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Metavar (Exp o) (RefInfo o)
</span><a href="#local-6989586621680774308"><span class="hs-identifier hs-var">meta</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Metavar (Exp o) (RefInfo o))
</span><a href="#local-6989586621680774212"><span class="hs-identifier hs-var">uid</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Nat -&gt; Elr o
forall o. Nat -&gt; Elr o
</span><a href="Agda.Auto.Syntax.html#Var"><span class="hs-identifier hs-var">Var</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774208"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-298"></span><span>                  </span><span class="annot"><span class="annottext">Maybe Nat
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-299"></span><span>       </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">[Move' (RefInfo o) (Exp o)]
</span><a href="#local-6989586621680774209"><span class="hs-identifier hs-var">uni</span></a></span><span> </span><span class="annot"><span class="annottext">[Move' (RefInfo o) (Exp o)]
-&gt; [Move' (RefInfo o) (Exp o)] -&gt; [Move' (RefInfo o) (Exp o)]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[Move' (RefInfo o) (Exp o)]
</span><a href="#local-6989586621680774214"><span class="hs-identifier hs-var">generics</span></a></span><span>
</span><span id="line-300"></span><span>      </span><span class="annot"><a href="Agda.Auto.Syntax.html#HNApp"><span class="hs-identifier hs-type">HNApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Auto.Syntax.html#Const"><span class="hs-identifier hs-type">Const</span></a></span><span> </span><span id="local-6989586621680774206"><span class="annot"><span class="annottext">ConstRef o
</span><a href="#local-6989586621680774206"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ICArgList o
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-301"></span><span>       </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680774205"><span class="annot"><span class="annottext">Maybe (Metavar (Exp o) (RefInfo o))
</span><a href="#local-6989586621680774205"><span class="hs-identifier hs-var">uid</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680774204"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680774204"><span class="hs-identifier hs-var">isunique</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Metavar (Exp o) (RefInfo o)]
-&gt; [Maybe (Metavar (Exp o) (RefInfo o))]
-&gt; (Maybe (Metavar (Exp o) (RefInfo o)), Bool)
forall o. [UId o] -&gt; [Maybe (UId o)] -&gt; (Maybe (UId o), Bool)
</span><a href="Agda.Auto.SearchControl.html#pickUid"><span class="hs-identifier hs-var">pickUid</span></a></span><span> </span><span class="annot"><span class="annottext">[Metavar (Exp o) (RefInfo o)]
</span><a href="#local-6989586621680774295"><span class="hs-identifier hs-var">uids</span></a></span><span> </span><span class="annot"><span class="annottext">([Maybe (Metavar (Exp o) (RefInfo o))]
 -&gt; (Maybe (Metavar (Exp o) (RefInfo o)), Bool))
-&gt; [Maybe (Metavar (Exp o) (RefInfo o))]
-&gt; (Maybe (Metavar (Exp o) (RefInfo o)), Bool)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HNExp o -&gt; [Maybe (Metavar (Exp o) (RefInfo o))]
forall a o. WithSeenUIds a o -&gt; [Maybe (UId o)]
</span><a href="Agda.Auto.Syntax.html#seenUIds"><span class="hs-identifier hs-var">seenUIds</span></a></span><span> </span><span class="annot"><span class="annottext">HNExp o
</span><a href="#local-6989586621680774219"><span class="hs-identifier hs-var">hne</span></a></span><span>
</span><span id="line-302"></span><span>       </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">Cost
-&gt; RefCreateEnv (RefInfo o) (Exp o) -&gt; Move' (RefInfo o) (Exp o)
forall blk a. Cost -&gt; RefCreateEnv blk a -&gt; Move' blk a
</span><a href="Agda.Auto.NarrowingSearch.html#Move"><span class="hs-identifier hs-var">Move</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Cost
</span><a href="Agda.Auto.SearchControl.html#costUnificationIf"><span class="hs-identifier hs-var">costUnificationIf</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680774204"><span class="hs-identifier hs-var">isunique</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Nat
-&gt; Metavar (Exp o) (RefInfo o)
-&gt; Maybe (Metavar (Exp o) (RefInfo o))
-&gt; Elr o
-&gt; RefCreateEnv (RefInfo o) (Exp o)
</span><a href="#local-6989586621680774264"><span class="hs-identifier hs-var">app</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774301"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Metavar (Exp o) (RefInfo o)
</span><a href="#local-6989586621680774308"><span class="hs-identifier hs-var">meta</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Metavar (Exp o) (RefInfo o))
</span><a href="#local-6989586621680774205"><span class="hs-identifier hs-var">uid</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ConstRef o -&gt; Elr o
forall o. ConstRef o -&gt; Elr o
</span><a href="Agda.Auto.Syntax.html#Const"><span class="hs-identifier hs-var">Const</span></a></span><span> </span><span class="annot"><span class="annottext">ConstRef o
</span><a href="#local-6989586621680774206"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Move' (RefInfo o) (Exp o)
-&gt; [Move' (RefInfo o) (Exp o)] -&gt; [Move' (RefInfo o) (Exp o)]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[Move' (RefInfo o) (Exp o)]
</span><a href="#local-6989586621680774214"><span class="hs-identifier hs-var">generics</span></a></span><span>
</span><span id="line-303"></span><span>      </span><span class="annot"><a href="Agda.Auto.Syntax.html#HNLam"><span class="hs-identifier hs-type">HNLam</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Move' (RefInfo o) (Exp o)]
</span><a href="#local-6989586621680774214"><span class="hs-identifier hs-var">generics</span></a></span><span>
</span><span id="line-304"></span><span>      </span><span class="annot"><a href="Agda.Auto.Syntax.html#HNPi"><span class="hs-identifier hs-type">HNPi</span></a></span><span> </span><span id="local-6989586621680774202"><span class="annot"><span class="annottext">Hiding
</span><a href="#local-6989586621680774202"><span class="hs-identifier hs-var">hid</span></a></span></span><span> </span><span id="local-6989586621680774201"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680774201"><span class="hs-identifier hs-var">possdep</span></a></span></span><span> </span><span class="annot"><span class="annottext">ICExp o
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Abs (ICExp o)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-305"></span><span>       </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680774200"><span class="annot"><span class="annottext">Maybe (Metavar (Exp o) (RefInfo o))
</span><a href="#local-6989586621680774200"><span class="hs-identifier hs-var">uid</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680774199"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680774199"><span class="hs-identifier hs-var">isunique</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Metavar (Exp o) (RefInfo o)]
-&gt; [Maybe (Metavar (Exp o) (RefInfo o))]
-&gt; (Maybe (Metavar (Exp o) (RefInfo o)), Bool)
forall o. [UId o] -&gt; [Maybe (UId o)] -&gt; (Maybe (UId o), Bool)
</span><a href="Agda.Auto.SearchControl.html#pickUid"><span class="hs-identifier hs-var">pickUid</span></a></span><span> </span><span class="annot"><span class="annottext">[Metavar (Exp o) (RefInfo o)]
</span><a href="#local-6989586621680774295"><span class="hs-identifier hs-var">uids</span></a></span><span> </span><span class="annot"><span class="annottext">([Maybe (Metavar (Exp o) (RefInfo o))]
 -&gt; (Maybe (Metavar (Exp o) (RefInfo o)), Bool))
-&gt; [Maybe (Metavar (Exp o) (RefInfo o))]
-&gt; (Maybe (Metavar (Exp o) (RefInfo o)), Bool)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HNExp o -&gt; [Maybe (Metavar (Exp o) (RefInfo o))]
forall a o. WithSeenUIds a o -&gt; [Maybe (UId o)]
</span><a href="Agda.Auto.Syntax.html#seenUIds"><span class="hs-identifier hs-var">seenUIds</span></a></span><span> </span><span class="annot"><span class="annottext">HNExp o
</span><a href="#local-6989586621680774219"><span class="hs-identifier hs-var">hne</span></a></span><span>
</span><span id="line-306"></span><span>       </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">Cost
-&gt; RefCreateEnv (RefInfo o) (Exp o) -&gt; Move' (RefInfo o) (Exp o)
forall blk a. Cost -&gt; RefCreateEnv blk a -&gt; Move' blk a
</span><a href="Agda.Auto.NarrowingSearch.html#Move"><span class="hs-identifier hs-var">Move</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Cost
</span><a href="Agda.Auto.SearchControl.html#costUnificationIf"><span class="hs-identifier hs-var">costUnificationIf</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680774199"><span class="hs-identifier hs-var">isunique</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Metavar (Exp o) (RefInfo o)
-&gt; Bool -&gt; Hiding -&gt; RefCreateEnv (RefInfo o) (Exp o)
forall o.
UId o -&gt; Bool -&gt; Hiding -&gt; RefCreateEnv (RefInfo o) (Exp o)
</span><a href="Agda.Auto.SearchControl.html#newPi"><span class="hs-identifier hs-var">newPi</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Metavar (Exp o) (RefInfo o)
-&gt; Maybe (Metavar (Exp o) (RefInfo o))
-&gt; Metavar (Exp o) (RefInfo o)
forall a. a -&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromMaybe</span></span><span> </span><span class="annot"><span class="annottext">Metavar (Exp o) (RefInfo o)
</span><a href="#local-6989586621680774308"><span class="hs-identifier hs-var">meta</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Metavar (Exp o) (RefInfo o))
</span><a href="#local-6989586621680774200"><span class="hs-identifier hs-var">uid</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680774201"><span class="hs-identifier hs-var">possdep</span></a></span><span> </span><span class="annot"><span class="annottext">Hiding
</span><a href="#local-6989586621680774202"><span class="hs-identifier hs-var">hid</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Move' (RefInfo o) (Exp o)
-&gt; [Move' (RefInfo o) (Exp o)] -&gt; [Move' (RefInfo o) (Exp o)]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[Move' (RefInfo o) (Exp o)]
</span><a href="#local-6989586621680774214"><span class="hs-identifier hs-var">generics</span></a></span><span>
</span><span id="line-307"></span><span>      </span><span class="annot"><a href="Agda.Auto.Syntax.html#HNSort"><span class="hs-identifier hs-type">HNSort</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Auto.Syntax.html#Set"><span class="hs-identifier hs-type">Set</span></a></span><span> </span><span id="local-6989586621680774198"><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774198"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Nat -&gt; Move' (RefInfo o) (Exp o))
-&gt; [Nat] -&gt; [Move' (RefInfo o) (Exp o)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Cost
-&gt; RefCreateEnv (RefInfo o) (Exp o) -&gt; Move' (RefInfo o) (Exp o)
forall blk a. Cost -&gt; RefCreateEnv blk a -&gt; Move' blk a
</span><a href="Agda.Auto.NarrowingSearch.html#Move"><span class="hs-identifier hs-var">Move</span></a></span><span> </span><span class="annot"><span class="annottext">Cost
</span><a href="Agda.Auto.SearchControl.html#costUnification"><span class="hs-identifier hs-var">costUnification</span></a></span><span> </span><span class="annot"><span class="annottext">(RefCreateEnv (RefInfo o) (Exp o) -&gt; Move' (RefInfo o) (Exp o))
-&gt; (Nat -&gt; RefCreateEnv (RefInfo o) (Exp o))
-&gt; Nat
-&gt; Move' (RefInfo o) (Exp o)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; RefCreateEnv (RefInfo o) (Exp o)
forall {m :: * -&gt; *} {o}. Monad m =&gt; Nat -&gt; m (Exp o)
</span><a href="#local-6989586621680774286"><span class="hs-identifier hs-var">set</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">0</span></span><span class="hs-glyph">..</span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774198"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">[Move' (RefInfo o) (Exp o)]
-&gt; [Move' (RefInfo o) (Exp o)] -&gt; [Move' (RefInfo o) (Exp o)]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[Move' (RefInfo o) (Exp o)]
</span><a href="#local-6989586621680774214"><span class="hs-identifier hs-var">generics</span></a></span><span>
</span><span id="line-308"></span><span>      </span><span class="annot"><a href="Agda.Auto.Syntax.html#HNSort"><span class="hs-identifier hs-type">HNSort</span></a></span><span> </span><span class="annot"><span class="annottext">Sort
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Move' (RefInfo o) (Exp o)]
</span><a href="#local-6989586621680774214"><span class="hs-identifier hs-var">generics</span></a></span><span>
</span><span id="line-309"></span><span>   </span><span class="annot"><span class="annottext">[RefInfo o]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">IO [Move' (RefInfo o) (Exp o)]
forall a. HasCallStack =&gt; a
</span><a href="Agda.Utils.Impossible.html#__IMPOSSIBLE__"><span class="hs-identifier hs-var">__IMPOSSIBLE__</span></a></span><span>
</span><span id="line-310"></span><span>
</span><span id="line-311"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-312"></span><span>
</span><span id="line-313"></span><span>    </span><span class="annot"><a href="#local-6989586621680774264"><span class="hs-identifier hs-type">app</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Auto.Syntax.html#Nat"><span class="hs-identifier hs-type">Nat</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Auto.Syntax.html#UId"><span class="hs-identifier hs-type">UId</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774750"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Auto.Syntax.html#UId"><span class="hs-identifier hs-type">UId</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774750"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Auto.Syntax.html#Elr"><span class="hs-identifier hs-type">Elr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774750"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-314"></span><span>           </span><span class="annot"><a href="Agda.Auto.NarrowingSearch.html#RefCreateEnv"><span class="hs-identifier hs-type">RefCreateEnv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Auto.Syntax.html#RefInfo"><span class="hs-identifier hs-type">RefInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774750"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Auto.Syntax.html#Exp"><span class="hs-identifier hs-type">Exp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774750"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-315"></span><span>    </span><span id="local-6989586621680774264"><span class="annot"><span class="annottext">app :: Nat
-&gt; Metavar (Exp o) (RefInfo o)
-&gt; Maybe (Metavar (Exp o) (RefInfo o))
-&gt; Elr o
-&gt; RefCreateEnv (RefInfo o) (Exp o)
</span><a href="#local-6989586621680774264"><span class="hs-identifier hs-var hs-var">app</span></a></span></span><span> </span><span id="local-6989586621680774197"><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774197"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621680774196"><span class="annot"><span class="annottext">Metavar (Exp o) (RefInfo o)
</span><a href="#local-6989586621680774196"><span class="hs-identifier hs-var">meta</span></a></span></span><span> </span><span id="local-6989586621680774195"><span class="annot"><span class="annottext">Maybe (Metavar (Exp o) (RefInfo o))
</span><a href="#local-6989586621680774195"><span class="hs-identifier hs-var">muid</span></a></span></span><span> </span><span id="local-6989586621680774194"><span class="annot"><span class="annottext">Elr o
</span><a href="#local-6989586621680774194"><span class="hs-identifier hs-var">elr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-316"></span><span>      </span><span id="local-6989586621680774193"><span class="annot"><span class="annottext">MM (ArgList o) (RefInfo o)
</span><a href="#local-6989586621680774193"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">RefCreateEnv (RefInfo o) (MM (ArgList o) (RefInfo o))
forall blk a. RefCreateEnv blk (MM a blk)
</span><a href="Agda.Auto.NarrowingSearch.html#newPlaceholder"><span class="hs-identifier hs-var">newPlaceholder</span></a></span><span>
</span><span id="line-317"></span><span>      </span><span id="local-6989586621680774192"><span class="annot"><span class="annottext">MM (ArgList o) (RefInfo o)
</span><a href="#local-6989586621680774192"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Elr o
</span><a href="#local-6989586621680774194"><span class="hs-identifier hs-var">elr</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-318"></span><span>        </span><span class="annot"><a href="Agda.Auto.Syntax.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MM (ArgList o) (RefInfo o)
-&gt; RefCreateEnv (RefInfo o) (MM (ArgList o) (RefInfo o))
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">MM (ArgList o) (RefInfo o)
</span><a href="#local-6989586621680774193"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-319"></span><span>        </span><span class="annot"><a href="Agda.Auto.Syntax.html#Const"><span class="hs-identifier hs-type">Const</span></a></span><span> </span><span id="local-6989586621680774191"><span class="annot"><span class="annottext">ConstRef o
</span><a href="#local-6989586621680774191"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-320"></span><span>          </span><span id="local-6989586621680774190"><span class="annot"><span class="annottext">ConstDef o
</span><a href="#local-6989586621680774190"><span class="hs-identifier hs-var">cd</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">StateT (IORef [SubConstraints (RefInfo o)], Nat) IO (ConstDef o)
-&gt; RefCreateEnv (RefInfo o) (ConstDef o)
forall blk a.
StateT (IORef [SubConstraints blk], Nat) IO a -&gt; RefCreateEnv blk a
</span><a href="Agda.Auto.NarrowingSearch.html#RefCreateEnv"><span class="hs-identifier hs-var">RefCreateEnv</span></a></span><span> </span><span class="annot"><span class="annottext">(StateT (IORef [SubConstraints (RefInfo o)], Nat) IO (ConstDef o)
 -&gt; RefCreateEnv (RefInfo o) (ConstDef o))
-&gt; StateT (IORef [SubConstraints (RefInfo o)], Nat) IO (ConstDef o)
-&gt; RefCreateEnv (RefInfo o) (ConstDef o)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">IO (ConstDef o)
-&gt; StateT (IORef [SubConstraints (RefInfo o)], Nat) IO (ConstDef o)
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><span class="hs-identifier hs-var">lift</span></span><span> </span><span class="annot"><span class="annottext">(IO (ConstDef o)
 -&gt; StateT
      (IORef [SubConstraints (RefInfo o)], Nat) IO (ConstDef o))
-&gt; IO (ConstDef o)
-&gt; StateT (IORef [SubConstraints (RefInfo o)], Nat) IO (ConstDef o)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ConstRef o -&gt; IO (ConstDef o)
forall a. IORef a -&gt; IO a
</span><span class="hs-identifier hs-var">readIORef</span></span><span> </span><span class="annot"><span class="annottext">ConstRef o
</span><a href="#local-6989586621680774191"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-321"></span><span>          </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680774187"><span class="annot"><span class="annottext">dfvapp :: Nat -&gt; Nat -&gt; MM (ArgList o) (RefInfo o)
</span><a href="#local-6989586621680774187"><span class="hs-identifier hs-var hs-var">dfvapp</span></a></span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MM (ArgList o) (RefInfo o)
</span><a href="#local-6989586621680774193"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-322"></span><span>              </span><span class="annot"><a href="#local-6989586621680774187"><span class="hs-identifier hs-var">dfvapp</span></a></span><span> </span><span id="local-6989586621680774186"><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774186"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621680774185"><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774185"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ArgList o -&gt; MM (ArgList o) (RefInfo o)
forall a blk. a -&gt; MM a blk
</span><a href="Agda.Auto.NarrowingSearch.html#NotM"><span class="hs-identifier hs-var">NotM</span></a></span><span> </span><span class="annot"><span class="annottext">(ArgList o -&gt; MM (ArgList o) (RefInfo o))
-&gt; ArgList o -&gt; MM (ArgList o) (RefInfo o)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Hiding -&gt; MExp o -&gt; MM (ArgList o) (RefInfo o) -&gt; ArgList o
forall o. Hiding -&gt; MExp o -&gt; MArgList o -&gt; ArgList o
</span><a href="Agda.Auto.Syntax.html#ALCons"><span class="hs-identifier hs-var">ALCons</span></a></span><span> </span><span class="annot"><span class="annottext">Hiding
</span><a href="Agda.Syntax.Common.html#NotHidden"><span class="hs-identifier hs-var">NotHidden</span></a></span><span>
</span><span id="line-323"></span><span>                          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Exp o -&gt; MExp o
forall a blk. a -&gt; MM a blk
</span><a href="Agda.Auto.NarrowingSearch.html#NotM"><span class="hs-identifier hs-var">NotM</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp o -&gt; MExp o) -&gt; Exp o -&gt; MExp o
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Maybe (Metavar (Exp o) (RefInfo o))
-&gt; OKHandle (RefInfo o)
-&gt; Elr o
-&gt; MM (ArgList o) (RefInfo o)
-&gt; Exp o
forall o.
Maybe (UId o)
-&gt; OKHandle (RefInfo o) -&gt; Elr o -&gt; MArgList o -&gt; Exp o
</span><a href="Agda.Auto.Syntax.html#App"><span class="hs-identifier hs-var">App</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Metavar (Exp o) (RefInfo o))
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OKVal -&gt; OKHandle (RefInfo o)
forall a blk. a -&gt; MM a blk
</span><a href="Agda.Auto.NarrowingSearch.html#NotM"><span class="hs-identifier hs-var">NotM</span></a></span><span> </span><span class="annot"><span class="annottext">(OKVal -&gt; OKHandle (RefInfo o)) -&gt; OKVal -&gt; OKHandle (RefInfo o)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">OKVal
</span><a href="Agda.Auto.NarrowingSearch.html#OKVal"><span class="hs-identifier hs-var">OKVal</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Nat -&gt; Elr o
forall o. Nat -&gt; Elr o
</span><a href="Agda.Auto.Syntax.html#Var"><span class="hs-identifier hs-var">Var</span></a></span><span> </span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774185"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ArgList o -&gt; MM (ArgList o) (RefInfo o)
forall a blk. a -&gt; MM a blk
</span><a href="Agda.Auto.NarrowingSearch.html#NotM"><span class="hs-identifier hs-var">NotM</span></a></span><span> </span><span class="annot"><span class="annottext">ArgList o
forall o. ArgList o
</span><a href="Agda.Auto.Syntax.html#ALNil"><span class="hs-identifier hs-var">ALNil</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-324"></span><span>                          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Nat -&gt; Nat -&gt; MM (ArgList o) (RefInfo o)
</span><a href="#local-6989586621680774187"><span class="hs-identifier hs-var">dfvapp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774186"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Nat -&gt; Nat
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774185"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Nat -&gt; Nat
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-325"></span><span>         </span><span class="hs-comment">-- NotHidden is ok because agda reification throws these arguments</span><span>
</span><span id="line-326"></span><span>         </span><span class="hs-comment">-- away and agsy skips typechecking them</span><span>
</span><span id="line-327"></span><span>          </span><span class="annot"><span class="annottext">MM (ArgList o) (RefInfo o)
-&gt; RefCreateEnv (RefInfo o) (MM (ArgList o) (RefInfo o))
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(MM (ArgList o) (RefInfo o)
 -&gt; RefCreateEnv (RefInfo o) (MM (ArgList o) (RefInfo o)))
-&gt; MM (ArgList o) (RefInfo o)
-&gt; RefCreateEnv (RefInfo o) (MM (ArgList o) (RefInfo o))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Nat -&gt; MM (ArgList o) (RefInfo o)
</span><a href="#local-6989586621680774187"><span class="hs-identifier hs-var">dfvapp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ConstDef o -&gt; Nat
forall o. ConstDef o -&gt; Nat
</span><a href="Agda.Auto.Syntax.html#cddeffreevars"><span class="hs-identifier hs-var">cddeffreevars</span></a></span><span> </span><span class="annot"><span class="annottext">ConstDef o
</span><a href="#local-6989586621680774190"><span class="hs-identifier hs-var">cd</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Nat
</span><a href="#local-6989586621680774197"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Nat -&gt; Nat
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Nat
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-328"></span><span>      </span><span id="local-6989586621680774182"><span class="annot"><span class="annottext">OKHandle (RefInfo o)
</span><a href="#local-6989586621680774182"><span class="hs-identifier hs-var">okh</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">RefCreateEnv (RefInfo o) (OKHandle (RefInfo o))
forall blk. RefCreateEnv blk (OKHandle blk)
</span><a href="Agda.Auto.NarrowingSearch.html#newOKHandle"><span class="hs-identifier hs-var">newOKHandle</span></a></span><span>
</span><span id="line-329"></span><span>      </span><span class="annot"><span class="annottext">Exp o -&gt; RefCreateEnv (RefInfo o) (Exp o)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Exp o -&gt; RefCreateEnv (RefInfo o) (Exp o))
-&gt; Exp o -&gt; RefCreateEnv (RefInfo o) (Exp o)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Maybe (Metavar (Exp o) (RefInfo o))
-&gt; OKHandle (RefInfo o)
-&gt; Elr o
-&gt; MM (ArgList o) (RefInfo o)
-&gt; Exp o
forall o.
Maybe (UId o)
-&gt; OKHandle (RefInfo o) -&gt; Elr o -&gt; MArgList o -&gt; Exp o
</span><a href="Agda.Auto.Syntax.html#App"><span class="hs-identifier hs-var">App</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Metavar (Exp o) (RefInfo o) -&gt; Maybe (Metavar (Exp o) (RefInfo o))
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(Metavar (Exp o) (RefInfo o)
 -&gt; Maybe (Metavar (Exp o) (RefInfo o)))
-&gt; Metavar (Exp o) (RefInfo o)
-&gt; Maybe (Metavar (Exp o) (RefInfo o))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Metavar (Exp o) (RefInfo o)
-&gt; Maybe (Metavar (Exp o) (RefInfo o))
-&gt; Metavar (Exp o) (RefInfo o)
forall a. a -&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromMaybe</span></span><span> </span><span class="annot"><span class="annottext">Metavar (Exp o) (RefInfo o)
</span><a href="#local-6989586621680774196"><span class="hs-identifier hs-var">meta</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Metavar (Exp o) (RefInfo o))
</span><a href="#local-6989586621680774195"><span class="hs-identifier hs-var">muid</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">OKHandle (RefInfo o)
</span><a href="#local-6989586621680774182"><span class="hs-identifier hs-var">okh</span></a></span><span> </span><span class="annot"><span class="annottext">Elr o
</span><a href="#local-6989586621680774194"><span class="hs-identifier hs-var">elr</span></a></span><span> </span><span class="annot"><span class="annottext">MM (ArgList o) (RefInfo o)
</span><a href="#local-6989586621680774192"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-330"></span><span>
</span><span id="line-331"></span><span>
</span><span id="line-332"></span><span id="local-6989586621680774711"><span class="annot"><a href="Agda.Auto.SearchControl.html#extraref"><span class="hs-identifier hs-type">extraref</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Auto.Syntax.html#UId"><span class="hs-identifier hs-type">UId</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774711"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Auto.Syntax.html#UId"><span class="hs-identifier hs-type">UId</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774711"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Auto.Syntax.html#ConstRef"><span class="hs-identifier hs-type">ConstRef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774711"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Auto.SearchControl.html#Move"><span class="hs-identifier hs-type">Move</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774711"><span class="hs-identifier hs-type">o</span></a></span></span><span>
</span><span id="line-333"></span><span id="extraref"><span class="annot"><span class="annottext">extraref :: forall o. UId o -&gt; [Maybe (UId o)] -&gt; ConstRef o -&gt; Move o
</span><a href="Agda.Auto.SearchControl.html#extraref"><span class="hs-identifier hs-var hs-var">extraref</span></a></span></span><span> </span><span id="local-6989586621680774176"><span class="annot"><span class="annottext">UId o
</span><a href="#local-6989586621680774176"><span class="hs-identifier hs-var">meta</span></a></span></span><span> </span><span id="local-6989586621680774175"><span class="annot"><span class="annottext">[Maybe (UId o)]
</span><a href="#local-6989586621680774175"><span class="hs-identifier hs-var">seenuids</span></a></span></span><span> </span><span id="local-6989586621680774174"><span class="annot"><span class="annottext">ConstRef o
</span><a href="#local-6989586621680774174"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Cost
-&gt; RefCreateEnv (RefInfo o) (Exp o) -&gt; Move' (RefInfo o) (Exp o)
forall blk a. Cost -&gt; RefCreateEnv blk a -&gt; Move' blk a
</span><a href="Agda.Auto.NarrowingSearch.html#Move"><span class="hs-identifier hs-var">Move</span></a></span><span> </span><span class="annot"><span class="annottext">Cost
</span><a href="Agda.Auto.SearchControl.html#costAppExtraRef"><span class="hs-identifier hs-var">costAppExtraRef</span></a></span><span> </span><span class="annot"><span class="annottext">(RefCreateEnv (RefInfo o) (Exp o) -&gt; Move' (RefInfo o) (Exp o))
-&gt; RefCreateEnv (RefInfo o) (Exp o) -&gt; Move' (RefInfo o) (Exp o)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Maybe (UId o) -&gt; Elr o -&gt; RefCreateEnv (RefInfo o) (Exp o)
</span><a href="#local-6989586621680774172"><span class="hs-identifier hs-var">app</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Maybe (UId o)] -&gt; Maybe (UId o)
forall a. [a] -&gt; a
</span><span class="hs-identifier hs-var">head</span></span><span> </span><span class="annot"><span class="annottext">[Maybe (UId o)]
</span><a href="#local-6989586621680774175"><span class="hs-identifier hs-var">seenuids</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ConstRef o -&gt; Elr o
forall o. ConstRef o -&gt; Elr o
</span><a href="Agda.Auto.Syntax.html#Const"><span class="hs-identifier hs-var">Const</span></a></span><span> </span><span class="annot"><span class="annottext">ConstRef o
</span><a href="#local-6989586621680774174"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-334"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-335"></span><span>   </span><span id="local-6989586621680774172"><span class="annot"><span class="annottext">app :: Maybe (UId o) -&gt; Elr o -&gt; RefCreateEnv (RefInfo o) (Exp o)
</span><a href="#local-6989586621680774172"><span class="hs-identifier hs-var hs-var">app</span></a></span></span><span> </span><span id="local-6989586621680774171"><span class="annot"><span class="annottext">Maybe (UId o)
</span><a href="#local-6989586621680774171"><span class="hs-identifier hs-var">muid</span></a></span></span><span> </span><span id="local-6989586621680774170"><span class="annot"><span class="annottext">Elr o
</span><a href="#local-6989586621680774170"><span class="hs-identifier hs-var">elr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (UId o)
-&gt; OKHandle (RefInfo o) -&gt; Elr o -&gt; MArgList o -&gt; Exp o
forall o.
Maybe (UId o)
-&gt; OKHandle (RefInfo o) -&gt; Elr o -&gt; MArgList o -&gt; Exp o
</span><a href="Agda.Auto.Syntax.html#App"><span class="hs-identifier hs-var">App</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UId o -&gt; Maybe (UId o)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(UId o -&gt; Maybe (UId o)) -&gt; UId o -&gt; Maybe (UId o)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">UId o -&gt; Maybe (UId o) -&gt; UId o
forall a. a -&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromMaybe</span></span><span> </span><span class="annot"><span class="annottext">UId o
</span><a href="#local-6989586621680774176"><span class="hs-identifier hs-var">meta</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (UId o)
</span><a href="#local-6989586621680774171"><span class="hs-identifier hs-var">muid</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-336"></span><span>              </span><span class="annot"><span class="annottext">(OKHandle (RefInfo o) -&gt; Elr o -&gt; MArgList o -&gt; Exp o)
-&gt; RefCreateEnv (RefInfo o) (OKHandle (RefInfo o))
-&gt; RefCreateEnv (RefInfo o) (Elr o -&gt; MArgList o -&gt; Exp o)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">RefCreateEnv (RefInfo o) (OKHandle (RefInfo o))
forall blk. RefCreateEnv blk (OKHandle blk)
</span><a href="Agda.Auto.NarrowingSearch.html#newOKHandle"><span class="hs-identifier hs-var">newOKHandle</span></a></span><span> </span><span class="annot"><span class="annottext">RefCreateEnv (RefInfo o) (Elr o -&gt; MArgList o -&gt; Exp o)
-&gt; RefCreateEnv (RefInfo o) (Elr o)
-&gt; RefCreateEnv (RefInfo o) (MArgList o -&gt; Exp o)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Elr o -&gt; RefCreateEnv (RefInfo o) (Elr o)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">Elr o
</span><a href="#local-6989586621680774170"><span class="hs-identifier hs-var">elr</span></a></span><span> </span><span class="annot"><span class="annottext">RefCreateEnv (RefInfo o) (MArgList o -&gt; Exp o)
-&gt; RefCreateEnv (RefInfo o) (MArgList o)
-&gt; RefCreateEnv (RefInfo o) (Exp o)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">RefCreateEnv (RefInfo o) (MArgList o)
forall blk a. RefCreateEnv blk (MM a blk)
</span><a href="Agda.Auto.NarrowingSearch.html#newPlaceholder"><span class="hs-identifier hs-var">newPlaceholder</span></a></span><span>
</span><span id="line-337"></span><span>
</span><span id="line-338"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680774708"><span class="annot"><a href="Agda.Auto.NarrowingSearch.html#Refinable"><span class="hs-identifier hs-type">Refinable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Auto.Syntax.html#ICExp"><span class="hs-identifier hs-type">ICExp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774708"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Auto.Syntax.html#RefInfo"><span class="hs-identifier hs-type">RefInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774708"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-339"></span><span> </span><span id="local-6989586621680774164"><span class="annot"><span class="annottext">refinements :: RefInfo o
-&gt; [RefInfo o]
-&gt; Metavar (ICExp o) (RefInfo o)
-&gt; IO [Move' (RefInfo o) (ICExp o)]
</span><a href="#local-6989586621680774164"><span class="hs-identifier hs-var hs-var hs-var hs-var">refinements</span></a></span></span><span> </span><span class="annot"><span class="annottext">RefInfo o
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680774163"><span class="annot"><span class="annottext">[RefInfo o]
</span><a href="#local-6989586621680774163"><span class="hs-identifier hs-var">infos</span></a></span></span><span> </span><span class="annot"><span class="annottext">Metavar (ICExp o) (RefInfo o)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-340"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Auto.Syntax.html#RICopyInfo"><span class="hs-identifier hs-type">RICopyInfo</span></a></span><span> </span><span id="local-6989586621680774161"><span class="annot"><span class="annottext">ICExp o
</span><a href="#local-6989586621680774161"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><span class="annottext">[RefInfo o]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[RefInfo o]
</span><a href="#local-6989586621680774163"><span class="hs-identifier hs-var">infos</span></a></span><span>
</span><span id="line-341"></span><span>  </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">[Move' (RefInfo o) (ICExp o)] -&gt; IO [Move' (RefInfo o) (ICExp o)]
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Cost
-&gt; RefCreateEnv (RefInfo o) (ICExp o)
-&gt; Move' (RefInfo o) (ICExp o)
forall blk a. Cost -&gt; RefCreateEnv blk a -&gt; Move' blk a
</span><a href="Agda.Auto.NarrowingSearch.html#Move"><span class="hs-identifier hs-var">Move</span></a></span><span> </span><span class="annot"><span class="annottext">Cost
</span><span class="hs-number">0</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ICExp o -&gt; RefCreateEnv (RefInfo o) (ICExp o)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">ICExp o
</span><a href="#local-6989586621680774161"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-342"></span><span>
</span><span id="line-343"></span><span>
</span><span id="line-344"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680774706"><span class="annot"><a href="Agda.Auto.NarrowingSearch.html#Refinable"><span class="hs-identifier hs-type">Refinable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Auto.Syntax.html#ConstRef"><span class="hs-identifier hs-type">ConstRef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774706"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Auto.Syntax.html#RefInfo"><span class="hs-identifier hs-type">RefInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774706"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-345"></span><span> </span><span id="local-6989586621680774153"><span class="annot"><span class="annottext">refinements :: RefInfo o
-&gt; [RefInfo o]
-&gt; Metavar (ConstRef o) (RefInfo o)
-&gt; IO [Move' (RefInfo o) (ConstRef o)]
</span><a href="#local-6989586621680774153"><span class="hs-identifier hs-var hs-var hs-var hs-var">refinements</span></a></span></span><span> </span><span class="annot"><span class="annottext">RefInfo o
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Agda.Auto.Syntax.html#RICheckProjIndex"><span class="hs-identifier hs-type">RICheckProjIndex</span></a></span><span> </span><span id="local-6989586621680774151"><span class="annot"><span class="annottext">[ConstRef o]
</span><a href="#local-6989586621680774151"><span class="hs-identifier hs-var">projs</span></a></span></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">Metavar (ConstRef o) (RefInfo o)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Move' (RefInfo o) (ConstRef o)]
-&gt; IO [Move' (RefInfo o) (ConstRef o)]
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">([Move' (RefInfo o) (ConstRef o)]
 -&gt; IO [Move' (RefInfo o) (ConstRef o)])
-&gt; [Move' (RefInfo o) (ConstRef o)]
-&gt; IO [Move' (RefInfo o) (ConstRef o)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(ConstRef o -&gt; Move' (RefInfo o) (ConstRef o))
-&gt; [ConstRef o] -&gt; [Move' (RefInfo o) (ConstRef o)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Cost
-&gt; RefCreateEnv (RefInfo o) (ConstRef o)
-&gt; Move' (RefInfo o) (ConstRef o)
forall blk a. Cost -&gt; RefCreateEnv blk a -&gt; Move' blk a
</span><a href="Agda.Auto.NarrowingSearch.html#Move"><span class="hs-identifier hs-var">Move</span></a></span><span> </span><span class="annot"><span class="annottext">Cost
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">(RefCreateEnv (RefInfo o) (ConstRef o)
 -&gt; Move' (RefInfo o) (ConstRef o))
-&gt; (ConstRef o -&gt; RefCreateEnv (RefInfo o) (ConstRef o))
-&gt; ConstRef o
-&gt; Move' (RefInfo o) (ConstRef o)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ConstRef o -&gt; RefCreateEnv (RefInfo o) (ConstRef o)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[ConstRef o]
</span><a href="#local-6989586621680774151"><span class="hs-identifier hs-var">projs</span></a></span><span>
</span><span id="line-346"></span><span> </span><span class="annot"><a href="Agda.Auto.NarrowingSearch.html#refinements"><span class="hs-identifier hs-var">refinements</span></a></span><span> </span><span class="annot"><span class="annottext">RefInfo o
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[RefInfo o]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Metavar (ConstRef o) (RefInfo o)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IO [Move' (RefInfo o) (ConstRef o)]
forall a. HasCallStack =&gt; a
</span><a href="Agda.Utils.Impossible.html#__IMPOSSIBLE__"><span class="hs-identifier hs-var">__IMPOSSIBLE__</span></a></span><span>
</span><span id="line-347"></span><span>
</span><span id="line-348"></span><span>
</span><span id="line-349"></span><span class="hs-comment">-- ---------------------------------</span><span>
</span><span id="line-350"></span><span>
</span><span id="line-351"></span><span class="annot"><a href="Agda.Auto.SearchControl.html#costIncrease"><span class="hs-identifier hs-type">costIncrease</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Auto.SearchControl.html#costUnificationOccurs"><span class="hs-identifier hs-type">costUnificationOccurs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Auto.SearchControl.html#costUnification"><span class="hs-identifier hs-type">costUnification</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Auto.SearchControl.html#costAppVar"><span class="hs-identifier hs-type">costAppVar</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-352"></span><span>  </span><span class="annot"><a href="Agda.Auto.SearchControl.html#costAppVarUsed"><span class="hs-identifier hs-type">costAppVarUsed</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Auto.SearchControl.html#costAppHint"><span class="hs-identifier hs-type">costAppHint</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Auto.SearchControl.html#costAppHintUsed"><span class="hs-identifier hs-type">costAppHintUsed</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Auto.SearchControl.html#costAppRecCall"><span class="hs-identifier hs-type">costAppRecCall</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-353"></span><span>  </span><span class="annot"><a href="Agda.Auto.SearchControl.html#costAppRecCallUsed"><span class="hs-identifier hs-type">costAppRecCallUsed</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Auto.SearchControl.html#costAppConstructor"><span class="hs-identifier hs-type">costAppConstructor</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Auto.SearchControl.html#costAppConstructorSingle"><span class="hs-identifier hs-type">costAppConstructorSingle</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-354"></span><span>  </span><span class="annot"><a href="Agda.Auto.SearchControl.html#costAppExtraRef"><span class="hs-identifier hs-type">costAppExtraRef</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Auto.SearchControl.html#costLam"><span class="hs-identifier hs-type">costLam</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Auto.SearchControl.html#costLamUnfold"><span class="hs-identifier hs-type">costLamUnfold</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Auto.SearchControl.html#costPi"><span class="hs-identifier hs-type">costPi</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Auto.SearchControl.html#costSort"><span class="hs-identifier hs-type">costSort</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Auto.SearchControl.html#costIotaStep"><span class="hs-identifier hs-type">costIotaStep</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-355"></span><span>  </span><span class="annot"><a href="Agda.Auto.SearchControl.html#costInferredTypeUnkown"><span class="hs-identifier hs-type">costInferredTypeUnkown</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Auto.SearchControl.html#costAbsurdLam"><span class="hs-identifier hs-type">costAbsurdLam</span></a></span><span>
</span><span id="line-356"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Auto.NarrowingSearch.html#Cost"><span class="hs-identifier hs-type">Cost</span></a></span><span>
</span><span id="line-357"></span><span>
</span><span id="line-358"></span><span class="annot"><a href="Agda.Auto.SearchControl.html#costUnificationIf"><span class="hs-identifier hs-type">costUnificationIf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Auto.NarrowingSearch.html#Cost"><span class="hs-identifier hs-type">Cost</span></a></span><span>
</span><span id="line-359"></span><span id="costUnificationIf"><span class="annot"><span class="annottext">costUnificationIf :: Bool -&gt; Cost
</span><a href="Agda.Auto.SearchControl.html#costUnificationIf"><span class="hs-identifier hs-var hs-var">costUnificationIf</span></a></span></span><span> </span><span id="local-6989586621680774148"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680774148"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680774148"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Cost
</span><a href="Agda.Auto.SearchControl.html#costUnification"><span class="hs-identifier hs-var">costUnification</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Cost
</span><a href="Agda.Auto.SearchControl.html#costUnificationOccurs"><span class="hs-identifier hs-var">costUnificationOccurs</span></a></span><span>
</span><span id="line-360"></span><span>
</span><span id="line-361"></span><span id="costIncrease"><span class="annot"><span class="annottext">costIncrease :: Cost
</span><a href="Agda.Auto.SearchControl.html#costIncrease"><span class="hs-identifier hs-var hs-var">costIncrease</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Cost
</span><span class="hs-number">1000</span></span><span>
</span><span id="line-362"></span><span id="costUnificationOccurs"><span class="annot"><span class="annottext">costUnificationOccurs :: Cost
</span><a href="Agda.Auto.SearchControl.html#costUnificationOccurs"><span class="hs-identifier hs-var hs-var">costUnificationOccurs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Cost
</span><span class="hs-number">100</span></span><span> </span><span class="hs-comment">-- 1000001 -- 1 -- 100</span><span>
</span><span id="line-363"></span><span id="costUnification"><span class="annot"><span class="annottext">costUnification :: Cost
</span><a href="Agda.Auto.SearchControl.html#costUnification"><span class="hs-identifier hs-var hs-var">costUnification</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Cost
</span><span class="hs-number">0000</span></span><span>
</span><span id="line-364"></span><span id="costAppVar"><span class="annot"><span class="annottext">costAppVar :: Cost
</span><a href="Agda.Auto.SearchControl.html#costAppVar"><span class="hs-identifier hs-var hs-var">costAppVar</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Cost
</span><span class="hs-number">0000</span></span><span> </span><span class="hs-comment">-- 0, 1</span><span>
</span><span id="line-365"></span><span id="costAppVarUsed"><span class="annot"><span class="annottext">costAppVarUsed :: Cost
</span><a href="Agda.Auto.SearchControl.html#costAppVarUsed"><span class="hs-identifier hs-var hs-var">costAppVarUsed</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Cost
</span><span class="hs-number">1000</span></span><span> </span><span class="hs-comment">-- 5</span><span>
</span><span id="line-366"></span><span id="costAppHint"><span class="annot"><span class="annottext">costAppHint :: Cost
</span><a href="Agda.Auto.SearchControl.html#costAppHint"><span class="hs-identifier hs-var hs-var">costAppHint</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Cost
</span><span class="hs-number">3000</span></span><span> </span><span class="hs-comment">-- 2, 5</span><span>
</span><span id="line-367"></span><span id="costAppHintUsed"><span class="annot"><span class="annottext">costAppHintUsed :: Cost
</span><a href="Agda.Auto.SearchControl.html#costAppHintUsed"><span class="hs-identifier hs-var hs-var">costAppHintUsed</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Cost
</span><span class="hs-number">5000</span></span><span>
</span><span id="line-368"></span><span id="costAppRecCall"><span class="annot"><span class="annottext">costAppRecCall :: Cost
</span><a href="Agda.Auto.SearchControl.html#costAppRecCall"><span class="hs-identifier hs-var hs-var">costAppRecCall</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Cost
</span><span class="hs-number">0</span></span><span> </span><span class="hs-comment">-- 1000?</span><span>
</span><span id="line-369"></span><span id="costAppRecCallUsed"><span class="annot"><span class="annottext">costAppRecCallUsed :: Cost
</span><a href="Agda.Auto.SearchControl.html#costAppRecCallUsed"><span class="hs-identifier hs-var hs-var">costAppRecCallUsed</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Cost
</span><span class="hs-number">10000</span></span><span> </span><span class="hs-comment">-- 1000?</span><span>
</span><span id="line-370"></span><span id="costAppConstructor"><span class="annot"><span class="annottext">costAppConstructor :: Cost
</span><a href="Agda.Auto.SearchControl.html#costAppConstructor"><span class="hs-identifier hs-var hs-var">costAppConstructor</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Cost
</span><span class="hs-number">1000</span></span><span>
</span><span id="line-371"></span><span id="costAppConstructorSingle"><span class="annot"><span class="annottext">costAppConstructorSingle :: Cost
</span><a href="Agda.Auto.SearchControl.html#costAppConstructorSingle"><span class="hs-identifier hs-var hs-var">costAppConstructorSingle</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Cost
</span><span class="hs-number">0000</span></span><span>
</span><span id="line-372"></span><span id="costAppExtraRef"><span class="annot"><span class="annottext">costAppExtraRef :: Cost
</span><a href="Agda.Auto.SearchControl.html#costAppExtraRef"><span class="hs-identifier hs-var hs-var">costAppExtraRef</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Cost
</span><span class="hs-number">1000</span></span><span>
</span><span id="line-373"></span><span id="costLam"><span class="annot"><span class="annottext">costLam :: Cost
</span><a href="Agda.Auto.SearchControl.html#costLam"><span class="hs-identifier hs-var hs-var">costLam</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Cost
</span><span class="hs-number">0000</span></span><span> </span><span class="hs-comment">-- 1, 0</span><span>
</span><span id="line-374"></span><span id="costLamUnfold"><span class="annot"><span class="annottext">costLamUnfold :: Cost
</span><a href="Agda.Auto.SearchControl.html#costLamUnfold"><span class="hs-identifier hs-var hs-var">costLamUnfold</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Cost
</span><span class="hs-number">1000</span></span><span> </span><span class="hs-comment">-- 1, 0</span><span>
</span><span id="line-375"></span><span id="costPi"><span class="annot"><span class="annottext">costPi :: Cost
</span><a href="Agda.Auto.SearchControl.html#costPi"><span class="hs-identifier hs-var hs-var">costPi</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Cost
</span><span class="hs-number">1000003</span></span><span> </span><span class="hs-comment">-- 100 -- 5</span><span>
</span><span id="line-376"></span><span id="costSort"><span class="annot"><span class="annottext">costSort :: Cost
</span><a href="Agda.Auto.SearchControl.html#costSort"><span class="hs-identifier hs-var hs-var">costSort</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Cost
</span><span class="hs-number">1000004</span></span><span> </span><span class="hs-comment">-- 0</span><span>
</span><span id="line-377"></span><span id="costIotaStep"><span class="annot"><span class="annottext">costIotaStep :: Cost
</span><a href="Agda.Auto.SearchControl.html#costIotaStep"><span class="hs-identifier hs-var hs-var">costIotaStep</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Cost
</span><span class="hs-number">3000</span></span><span> </span><span class="hs-comment">-- 1000005 -- 2 -- 100</span><span>
</span><span id="line-378"></span><span id="costInferredTypeUnkown"><span class="annot"><span class="annottext">costInferredTypeUnkown :: Cost
</span><a href="Agda.Auto.SearchControl.html#costInferredTypeUnkown"><span class="hs-identifier hs-var hs-var">costInferredTypeUnkown</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Cost
</span><span class="hs-number">1000006</span></span><span> </span><span class="hs-comment">-- 100</span><span>
</span><span id="line-379"></span><span id="costAbsurdLam"><span class="annot"><span class="annottext">costAbsurdLam :: Cost
</span><a href="Agda.Auto.SearchControl.html#costAbsurdLam"><span class="hs-identifier hs-var hs-var">costAbsurdLam</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Cost
</span><span class="hs-number">0</span></span><span>
</span><span id="line-380"></span><span>
</span><span id="line-381"></span><span class="annot"><a href="Agda.Auto.SearchControl.html#costEqStep"><span class="hs-identifier hs-type">costEqStep</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Auto.SearchControl.html#costEqEnd"><span class="hs-identifier hs-type">costEqEnd</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Auto.SearchControl.html#costEqSym"><span class="hs-identifier hs-type">costEqSym</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Auto.SearchControl.html#costEqCong"><span class="hs-identifier hs-type">costEqCong</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Auto.NarrowingSearch.html#Cost"><span class="hs-identifier hs-type">Cost</span></a></span><span>
</span><span id="line-382"></span><span id="costEqStep"><span class="annot"><span class="annottext">costEqStep :: Cost
</span><a href="Agda.Auto.SearchControl.html#costEqStep"><span class="hs-identifier hs-var hs-var">costEqStep</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Cost
</span><span class="hs-number">2000</span></span><span>
</span><span id="line-383"></span><span id="costEqEnd"><span class="annot"><span class="annottext">costEqEnd :: Cost
</span><a href="Agda.Auto.SearchControl.html#costEqEnd"><span class="hs-identifier hs-var hs-var">costEqEnd</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Cost
</span><span class="hs-number">0</span></span><span>
</span><span id="line-384"></span><span id="costEqSym"><span class="annot"><span class="annottext">costEqSym :: Cost
</span><a href="Agda.Auto.SearchControl.html#costEqSym"><span class="hs-identifier hs-var hs-var">costEqSym</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Cost
</span><span class="hs-number">0</span></span><span>
</span><span id="line-385"></span><span id="costEqCong"><span class="annot"><span class="annottext">costEqCong :: Cost
</span><a href="Agda.Auto.SearchControl.html#costEqCong"><span class="hs-identifier hs-var hs-var">costEqCong</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Cost
</span><span class="hs-number">500</span></span><span>
</span><span id="line-386"></span><span>
</span><span id="line-387"></span><span class="annot"><a href="Agda.Auto.SearchControl.html#prioNo"><span class="hs-identifier hs-type">prioNo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Auto.SearchControl.html#prioTypeUnknown"><span class="hs-identifier hs-type">prioTypeUnknown</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Auto.SearchControl.html#prioTypecheckArgList"><span class="hs-identifier hs-type">prioTypecheckArgList</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Auto.SearchControl.html#prioInferredTypeUnknown"><span class="hs-identifier hs-type">prioInferredTypeUnknown</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-388"></span><span>  </span><span class="annot"><a href="Agda.Auto.SearchControl.html#prioCompBeta"><span class="hs-identifier hs-type">prioCompBeta</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Auto.SearchControl.html#prioCompBetaStructured"><span class="hs-identifier hs-type">prioCompBetaStructured</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Auto.SearchControl.html#prioCompareArgList"><span class="hs-identifier hs-type">prioCompareArgList</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Auto.SearchControl.html#prioCompIota"><span class="hs-identifier hs-type">prioCompIota</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-389"></span><span>  </span><span class="annot"><a href="Agda.Auto.SearchControl.html#prioCompChoice"><span class="hs-identifier hs-type">prioCompChoice</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Auto.SearchControl.html#prioCompUnif"><span class="hs-identifier hs-type">prioCompUnif</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Auto.SearchControl.html#prioCompCopy"><span class="hs-identifier hs-type">prioCompCopy</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Auto.SearchControl.html#prioNoIota"><span class="hs-identifier hs-type">prioNoIota</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Auto.SearchControl.html#prioAbsurdLambda"><span class="hs-identifier hs-type">prioAbsurdLambda</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-390"></span><span>  </span><span class="annot"><a href="Agda.Auto.SearchControl.html#prioProjIndex"><span class="hs-identifier hs-type">prioProjIndex</span></a></span><span>
</span><span id="line-391"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Auto.NarrowingSearch.html#Prio"><span class="hs-identifier hs-type">Prio</span></a></span><span>
</span><span id="line-392"></span><span id="prioNo"><span class="annot"><span class="annottext">prioNo :: Prio
</span><a href="Agda.Auto.SearchControl.html#prioNo"><span class="hs-identifier hs-var hs-var">prioNo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="annot"><span class="annottext">Prio
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-393"></span><span id="prioTypeUnknown"><span class="annot"><span class="annottext">prioTypeUnknown :: Prio
</span><a href="Agda.Auto.SearchControl.html#prioTypeUnknown"><span class="hs-identifier hs-var hs-var">prioTypeUnknown</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Prio
</span><span class="hs-number">0</span></span><span>
</span><span id="line-394"></span><span id="prioTypecheckArgList"><span class="annot"><span class="annottext">prioTypecheckArgList :: Prio
</span><a href="Agda.Auto.SearchControl.html#prioTypecheckArgList"><span class="hs-identifier hs-var hs-var">prioTypecheckArgList</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Prio
</span><span class="hs-number">3000</span></span><span>
</span><span id="line-395"></span><span id="prioInferredTypeUnknown"><span class="annot"><span class="annottext">prioInferredTypeUnknown :: Prio
</span><a href="Agda.Auto.SearchControl.html#prioInferredTypeUnknown"><span class="hs-identifier hs-var hs-var">prioInferredTypeUnknown</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Prio
</span><span class="hs-number">4000</span></span><span>
</span><span id="line-396"></span><span id="prioCompBeta"><span class="annot"><span class="annottext">prioCompBeta :: Prio
</span><a href="Agda.Auto.SearchControl.html#prioCompBeta"><span class="hs-identifier hs-var hs-var">prioCompBeta</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Prio
</span><span class="hs-number">4000</span></span><span>
</span><span id="line-397"></span><span id="prioCompBetaStructured"><span class="annot"><span class="annottext">prioCompBetaStructured :: Prio
</span><a href="Agda.Auto.SearchControl.html#prioCompBetaStructured"><span class="hs-identifier hs-var hs-var">prioCompBetaStructured</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Prio
</span><span class="hs-number">4000</span></span><span>
</span><span id="line-398"></span><span id="prioCompIota"><span class="annot"><span class="annottext">prioCompIota :: Prio
</span><a href="Agda.Auto.SearchControl.html#prioCompIota"><span class="hs-identifier hs-var hs-var">prioCompIota</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Prio
</span><span class="hs-number">4000</span></span><span>
</span><span id="line-399"></span><span id="prioCompChoice"><span class="annot"><span class="annottext">prioCompChoice :: Prio
</span><a href="Agda.Auto.SearchControl.html#prioCompChoice"><span class="hs-identifier hs-var hs-var">prioCompChoice</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Prio
</span><span class="hs-number">5000</span></span><span> </span><span class="hs-comment">-- 700 -- 5000</span><span>
</span><span id="line-400"></span><span id="prioCompUnif"><span class="annot"><span class="annottext">prioCompUnif :: Prio
</span><a href="Agda.Auto.SearchControl.html#prioCompUnif"><span class="hs-identifier hs-var hs-var">prioCompUnif</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Prio
</span><span class="hs-number">6000</span></span><span> </span><span class="hs-comment">-- 2</span><span>
</span><span id="line-401"></span><span id="prioCompCopy"><span class="annot"><span class="annottext">prioCompCopy :: Prio
</span><a href="Agda.Auto.SearchControl.html#prioCompCopy"><span class="hs-identifier hs-var hs-var">prioCompCopy</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Prio
</span><span class="hs-number">8000</span></span><span>
</span><span id="line-402"></span><span id="prioCompareArgList"><span class="annot"><span class="annottext">prioCompareArgList :: Prio
</span><a href="Agda.Auto.SearchControl.html#prioCompareArgList"><span class="hs-identifier hs-var hs-var">prioCompareArgList</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Prio
</span><span class="hs-number">7000</span></span><span> </span><span class="hs-comment">-- 5 -- 2</span><span>
</span><span id="line-403"></span><span id="prioNoIota"><span class="annot"><span class="annottext">prioNoIota :: Prio
</span><a href="Agda.Auto.SearchControl.html#prioNoIota"><span class="hs-identifier hs-var hs-var">prioNoIota</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Prio
</span><span class="hs-number">500</span></span><span> </span><span class="hs-comment">-- 500</span><span>
</span><span id="line-404"></span><span id="prioAbsurdLambda"><span class="annot"><span class="annottext">prioAbsurdLambda :: Prio
</span><a href="Agda.Auto.SearchControl.html#prioAbsurdLambda"><span class="hs-identifier hs-var hs-var">prioAbsurdLambda</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Prio
</span><span class="hs-number">1000</span></span><span>
</span><span id="line-405"></span><span>
</span><span id="line-406"></span><span id="prioProjIndex"><span class="annot"><span class="annottext">prioProjIndex :: Prio
</span><a href="Agda.Auto.SearchControl.html#prioProjIndex"><span class="hs-identifier hs-var hs-var">prioProjIndex</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Prio
</span><span class="hs-number">3000</span></span><span>
</span><span id="line-407"></span><span>
</span><span id="line-408"></span><span class="annot"><a href="Agda.Auto.SearchControl.html#prioTypecheck"><span class="hs-identifier hs-type">prioTypecheck</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Auto.NarrowingSearch.html#Prio"><span class="hs-identifier hs-type">Prio</span></a></span><span>
</span><span id="line-409"></span><span id="prioTypecheck"><span class="annot"><span class="annottext">prioTypecheck :: Bool -&gt; Prio
</span><a href="Agda.Auto.SearchControl.html#prioTypecheck"><span class="hs-identifier hs-var hs-var">prioTypecheck</span></a></span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Prio
</span><span class="hs-number">1000</span></span><span>
</span><span id="line-410"></span><span class="annot"><a href="Agda.Auto.SearchControl.html#prioTypecheck"><span class="hs-identifier hs-var">prioTypecheck</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Prio
</span><span class="hs-number">0</span></span><span>
</span><span id="line-411"></span><span>
</span><span id="line-412"></span><span class="hs-comment">-- ---------------------------------</span><span>
</span><span id="line-413"></span><span>
</span><span id="line-414"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680774698"><span class="annot"><a href="Agda.Auto.NarrowingSearch.html#Trav"><span class="hs-identifier hs-type">Trav</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774698"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Agda.Auto.NarrowingSearch.html#Trav"><span class="hs-identifier hs-type">Trav</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621680774698"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-415"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="Block"><span class="annot"><a href="Agda.Auto.NarrowingSearch.html#Block"><span class="hs-identifier hs-var">Block</span></a></span></span><span> </span><span id="local-6989586621680774698"><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621680774698"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Agda.Auto.NarrowingSearch.html#Block"><span class="hs-identifier hs-type">Block</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774698"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-416"></span><span>  </span><span id="local-6989586621680774121"><span class="annot"><span class="annottext">trav :: forall (m :: * -&gt; *).
Monad m =&gt;
(forall b. TravWith b (Block [a]) =&gt; MM b (Block b) -&gt; m ())
-&gt; [a] -&gt; m ()
</span><a href="Agda.Auto.NarrowingSearch.html#trav"><span class="hs-identifier hs-var hs-var hs-var hs-var">trav</span></a></span></span><span> </span><span class="annot"><span class="annottext">forall b. TravWith b (Block [a]) =&gt; MM b (Block b) -&gt; m ()
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; m ()
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-417"></span><span>  </span><span class="annot"><a href="Agda.Auto.NarrowingSearch.html#trav"><span class="hs-identifier hs-var">trav</span></a></span><span> </span><span id="local-6989586621680774119"><span class="annot"><span class="annottext">forall b. TravWith b (Block [a]) =&gt; MM b (Block b) -&gt; m ()
</span><a href="#local-6989586621680774119"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680774118"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680774118"><span class="hs-identifier hs-var">x</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621680774117"><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621680774117"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall b. TravWith b (Block a) =&gt; MM b (Block b) -&gt; m ())
-&gt; a -&gt; m ()
forall a (m :: * -&gt; *).
(Trav a, Monad m) =&gt;
(forall b. TravWith b (Block a) =&gt; MM b (Block b) -&gt; m ())
-&gt; a -&gt; m ()
</span><a href="Agda.Auto.NarrowingSearch.html#trav"><span class="hs-identifier hs-var">trav</span></a></span><span> </span><span class="annot"><span class="annottext">forall b. TravWith b (Block a) =&gt; MM b (Block b) -&gt; m ()
forall b. TravWith b (Block [a]) =&gt; MM b (Block b) -&gt; m ()
</span><a href="#local-6989586621680774119"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680774118"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">m () -&gt; m () -&gt; m ()
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">(forall b. TravWith b (Block [a]) =&gt; MM b (Block b) -&gt; m ())
-&gt; [a] -&gt; m ()
forall a (m :: * -&gt; *).
(Trav a, Monad m) =&gt;
(forall b. TravWith b (Block a) =&gt; MM b (Block b) -&gt; m ())
-&gt; a -&gt; m ()
</span><a href="Agda.Auto.NarrowingSearch.html#trav"><span class="hs-identifier hs-var">trav</span></a></span><span> </span><span class="annot"><span class="annottext">forall b. TravWith b (Block [a]) =&gt; MM b (Block b) -&gt; m ()
</span><a href="#local-6989586621680774119"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621680774117"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-418"></span><span>
</span><span id="line-419"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680774690"><span class="annot"><a href="Agda.Auto.NarrowingSearch.html#Trav"><span class="hs-identifier hs-type">Trav</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Auto.Syntax.html#MId"><span class="hs-identifier hs-type">MId</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Auto.Syntax.html#CExp"><span class="hs-identifier hs-type">CExp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774690"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-420"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="Block"><span class="annot"><a href="Agda.Auto.NarrowingSearch.html#Block"><span class="hs-identifier hs-var">Block</span></a></span></span><span> </span><span id="local-6989586621680774690"><span class="hs-special">(</span><span class="annot"><a href="Agda.Auto.Syntax.html#MId"><span class="hs-identifier hs-type">MId</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Auto.Syntax.html#CExp"><span class="hs-identifier hs-type">CExp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774690"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Agda.Auto.Syntax.html#RefInfo"><span class="hs-identifier hs-type">RefInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774690"><span class="hs-identifier hs-type">o</span></a></span><span>
</span><span id="line-421"></span><span>  </span><span id="local-6989586621680774098"><span class="annot"><span class="annottext">trav :: forall (m :: * -&gt; *).
Monad m =&gt;
(forall b.
 TravWith b (Block (MId, CExp o)) =&gt;
 MM b (Block b) -&gt; m ())
-&gt; (MId, CExp o) -&gt; m ()
</span><a href="#local-6989586621680774098"><span class="hs-identifier hs-var hs-var hs-var hs-var">trav</span></a></span></span><span> </span><span id="local-6989586621680774097"><span class="annot"><span class="annottext">forall b.
TravWith b (Block (MId, CExp o)) =&gt;
MM b (Block b) -&gt; m ()
</span><a href="#local-6989586621680774097"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MId
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680774096"><span class="annot"><span class="annottext">CExp o
</span><a href="#local-6989586621680774096"><span class="hs-identifier hs-var">ce</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall b. TravWith b (Block (CExp o)) =&gt; MM b (Block b) -&gt; m ())
-&gt; CExp o -&gt; m ()
forall a (m :: * -&gt; *).
(Trav a, Monad m) =&gt;
(forall b. TravWith b (Block a) =&gt; MM b (Block b) -&gt; m ())
-&gt; a -&gt; m ()
</span><a href="Agda.Auto.NarrowingSearch.html#trav"><span class="hs-identifier hs-var">trav</span></a></span><span> </span><span class="annot"><span class="annottext">forall b.
TravWith b (Block (MId, CExp o)) =&gt;
MM b (Block b) -&gt; m ()
forall b. TravWith b (Block (CExp o)) =&gt; MM b (Block b) -&gt; m ()
</span><a href="#local-6989586621680774097"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">CExp o
</span><a href="#local-6989586621680774096"><span class="hs-identifier hs-var">ce</span></a></span><span>
</span><span id="line-422"></span><span>
</span><span id="line-423"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680774687"><span id="local-6989586621680774688"><span class="annot"><a href="Agda.Auto.NarrowingSearch.html#Trav"><span class="hs-identifier hs-type">Trav</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Auto.Syntax.html#TrBr"><span class="hs-identifier hs-type">TrBr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774688"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774687"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-424"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="Block"><span class="annot"><a href="Agda.Auto.NarrowingSearch.html#Block"><span class="hs-identifier hs-var">Block</span></a></span></span><span> </span><span id="local-6989586621680774687"><span id="local-6989586621680774688"><span class="hs-special">(</span><span class="annot"><a href="Agda.Auto.Syntax.html#TrBr"><span class="hs-identifier hs-type">TrBr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774688"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774687"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Agda.Auto.Syntax.html#RefInfo"><span class="hs-identifier hs-type">RefInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774687"><span class="hs-identifier hs-type">o</span></a></span><span>
</span><span id="line-425"></span><span>  </span><span id="local-6989586621680774077"><span class="annot"><span class="annottext">trav :: forall (m :: * -&gt; *).
Monad m =&gt;
(forall b. TravWith b (Block (TrBr a o)) =&gt; MM b (Block b) -&gt; m ())
-&gt; TrBr a o -&gt; m ()
</span><a href="#local-6989586621680774077"><span class="hs-identifier hs-var hs-var hs-var hs-var">trav</span></a></span></span><span> </span><span id="local-6989586621680774076"><span class="annot"><span class="annottext">forall b. TravWith b (Block (TrBr a o)) =&gt; MM b (Block b) -&gt; m ()
</span><a href="#local-6989586621680774076"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Auto.Syntax.html#TrBr"><span class="hs-identifier hs-type">TrBr</span></a></span><span> </span><span id="local-6989586621680774074"><span class="annot"><span class="annottext">[MExp o]
</span><a href="#local-6989586621680774074"><span class="hs-identifier hs-var">es</span></a></span></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall b. TravWith b (Block [MExp o]) =&gt; MM b (Block b) -&gt; m ())
-&gt; [MExp o] -&gt; m ()
forall a (m :: * -&gt; *).
(Trav a, Monad m) =&gt;
(forall b. TravWith b (Block a) =&gt; MM b (Block b) -&gt; m ())
-&gt; a -&gt; m ()
</span><a href="Agda.Auto.NarrowingSearch.html#trav"><span class="hs-identifier hs-var">trav</span></a></span><span> </span><span class="annot"><span class="annottext">forall b. TravWith b (Block [MExp o]) =&gt; MM b (Block b) -&gt; m ()
forall b. TravWith b (Block (TrBr a o)) =&gt; MM b (Block b) -&gt; m ()
</span><a href="#local-6989586621680774076"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">[MExp o]
</span><a href="#local-6989586621680774074"><span class="hs-identifier hs-var">es</span></a></span><span>
</span><span id="line-426"></span><span>
</span><span id="line-427"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680774679"><span class="annot"><a href="Agda.Auto.NarrowingSearch.html#Trav"><span class="hs-identifier hs-type">Trav</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Auto.Syntax.html#Exp"><span class="hs-identifier hs-type">Exp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774679"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-428"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="Block"><span class="annot"><a href="Agda.Auto.NarrowingSearch.html#Block"><span class="hs-identifier hs-var">Block</span></a></span></span><span> </span><span id="local-6989586621680774679"><span class="hs-special">(</span><span class="annot"><a href="Agda.Auto.Syntax.html#Exp"><span class="hs-identifier hs-type">Exp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774679"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Agda.Auto.Syntax.html#RefInfo"><span class="hs-identifier hs-type">RefInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774679"><span class="hs-identifier hs-type">o</span></a></span><span>
</span><span id="line-429"></span><span>  </span><span id="local-6989586621680774044"><span class="annot"><span class="annottext">trav :: forall (m :: * -&gt; *).
Monad m =&gt;
(forall b. TravWith b (Block (Exp o)) =&gt; MM b (Block b) -&gt; m ())
-&gt; Exp o -&gt; m ()
</span><a href="#local-6989586621680774044"><span class="hs-identifier hs-var hs-var hs-var hs-var">trav</span></a></span></span><span> </span><span id="local-6989586621680774043"><span class="annot"><span class="annottext">forall b. TravWith b (Block (Exp o)) =&gt; MM b (Block b) -&gt; m ()
</span><a href="#local-6989586621680774043"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-430"></span><span>    </span><span class="annot"><a href="Agda.Auto.Syntax.html#App"><span class="hs-identifier hs-type">App</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (UId o)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">OKHandle (RefInfo o)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Elr o
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680774042"><span class="annot"><span class="annottext">MArgList o
</span><a href="#local-6989586621680774042"><span class="hs-identifier hs-var">args</span></a></span></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(forall b.
 TravWith b (Block (MArgList o)) =&gt;
 MM b (Block b) -&gt; m ())
-&gt; MArgList o -&gt; m ()
forall a (m :: * -&gt; *).
(Trav a, Monad m) =&gt;
(forall b. TravWith b (Block a) =&gt; MM b (Block b) -&gt; m ())
-&gt; a -&gt; m ()
</span><a href="Agda.Auto.NarrowingSearch.html#trav"><span class="hs-identifier hs-var">trav</span></a></span><span> </span><span class="annot"><span class="annottext">forall b. TravWith b (Block (MArgList o)) =&gt; MM b (Block b) -&gt; m ()
forall b. TravWith b (Block (Exp o)) =&gt; MM b (Block b) -&gt; m ()
</span><a href="#local-6989586621680774043"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">MArgList o
</span><a href="#local-6989586621680774042"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-431"></span><span>    </span><span class="annot"><a href="Agda.Auto.Syntax.html#Lam"><span class="hs-identifier hs-type">Lam</span></a></span><span> </span><span class="annot"><span class="annottext">Hiding
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Auto.Syntax.html#Abs"><span class="hs-identifier hs-type">Abs</span></a></span><span> </span><span class="annot"><span class="annottext">MId
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680774034"><span class="annot"><span class="annottext">MExp o
</span><a href="#local-6989586621680774034"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(forall b. TravWith b (Block (MExp o)) =&gt; MM b (Block b) -&gt; m ())
-&gt; MExp o -&gt; m ()
forall a (m :: * -&gt; *).
(Trav a, Monad m) =&gt;
(forall b. TravWith b (Block a) =&gt; MM b (Block b) -&gt; m ())
-&gt; a -&gt; m ()
</span><a href="Agda.Auto.NarrowingSearch.html#trav"><span class="hs-identifier hs-var">trav</span></a></span><span> </span><span class="annot"><span class="annottext">forall b. TravWith b (Block (MExp o)) =&gt; MM b (Block b) -&gt; m ()
forall b. TravWith b (Block (Exp o)) =&gt; MM b (Block b) -&gt; m ()
</span><a href="#local-6989586621680774043"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">MExp o
</span><a href="#local-6989586621680774034"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-432"></span><span>    </span><span class="annot"><a href="Agda.Auto.Syntax.html#Pi"><span class="hs-identifier hs-type">Pi</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (UId o)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Hiding
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680774026"><span class="annot"><span class="annottext">MExp o
</span><a href="#local-6989586621680774026"><span class="hs-identifier hs-var">it</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Auto.Syntax.html#Abs"><span class="hs-identifier hs-type">Abs</span></a></span><span> </span><span class="annot"><span class="annottext">MId
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680774025"><span class="annot"><span class="annottext">MExp o
</span><a href="#local-6989586621680774025"><span class="hs-identifier hs-var">ot</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(forall b. TravWith b (Block (MExp o)) =&gt; MM b (Block b) -&gt; m ())
-&gt; MExp o -&gt; m ()
forall a (m :: * -&gt; *).
(Trav a, Monad m) =&gt;
(forall b. TravWith b (Block a) =&gt; MM b (Block b) -&gt; m ())
-&gt; a -&gt; m ()
</span><a href="Agda.Auto.NarrowingSearch.html#trav"><span class="hs-identifier hs-var">trav</span></a></span><span> </span><span class="annot"><span class="annottext">forall b. TravWith b (Block (MExp o)) =&gt; MM b (Block b) -&gt; m ()
forall b. TravWith b (Block (Exp o)) =&gt; MM b (Block b) -&gt; m ()
</span><a href="#local-6989586621680774043"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">MExp o
</span><a href="#local-6989586621680774026"><span class="hs-identifier hs-var">it</span></a></span><span> </span><span class="annot"><span class="annottext">m () -&gt; m () -&gt; m ()
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">(forall b. TravWith b (Block (MExp o)) =&gt; MM b (Block b) -&gt; m ())
-&gt; MExp o -&gt; m ()
forall a (m :: * -&gt; *).
(Trav a, Monad m) =&gt;
(forall b. TravWith b (Block a) =&gt; MM b (Block b) -&gt; m ())
-&gt; a -&gt; m ()
</span><a href="Agda.Auto.NarrowingSearch.html#trav"><span class="hs-identifier hs-var">trav</span></a></span><span> </span><span class="annot"><span class="annottext">forall b. TravWith b (Block (MExp o)) =&gt; MM b (Block b) -&gt; m ()
forall b. TravWith b (Block (Exp o)) =&gt; MM b (Block b) -&gt; m ()
</span><a href="#local-6989586621680774043"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">MExp o
</span><a href="#local-6989586621680774025"><span class="hs-identifier hs-var">ot</span></a></span><span>
</span><span id="line-433"></span><span>    </span><span class="annot"><a href="Agda.Auto.Syntax.html#Sort"><span class="hs-identifier hs-type">Sort</span></a></span><span> </span><span class="annot"><span class="annottext">Sort
</span><span class="hs-identifier">_</span></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; m ()
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-434"></span><span>    </span><span class="annot"><a href="Agda.Auto.Syntax.html#AbsurdLambda"><span class="hs-identifier hs-type">AbsurdLambda</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; m ()
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-435"></span><span>
</span><span id="line-436"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680774675"><span class="annot"><a href="Agda.Auto.NarrowingSearch.html#Trav"><span class="hs-identifier hs-type">Trav</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Auto.Syntax.html#ArgList"><span class="hs-identifier hs-type">ArgList</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774675"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-437"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="Block"><span class="annot"><a href="Agda.Auto.NarrowingSearch.html#Block"><span class="hs-identifier hs-var">Block</span></a></span></span><span> </span><span id="local-6989586621680774675"><span class="hs-special">(</span><span class="annot"><a href="Agda.Auto.Syntax.html#ArgList"><span class="hs-identifier hs-type">ArgList</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774675"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Agda.Auto.Syntax.html#RefInfo"><span class="hs-identifier hs-type">RefInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680774675"><span class="hs-identifier hs-type">o</span></a></span><span>
</span><span id="line-438"></span><span>  </span><span id="local-6989586621680773987"><span class="annot"><span class="annottext">trav :: forall (m :: * -&gt; *).
Monad m =&gt;
(forall b.
 TravWith b (Block (ArgList o)) =&gt;
 MM b (Block b) -&gt; m ())
-&gt; ArgList o -&gt; m ()
</span><a href="#local-6989586621680773987"><span class="hs-identifier hs-var hs-var hs-var hs-var">trav</span></a></span></span><span> </span><span class="annot"><span class="annottext">forall b. TravWith b (Block (ArgList o)) =&gt; MM b (Block b) -&gt; m ()
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">ArgList o
</span><a href="Agda.Auto.Syntax.html#ALNil"><span class="hs-identifier hs-var">ALNil</span></a></span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; m ()
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-439"></span><span>  </span><span class="annot"><a href="Agda.Auto.NarrowingSearch.html#trav"><span class="hs-identifier hs-var">trav</span></a></span><span> </span><span id="local-6989586621680773986"><span class="annot"><span class="annottext">forall b. TravWith b (Block (ArgList o)) =&gt; MM b (Block b) -&gt; m ()
</span><a href="#local-6989586621680773986"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Auto.Syntax.html#ALCons"><span class="hs-identifier hs-type">ALCons</span></a></span><span> </span><span class="annot"><span class="annottext">Hiding
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680773985"><span class="annot"><span class="annottext">MExp o
</span><a href="#local-6989586621680773985"><span class="hs-identifier hs-var">arg</span></a></span></span><span> </span><span id="local-6989586621680773984"><span class="annot"><span class="annottext">MArgList o
</span><a href="#local-6989586621680773984"><span class="hs-identifier hs-var">args</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall b. TravWith b (Block (MExp o)) =&gt; MM b (Block b) -&gt; m ())
-&gt; MExp o -&gt; m ()
forall a (m :: * -&gt; *).
(Trav a, Monad m) =&gt;
(forall b. TravWith b (Block a) =&gt; MM b (Block b) -&gt; m ())
-&gt; a -&gt; m ()
</span><a href="Agda.Auto.NarrowingSearch.html#trav"><span class="hs-identifier hs-var">trav</span></a></span><span> </span><span class="annot"><span class="annottext">forall b. TravWith b (Block (MExp o)) =&gt; MM b (Block b) -&gt; m ()
forall b. TravWith b (Block (ArgList o)) =&gt; MM b (Block b) -&gt; m ()
</span><a href="#local-6989586621680773986"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">MExp o
</span><a href="#local-6989586621680773985"><span class="hs-identifier hs-var">arg</span></a></span><span> </span><span class="annot"><span class="annottext">m () -&gt; m () -&gt; m ()
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">(forall b.
 TravWith b (Block (MArgList o)) =&gt;
 MM b (Block b) -&gt; m ())
-&gt; MArgList o -&gt; m ()
forall a (m :: * -&gt; *).
(Trav a, Monad m) =&gt;
(forall b. TravWith b (Block a) =&gt; MM b (Block b) -&gt; m ())
-&gt; a -&gt; m ()
</span><a href="Agda.Auto.NarrowingSearch.html#trav"><span class="hs-identifier hs-var">trav</span></a></span><span> </span><span class="annot"><span class="annottext">forall b. TravWith b (Block (MArgList o)) =&gt; MM b (Block b) -&gt; m ()
forall b. TravWith b (Block (ArgList o)) =&gt; MM b (Block b) -&gt; m ()
</span><a href="#local-6989586621680773986"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">MArgList o
</span><a href="#local-6989586621680773984"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-440"></span><span>  </span><span class="annot"><a href="Agda.Auto.NarrowingSearch.html#trav"><span class="hs-identifier hs-var">trav</span></a></span><span> </span><span id="local-6989586621680773969"><span class="annot"><span class="annottext">forall b. TravWith b (Block (ArgList o)) =&gt; MM b (Block b) -&gt; m ()
</span><a href="#local-6989586621680773969"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Auto.Syntax.html#ALProj"><span class="hs-identifier hs-type">ALProj</span></a></span><span> </span><span id="local-6989586621680773968"><span class="annot"><span class="annottext">MArgList o
</span><a href="#local-6989586621680773968"><span class="hs-identifier hs-var">eas</span></a></span></span><span> </span><span class="annot"><span class="annottext">MM (ConstRef o) (RefInfo o)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Hiding
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680773967"><span class="annot"><span class="annottext">MArgList o
</span><a href="#local-6989586621680773967"><span class="hs-keyword hs-var">as</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall b.
 TravWith b (Block (MArgList o)) =&gt;
 MM b (Block b) -&gt; m ())
-&gt; MArgList o -&gt; m ()
forall a (m :: * -&gt; *).
(Trav a, Monad m) =&gt;
(forall b. TravWith b (Block a) =&gt; MM b (Block b) -&gt; m ())
-&gt; a -&gt; m ()
</span><a href="Agda.Auto.NarrowingSearch.html#trav"><span class="hs-identifier hs-var">trav</span></a></span><span> </span><span class="annot"><span class="annottext">forall b. TravWith b (Block (MArgList o)) =&gt; MM b (Block b) -&gt; m ()
forall b. TravWith b (Block (ArgList o)) =&gt; MM b (Block b) -&gt; m ()
</span><a href="#local-6989586621680773969"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">MArgList o
</span><a href="#local-6989586621680773968"><span class="hs-identifier hs-var">eas</span></a></span><span> </span><span class="annot"><span class="annottext">m () -&gt; m () -&gt; m ()
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">(forall b.
 TravWith b (Block (MArgList o)) =&gt;
 MM b (Block b) -&gt; m ())
-&gt; MArgList o -&gt; m ()
forall a (m :: * -&gt; *).
(Trav a, Monad m) =&gt;
(forall b. TravWith b (Block a) =&gt; MM b (Block b) -&gt; m ())
-&gt; a -&gt; m ()
</span><a href="Agda.Auto.NarrowingSearch.html#trav"><span class="hs-identifier hs-var">trav</span></a></span><span> </span><span class="annot"><span class="annottext">forall b. TravWith b (Block (MArgList o)) =&gt; MM b (Block b) -&gt; m ()
forall b. TravWith b (Block (ArgList o)) =&gt; MM b (Block b) -&gt; m ()
</span><a href="#local-6989586621680773969"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">MArgList o
</span><a href="#local-6989586621680773967"><span class="hs-keyword hs-var">as</span></a></span><span>
</span><span id="line-441"></span><span>  </span><span class="annot"><a href="Agda.Auto.NarrowingSearch.html#trav"><span class="hs-identifier hs-var">trav</span></a></span><span> </span><span id="local-6989586621680773952"><span class="annot"><span class="annottext">forall b. TravWith b (Block (ArgList o)) =&gt; MM b (Block b) -&gt; m ()
</span><a href="#local-6989586621680773952"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Auto.Syntax.html#ALConPar"><span class="hs-identifier hs-type">ALConPar</span></a></span><span> </span><span id="local-6989586621680773950"><span class="annot"><span class="annottext">MArgList o
</span><a href="#local-6989586621680773950"><span class="hs-identifier hs-var">args</span></a></span></span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall b.
 TravWith b (Block (MArgList o)) =&gt;
 MM b (Block b) -&gt; m ())
-&gt; MArgList o -&gt; m ()
forall a (m :: * -&gt; *).
(Trav a, Monad m) =&gt;
(forall b. TravWith b (Block a) =&gt; MM b (Block b) -&gt; m ())
-&gt; a -&gt; m ()
</span><a href="Agda.Auto.NarrowingSearch.html#trav"><span class="hs-identifier hs-var">trav</span></a></span><span> </span><span class="annot"><span class="annottext">forall b. TravWith b (Block (MArgList o)) =&gt; MM b (Block b) -&gt; m ()
forall b. TravWith b (Block (ArgList o)) =&gt; MM b (Block b) -&gt; m ()
</span><a href="#local-6989586621680773952"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">MArgList o
</span><a href="#local-6989586621680773950"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-442"></span><span>
</span><span id="line-443"></span><span class="hs-comment">-- ---------------------------------</span><span>
</span><span id="line-444"></span></pre></body></html>